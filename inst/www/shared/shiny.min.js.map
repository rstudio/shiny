{
  "version": 3,
  "sources": ["globals:jquery", "../../../srcts/node_modules/core-js/internals/global.js", "../../../srcts/node_modules/core-js/internals/fails.js", "../../../srcts/node_modules/core-js/internals/descriptors.js", "../../../srcts/node_modules/core-js/internals/object-property-is-enumerable.js", "../../../srcts/node_modules/core-js/internals/create-property-descriptor.js", "../../../srcts/node_modules/core-js/internals/classof-raw.js", "../../../srcts/node_modules/core-js/internals/indexed-object.js", "../../../srcts/node_modules/core-js/internals/require-object-coercible.js", "../../../srcts/node_modules/core-js/internals/to-indexed-object.js", "../../../srcts/node_modules/core-js/internals/is-object.js", "../../../srcts/node_modules/core-js/internals/to-primitive.js", "../../../srcts/node_modules/core-js/internals/has.js", "../../../srcts/node_modules/core-js/internals/document-create-element.js", "../../../srcts/node_modules/core-js/internals/ie8-dom-define.js", "../../../srcts/node_modules/core-js/internals/object-get-own-property-descriptor.js", "../../../srcts/node_modules/core-js/internals/an-object.js", "../../../srcts/node_modules/core-js/internals/object-define-property.js", "../../../srcts/node_modules/core-js/internals/create-non-enumerable-property.js", "../../../srcts/node_modules/core-js/internals/set-global.js", "../../../srcts/node_modules/core-js/internals/shared-store.js", "../../../srcts/node_modules/core-js/internals/inspect-source.js", "../../../srcts/node_modules/core-js/internals/native-weak-map.js", "../../../srcts/node_modules/core-js/internals/is-pure.js", "../../../srcts/node_modules/core-js/internals/shared.js", "../../../srcts/node_modules/core-js/internals/uid.js", "../../../srcts/node_modules/core-js/internals/shared-key.js", "../../../srcts/node_modules/core-js/internals/hidden-keys.js", "../../../srcts/node_modules/core-js/internals/internal-state.js", "../../../srcts/node_modules/core-js/internals/redefine.js", "../../../srcts/node_modules/core-js/internals/path.js", "../../../srcts/node_modules/core-js/internals/get-built-in.js", "../../../srcts/node_modules/core-js/internals/to-integer.js", "../../../srcts/node_modules/core-js/internals/to-length.js", "../../../srcts/node_modules/core-js/internals/to-absolute-index.js", "../../../srcts/node_modules/core-js/internals/array-includes.js", "../../../srcts/node_modules/core-js/internals/object-keys-internal.js", "../../../srcts/node_modules/core-js/internals/enum-bug-keys.js", "../../../srcts/node_modules/core-js/internals/object-get-own-property-names.js", "../../../srcts/node_modules/core-js/internals/object-get-own-property-symbols.js", "../../../srcts/node_modules/core-js/internals/own-keys.js", "../../../srcts/node_modules/core-js/internals/copy-constructor-properties.js", "../../../srcts/node_modules/core-js/internals/is-forced.js", "../../../srcts/node_modules/core-js/internals/export.js", "../../../srcts/node_modules/core-js/internals/array-method-is-strict.js", "../../../srcts/node_modules/core-js/internals/whitespaces.js", "../../../srcts/node_modules/core-js/internals/string-trim.js", "../../../srcts/node_modules/core-js/internals/number-parse-int.js", "../../../srcts/node_modules/core-js/internals/is-array.js", "../../../srcts/node_modules/core-js/internals/to-object.js", "../../../srcts/node_modules/core-js/internals/create-property.js", "../../../srcts/node_modules/core-js/internals/native-symbol.js", "../../../srcts/node_modules/core-js/internals/use-symbol-as-uid.js", "../../../srcts/node_modules/core-js/internals/well-known-symbol.js", "../../../srcts/node_modules/core-js/internals/array-species-create.js", "../../../srcts/node_modules/core-js/internals/engine-user-agent.js", "../../../srcts/node_modules/core-js/internals/engine-v8-version.js", "../../../srcts/node_modules/core-js/internals/array-method-has-species-support.js", "../../../srcts/node_modules/core-js/internals/this-number-value.js", "../../../srcts/node_modules/core-js/internals/object-keys.js", "../../../srcts/node_modules/core-js/internals/to-string-tag-support.js", "../../../srcts/node_modules/core-js/internals/classof.js", "../../../srcts/node_modules/core-js/internals/object-to-string.js", "../../../srcts/node_modules/core-js/internals/number-parse-float.js", "../../../srcts/node_modules/core-js/internals/regexp-flags.js", "../../../srcts/node_modules/core-js/internals/regexp-sticky-helpers.js", "../../../srcts/node_modules/core-js/internals/regexp-exec.js", "../../../srcts/node_modules/core-js/modules/es.regexp.exec.js", "../../../srcts/node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js", "../../../srcts/node_modules/core-js/internals/string-multibyte.js", "../../../srcts/node_modules/core-js/internals/advance-string-index.js", "../../../srcts/node_modules/core-js/internals/get-substitution.js", "../../../srcts/node_modules/core-js/internals/regexp-exec-abstract.js", "../../../srcts/node_modules/core-js/internals/is-regexp.js", "../../../srcts/node_modules/core-js/internals/a-function.js", "../../../srcts/node_modules/core-js/internals/species-constructor.js", "../../../srcts/node_modules/core-js/internals/function-bind-context.js", "../../../srcts/node_modules/core-js/internals/array-iteration.js", "../../../srcts/node_modules/core-js/internals/object-define-properties.js", "../../../srcts/node_modules/core-js/internals/html.js", "../../../srcts/node_modules/core-js/internals/object-create.js", "../../../srcts/node_modules/core-js/internals/add-to-unscopables.js", "../../../srcts/node_modules/core-js/internals/array-for-each.js", "../../../srcts/node_modules/core-js/internals/array-reduce.js", "../../../srcts/node_modules/core-js/internals/engine-is-node.js", "../../../srcts/node_modules/core-js/internals/array-buffer-native.js", "../../../srcts/node_modules/core-js/internals/redefine-all.js", "../../../srcts/node_modules/core-js/internals/an-instance.js", "../../../srcts/node_modules/core-js/internals/to-index.js", "../../../srcts/node_modules/core-js/internals/ieee754.js", "../../../srcts/node_modules/core-js/internals/correct-prototype-getter.js", "../../../srcts/node_modules/core-js/internals/object-get-prototype-of.js", "../../../srcts/node_modules/core-js/internals/a-possible-prototype.js", "../../../srcts/node_modules/core-js/internals/object-set-prototype-of.js", "../../../srcts/node_modules/core-js/internals/array-fill.js", "../../../srcts/node_modules/core-js/internals/set-to-string-tag.js", "../../../srcts/node_modules/core-js/internals/array-buffer.js", "../../../srcts/node_modules/core-js/internals/set-species.js", "../../../srcts/node_modules/core-js/internals/inherit-if-required.js", "../../../srcts/node_modules/core-js/internals/object-to-array.js", "../../../srcts/node_modules/core-js/internals/same-value.js", "../../../srcts/node_modules/core-js/internals/string-trim-forced.js", "../../../srcts/node_modules/core-js/internals/dom-iterables.js", "../../../srcts/src/main.ts", "../../../srcts/src/initialize/disableForm.ts", "../../../srcts/src/initialize/history.ts", "../../../srcts/node_modules/core-js/modules/es.array.index-of.js", "../../../srcts/node_modules/core-js/modules/es.parse-int.js", "../../../srcts/src/initialize/browser.ts", "../../../srcts/src/utils/browser.ts", "../../../srcts/src/utils/userAgent.ts", "../../../srcts/src/window/libraries.ts", "../../../srcts/node_modules/core-js/modules/es.array.concat.js", "../../../srcts/node_modules/core-js/modules/es.array.slice.js", "../../../srcts/node_modules/core-js/modules/es.array.splice.js", "../../../srcts/node_modules/core-js/modules/es.number.to-precision.js", "../../../srcts/node_modules/core-js/modules/es.object.keys.js", "../../../srcts/node_modules/core-js/modules/es.object.to-string.js", "../../../srcts/node_modules/core-js/modules/es.parse-float.js", "../../../srcts/src/utils/index.ts", "../../../srcts/node_modules/core-js/modules/es.regexp.to-string.js", "../../../srcts/node_modules/core-js/modules/es.string.replace.js", "../../../srcts/node_modules/core-js/modules/es.string.split.js", "../../../srcts/src/window/pixelRatio.ts", "../../../srcts/src/utils/blob.ts", "../../../srcts/src/shiny.ts", "../../../srcts/src/window/blobBuilder.ts", "../../../srcts/src/window/userAgent.ts", "../../../srcts/src/initialize/index.ts", "../../../srcts/node_modules/core-js/modules/es.array.filter.js", "../../../srcts/node_modules/core-js/modules/es.array.find.js", "../../../srcts/node_modules/core-js/modules/es.array.for-each.js", "../../../srcts/node_modules/core-js/modules/es.array.join.js", "../../../srcts/node_modules/core-js/modules/es.array.map.js", "../../../srcts/node_modules/core-js/modules/es.array.reduce.js", "../../../srcts/node_modules/core-js/modules/es.array-buffer.constructor.js", "../../../srcts/node_modules/core-js/modules/es.array-buffer.slice.js", "../../../srcts/node_modules/core-js/modules/es.data-view.js", "../../../srcts/node_modules/core-js/modules/es.function.name.js", "../../../srcts/node_modules/core-js/modules/es.number.constructor.js", "../../../srcts/node_modules/core-js/modules/es.object.entries.js", "../../../srcts/node_modules/core-js/modules/es.string.match.js", "../../../srcts/node_modules/core-js/modules/es.string.search.js", "../../../srcts/node_modules/core-js/modules/es.string.trim.js", "../../../srcts/node_modules/core-js/modules/web.dom-collections.for-each.js", "../../../srcts/src/file/FileProcessor.ts", "../../../srcts/src/index.ts"],
  "sourcesContent": ["module.exports = window.jQuery", "var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  /* global globalThis -- safe */\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n", "module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n", "var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n", "'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n", "module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n", "var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n", "var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n", "// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n", "// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n", "module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n", "var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n", "var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n", "var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n", "var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n", "var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n", "var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n", "var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n", "var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n", "var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n", "var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n", "var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n", "var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n", "module.exports = false;\n", "var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.9.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '\u00A9 2021 Denis Pushkarev (zloirock.ru)'\n});\n", "var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n", "var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n", "module.exports = {};\n", "var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n", "var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n", "var global = require('../internals/global');\n\nmodule.exports = global;\n", "var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n", "var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n", "var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n", "var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n", "var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n", "var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n", "// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n", "var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n", "exports.f = Object.getOwnPropertySymbols;\n", "var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n", "var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n", "var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n", "var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n", "'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n", "// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n", "var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n", "var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseInt = global.parseInt;\nvar hex = /^[+-]?0[Xx]/;\nvar FORCED = $parseInt(whitespaces + '08') !== 8 || $parseInt(whitespaces + '0x16') !== 22;\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\nmodule.exports = FORCED ? function parseInt(string, radix) {\n  var S = trim(String(string));\n  return $parseInt(S, (radix >>> 0) || (hex.test(S) ? 16 : 10));\n} : $parseInt;\n", "var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n", "var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n", "'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n", "var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  /* global Symbol -- required for testing */\n  return !String(Symbol());\n});\n", "var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  /* global Symbol -- safe */\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n", "var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n", "var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n", "var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n", "var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n", "var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n", "var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n", "var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n", "var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n", "var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n", "'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n", "var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n", "'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n", "'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n", "'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\n// eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n", "'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n", "'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n", "var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n", "'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n", "var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n", "var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n", "var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n", "module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n", "var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n", "var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n", "var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n", "var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n", "var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n", "var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n", "var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n", "'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n", "var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n", "var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n", "module.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n", "var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n", "module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n", "var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.es/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n", "// IEEE754 conversions based on https://github.com/feross/ieee754\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare -- NaN check\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n", "var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n", "var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n", "var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n", "/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n", "'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n", "var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n", "'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  /* eslint-disable no-new -- required for testing */\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1);\n  }) || fails(function () {\n    new NativeArrayBuffer();\n    new NativeArrayBuffer(1.5);\n    new NativeArrayBuffer(NaN);\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n  /* eslint-enable no-new -- required for testing */\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var nativeSetInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      nativeSetInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n", "'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n", "var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n", "var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n", "// `SameValue` abstract operation\n// https://tc39.es/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n", "var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n", "// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n", "import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.reduce.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array-buffer.constructor.js\";\nimport \"core-js/modules/es.array-buffer.slice.js\";\nimport \"core-js/modules/es.data-view.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.entries.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/* eslint \"@typescript-eslint/ban-ts-comment\": 0 */\n// @ts-nocheck\n\n/* eslint \"camelcase\": 0 */\n\n/* eslint \"@typescript-eslint/no-unused-vars\": 0 */\n\n/* eslint \"@typescript-eslint/no-this-alias\": 0 */\n\n/* eslint \"@typescript-eslint/no-empty-function\": 0 */\n\n/* eslint \"no-prototype-builtins\": 0 */\n\n/* eslint \"prefer-const\": 0 */\n\n/* eslint \"no-constant-condition\": 0 */\nimport $ from \"jquery\";\njQuery = $;\nimport { escapeHTML, randomId, strToBool, getStyle, roundSignif, parseDate, formatDateUTC, makeResizeFilter, pixelRatio, scopeExprToFunc, asArray, mergeSort, $escape, mapValues, isnan, equal, updateLabel, getComputedLinkColor, makeBlob, isBS3 } from \"./utils\";\nimport { isQt, isIE, IEVersion } from \"./utils/browser\";\nimport { FileProcessor } from \"./file/FileProcessor\";\nimport { Shiny } from \"./shiny\";\n\nfunction main() {\n  // \"_start.js\"\n  // \u221A\n  // \"utils.js\"\n  // \u221A\n  // \"browser.js\"\n  // \u221A\n  // \"input_rate.js\"\n  var Invoker = function Invoker(target, func) {\n    this.target = target;\n    this.func = func;\n  };\n\n  (function () {\n    this.normalCall = this.immediateCall = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.func.apply(this.target, args);\n    };\n  }).call(Invoker.prototype);\n\n  var Debouncer = function Debouncer(target, func, delayMs) {\n    this.target = target;\n    this.func = func;\n    this.delayMs = delayMs;\n    this.timerId = null;\n    this.args = null;\n  };\n\n  (function () {\n    this.normalCall = function () {\n      var self = this;\n      this.$clearTimer();\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this.args = args;\n      this.timerId = setTimeout(function () {\n        // IE8 doesn't reliably clear timeout, so this additional\n        // check is needed\n        if (self.timerId === null) return;\n        self.$clearTimer();\n        self.$invoke();\n      }, this.delayMs);\n    };\n\n    this.immediateCall = function () {\n      this.$clearTimer();\n\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.args = args;\n      this.$invoke();\n    };\n\n    this.isPending = function () {\n      return this.timerId !== null;\n    };\n\n    this.$clearTimer = function () {\n      if (this.timerId !== null) {\n        clearTimeout(this.timerId);\n        this.timerId = null;\n      }\n    };\n\n    this.$invoke = function () {\n      this.func.apply(this.target, this.args);\n      this.args = null;\n    };\n  }).call(Debouncer.prototype);\n\n  var Throttler = function Throttler(target, func, delayMs) {\n    this.target = target;\n    this.func = func;\n    this.delayMs = delayMs;\n    this.timerId = null;\n    this.args = null;\n  };\n\n  (function () {\n    this.normalCall = function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      var self = this;\n      this.args = args;\n\n      if (this.timerId === null) {\n        this.$invoke();\n        this.timerId = setTimeout(function () {\n          var _self$normalCall;\n\n          // IE8 doesn't reliably clear timeout, so this additional\n          // check is needed\n          if (self.timerId === null) return;\n          self.$clearTimer();\n          if (args.length > 0) (_self$normalCall = self.normalCall).apply.apply(_self$normalCall, [self].concat(args));\n        }, this.delayMs);\n      }\n    };\n\n    this.immediateCall = function () {\n      this.$clearTimer();\n\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this.args = args;\n      this.$invoke();\n    };\n\n    this.isPending = function () {\n      return this.timerId !== null;\n    };\n\n    this.$clearTimer = function () {\n      if (this.timerId !== null) {\n        clearTimeout(this.timerId);\n        this.timerId = null;\n      }\n    };\n\n    this.$invoke = function () {\n      this.func.apply(this.target, this.args);\n      this.args = null;\n    };\n  }).call(Throttler.prototype); // Returns a debounced version of the given function.\n  // Debouncing means that when the function is invoked,\n  // there is a delay of `threshold` milliseconds before\n  // it is actually executed, and if the function is\n  // invoked again before that threshold has elapsed then\n  // the clock starts over.\n  //\n  // For example, if a function is debounced with a\n  // threshold of 1000ms, then calling it 17 times at\n  // 900ms intervals will result in a single execution\n  // of the underlying function, 1000ms after the 17th\n  // call.\n\n  function debounce(threshold, func) {\n    var timerId = null;\n    var self, args;\n    return function () {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      self = this;\n\n      if (timerId !== null) {\n        clearTimeout(timerId);\n        timerId = null;\n      }\n\n      timerId = setTimeout(function () {\n        // IE8 doesn't reliably clear timeout, so this additional\n        // check is needed\n        if (timerId === null) return;\n        timerId = null;\n        func.apply(self, args);\n      }, threshold);\n    };\n  } // Returns a throttled version of the given function.\n  // Throttling means that the underlying function will\n  // be executed no more than once every `threshold`\n  // milliseconds.\n  //\n  // For example, if a function is throttled with a\n  // threshold of 1000ms, then calling it 17 times at\n  // 900ms intervals will result in something like 15\n  // or 16 executions of the underlying function.\n  // eslint-disable-next-line no-unused-vars\n\n\n  function throttle(threshold, func) {\n    var executionPending = false;\n    var timerId = null;\n    var self, args;\n\n    function throttled() {\n      self = null;\n      args = null;\n\n      for (var _len7 = arguments.length, argumentVals = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        argumentVals[_key7] = arguments[_key7];\n      }\n\n      if (timerId === null) {\n        // Haven't seen a call recently. Execute now and\n        // start a timer to buffer any subsequent calls.\n        timerId = setTimeout(function () {\n          // When time expires, clear the timer; and if\n          // there has been a call in the meantime, repeat.\n          timerId = null;\n\n          if (executionPending) {\n            executionPending = false;\n            throttled.apply(self, args);\n          }\n        }, threshold);\n        func.apply(this, argumentVals);\n      } else {\n        // Something executed recently. Don't do anything\n        // except set up target/arguments to be called later\n        executionPending = true;\n        self = this;\n        args = argumentVals;\n      }\n    }\n\n    return throttled;\n  } // Schedules data to be sent to shinyapp at the next setTimeout(0).\n  // Batches multiple input calls into one websocket message.\n\n\n  var InputBatchSender = function InputBatchSender(shinyapp) {\n    this.shinyapp = shinyapp;\n    this.timerId = null;\n    this.pendingData = {};\n    this.reentrant = false;\n    this.lastChanceCallback = [];\n  };\n\n  (function () {\n    this.setInput = function (nameType, value, opts) {\n      this.pendingData[nameType] = value;\n\n      if (!this.reentrant) {\n        if (opts.priority === \"event\") {\n          this.$sendNow();\n        } else if (!this.timerId) {\n          this.timerId = setTimeout(this.$sendNow.bind(this), 0);\n        }\n      }\n    };\n\n    this.$sendNow = function () {\n      if (this.reentrant) {\n        console.trace(\"Unexpected reentrancy in InputBatchSender!\");\n      }\n\n      this.reentrant = true;\n\n      try {\n        this.timerId = null;\n        $.each(this.lastChanceCallback, function (i, callback) {\n          callback();\n        });\n        var currentData = this.pendingData;\n        this.pendingData = {};\n        this.shinyapp.sendInput(currentData);\n      } finally {\n        this.reentrant = false;\n      }\n    };\n  }).call(InputBatchSender.prototype);\n\n  var InputNoResendDecorator = function InputNoResendDecorator(target, initialValues) {\n    this.target = target;\n    this.lastSentValues = this.reset(initialValues);\n  };\n\n  (function () {\n    this.setInput = function (nameType, value, opts) {\n      var _splitInputNameType = splitInputNameType(nameType),\n          inputName = _splitInputNameType.name,\n          inputType = _splitInputNameType.inputType;\n\n      var jsonValue = JSON.stringify(value);\n\n      if (opts.priority !== \"event\" && this.lastSentValues[inputName] && this.lastSentValues[inputName].jsonValue === jsonValue && this.lastSentValues[inputName].inputType === inputType) {\n        return;\n      }\n\n      this.lastSentValues[inputName] = {\n        jsonValue: jsonValue,\n        inputType: inputType\n      };\n      this.target.setInput(nameType, value, opts);\n    };\n\n    this.reset = function () {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      // Given an object with flat name-value format:\n      //   { x: \"abc\", \"y.shiny.number\": 123 }\n      // Create an object in cache format and save it:\n      //   { x: { jsonValue: '\"abc\"', inputType: \"\" },\n      //     y: { jsonValue: \"123\", inputType: \"shiny.number\" } }\n      var cacheValues = {};\n\n      for (var inputName in values) {\n        if (values.hasOwnProperty(inputName)) {\n          var _splitInputNameType2 = splitInputNameType(inputName),\n              name = _splitInputNameType2.name,\n              inputType = _splitInputNameType2.inputType;\n\n          cacheValues[name] = {\n            jsonValue: JSON.stringify(values[inputName]),\n            inputType: inputType\n          };\n        }\n      }\n\n      this.lastSentValues = cacheValues;\n    };\n\n    this.forget = function (name) {\n      delete this.lastSentValues[name];\n    };\n  }).call(InputNoResendDecorator.prototype);\n\n  var InputEventDecorator = function InputEventDecorator(target) {\n    this.target = target;\n  };\n\n  (function () {\n    this.setInput = function (nameType, value, opts) {\n      var evt = jQuery.Event(\"shiny:inputchanged\");\n      var input = splitInputNameType(nameType);\n      evt.name = input.name;\n      evt.inputType = input.inputType;\n      evt.value = value;\n      evt.binding = opts.binding;\n      evt.el = opts.el;\n      evt.priority = opts.priority;\n      $(opts.el).trigger(evt);\n\n      if (!evt.isDefaultPrevented()) {\n        var name = evt.name;\n        if (evt.inputType !== \"\") name += \":\" + evt.inputType; // Most opts aren't passed along to lower levels in the input decorator\n        // stack.\n\n        this.target.setInput(name, evt.value, {\n          priority: opts.priority\n        });\n      }\n    };\n  }).call(InputEventDecorator.prototype);\n\n  var InputRateDecorator = function InputRateDecorator(target) {\n    this.target = target;\n    this.inputRatePolicies = {};\n  };\n\n  (function () {\n    // Note that the first argument of setInput() and setRatePolicy()\n    // are passed both the input name (i.e., inputId) and type.\n    // https://github.com/rstudio/shiny/blob/67d3a/srcjs/init_shiny.js#L111-L126\n    // However, $ensureInit() and $doSetInput() are meant to be passed just\n    // the input name (i.e., inputId), which is why we distinguish between\n    // nameType and name.\n    this.setInput = function (nameType, value, opts) {\n      var _splitInputNameType3 = splitInputNameType(nameType),\n          inputName = _splitInputNameType3.name;\n\n      this.$ensureInit(inputName);\n      if (opts.priority !== \"deferred\") this.inputRatePolicies[inputName].immediateCall(nameType, value, opts);else this.inputRatePolicies[inputName].normalCall(nameType, value, opts);\n    };\n\n    this.setRatePolicy = function (nameType, mode, millis) {\n      var _splitInputNameType4 = splitInputNameType(nameType),\n          inputName = _splitInputNameType4.name;\n\n      if (mode === \"direct\") {\n        this.inputRatePolicies[inputName] = new Invoker(this, this.$doSetInput);\n      } else if (mode === \"debounce\") {\n        this.inputRatePolicies[inputName] = new Debouncer(this, this.$doSetInput, millis);\n      } else if (mode === \"throttle\") {\n        this.inputRatePolicies[inputName] = new Throttler(this, this.$doSetInput, millis);\n      }\n    };\n\n    this.$ensureInit = function (name) {\n      if (!(name in this.inputRatePolicies)) this.setRatePolicy(name, \"direct\");\n    };\n\n    this.$doSetInput = function (nameType, value, opts) {\n      this.target.setInput(nameType, value, opts);\n    };\n  }).call(InputRateDecorator.prototype);\n\n  var InputDeferDecorator = function InputDeferDecorator(target) {\n    this.target = target;\n    this.pendingInput = {};\n  };\n\n  (function () {\n    this.setInput = function (nameType, value, opts) {\n      if (/^\\./.test(nameType)) this.target.setInput(nameType, value, opts);else this.pendingInput[nameType] = {\n        value: value,\n        opts: opts\n      };\n    };\n\n    this.submit = function () {\n      for (var nameType in this.pendingInput) {\n        if (this.pendingInput.hasOwnProperty(nameType)) {\n          var _this$pendingInput$na = this.pendingInput[nameType],\n              value = _this$pendingInput$na.value,\n              opts = _this$pendingInput$na.opts;\n          this.target.setInput(nameType, value, opts);\n        }\n      }\n    };\n  }).call(InputDeferDecorator.prototype);\n\n  var InputValidateDecorator = function InputValidateDecorator(target) {\n    this.target = target;\n  };\n\n  (function () {\n    this.setInput = function (nameType, value, opts) {\n      if (!nameType) throw \"Can't set input with empty name.\";\n      opts = addDefaultInputOpts(opts);\n      this.target.setInput(nameType, value, opts);\n    };\n  }).call(InputValidateDecorator.prototype); // Merge opts with defaults, and return a new object.\n\n  function addDefaultInputOpts(opts) {\n    opts = $.extend({\n      priority: \"immediate\",\n      binding: null,\n      el: null\n    }, opts);\n\n    if (opts && typeof opts.priority !== \"undefined\") {\n      switch (opts.priority) {\n        case \"deferred\":\n        case \"immediate\":\n        case \"event\":\n          break;\n\n        default:\n          throw new Error(\"Unexpected input value mode: '\" + opts.priority + \"'\");\n      }\n    }\n\n    return opts;\n  }\n\n  function splitInputNameType(nameType) {\n    var name2 = nameType.split(\":\");\n    return {\n      name: name2[0],\n      inputType: name2.length > 1 ? name2[1] : \"\"\n    };\n  } // \"shinyapp.js\"\n\n\n  var ShinyApp = function ShinyApp() {\n    this.$socket = null; // Cached input values\n\n    this.$inputValues = {}; // Input values at initialization (and reconnect)\n\n    this.$initialInput = {}; // Output bindings\n\n    this.$bindings = {}; // Cached values/errors\n\n    this.$values = {};\n    this.$errors = {}; // Conditional bindings (show/hide element based on expression)\n\n    this.$conditionals = {};\n    this.$pendingMessages = [];\n    this.$activeRequests = {};\n    this.$nextRequestId = 0;\n    this.$allowReconnect = false;\n  };\n\n  (function () {\n    this.connect = function (initialInput) {\n      if (this.$socket) throw \"Connect was already called on this application object\";\n      this.$socket = this.createSocket();\n      this.$initialInput = initialInput;\n      $.extend(this.$inputValues, initialInput);\n      this.$updateConditionals();\n    };\n\n    this.isConnected = function () {\n      return !!this.$socket;\n    };\n\n    var scheduledReconnect = null;\n\n    this.reconnect = function () {\n      // This function can be invoked directly even if there's a scheduled\n      // reconnect, so be sure to clear any such scheduled reconnects.\n      clearTimeout(scheduledReconnect);\n      if (this.isConnected()) throw \"Attempted to reconnect, but already connected.\";\n      this.$socket = this.createSocket();\n      this.$initialInput = $.extend({}, this.$inputValues);\n      this.$updateConditionals();\n    };\n\n    this.createSocket = function () {\n      var self = this;\n\n      var createSocketFunc = Shiny.createSocket || function () {\n        var protocol = \"ws:\";\n        if (window.location.protocol === \"https:\") protocol = \"wss:\";\n        var defaultPath = window.location.pathname; // some older WebKit browsers return the pathname already decoded;\n        // if we find invalid URL characters in the path, encode them\n\n        if (!/^([$#!&-;=?-[\\]_a-z~]|%[0-9a-fA-F]{2})+$/.test(defaultPath)) {\n          defaultPath = encodeURI(defaultPath); // Bizarrely, QtWebKit requires us to encode these characters *twice*\n\n          if (isQt()) {\n            defaultPath = encodeURI(defaultPath);\n          }\n        }\n\n        if (!/\\/$/.test(defaultPath)) defaultPath += \"/\";\n        defaultPath += \"websocket/\";\n        var ws = new WebSocket(protocol + \"//\" + window.location.host + defaultPath);\n        ws.binaryType = \"arraybuffer\";\n        return ws;\n      };\n\n      var socket = createSocketFunc();\n      var hasOpened = false;\n\n      socket.onopen = function () {\n        hasOpened = true;\n        $(document).trigger({\n          type: \"shiny:connected\",\n          socket: socket\n        });\n        self.onConnected();\n        socket.send(JSON.stringify({\n          method: \"init\",\n          data: self.$initialInput\n        }));\n\n        while (self.$pendingMessages.length) {\n          var msg = self.$pendingMessages.shift();\n          socket.send(msg);\n        }\n      };\n\n      socket.onmessage = function (e) {\n        self.dispatchMessage(e.data);\n      }; // Called when a successfully-opened websocket is closed, or when an\n      // attempt to open a connection fails.\n\n\n      socket.onclose = function () {\n        // These things are needed only if we've successfully opened the\n        // websocket.\n        if (hasOpened) {\n          $(document).trigger({\n            type: \"shiny:disconnected\",\n            socket: socket\n          });\n          self.$notifyDisconnected();\n        }\n\n        self.onDisconnected(); // Must be run before self.$removeSocket()\n\n        self.$removeSocket();\n      };\n\n      return socket;\n    };\n\n    this.sendInput = function (values) {\n      var msg = JSON.stringify({\n        method: \"update\",\n        data: values\n      });\n      this.$sendMsg(msg);\n      $.extend(this.$inputValues, values);\n      this.$updateConditionals();\n    };\n\n    this.$notifyDisconnected = function () {\n      if (window.parent) {\n        window.parent.postMessage(\"disconnected\", \"*\");\n      }\n    };\n\n    this.$removeSocket = function () {\n      this.$socket = null;\n    };\n\n    this.$scheduleReconnect = function (delay) {\n      var self = this;\n      scheduledReconnect = setTimeout(function () {\n        self.reconnect();\n      }, delay);\n    }; // How long should we wait before trying the next reconnection?\n    // The delay will increase with subsequent attempts.\n    // .next: Return the time to wait for next connection, and increment counter.\n    // .reset: Reset the attempt counter.\n\n\n    var reconnectDelay = function () {\n      var attempts = 0; // Time to wait before each reconnection attempt. If we go through all of\n      // these values, repeated use the last one. Add 500ms to each one so that\n      // in the last 0.5s, it shows \"...\"\n\n      var delays = [1500, 1500, 2500, 2500, 5500, 5500, 10500];\n      return {\n        next: function next() {\n          var i = attempts; // Instead of going off the end, use the last one\n\n          if (i >= delays.length) {\n            i = delays.length - 1;\n          }\n\n          attempts++;\n          return delays[i];\n        },\n        reset: function reset() {\n          attempts = 0;\n        }\n      };\n    }();\n\n    this.onDisconnected = function () {\n      // Add gray-out overlay, if not already present\n      var $overlay = $(\"#shiny-disconnected-overlay\");\n\n      if ($overlay.length === 0) {\n        $(document.body).append('<div id=\"shiny-disconnected-overlay\"></div>');\n        var $overlayTemplate = $(\"#shiny-disconnected-overlay-template\");\n\n        if ($overlayTemplate.length !== 0) {\n          $(\"#shiny-disconnected-overlay\").append($overlayTemplate.contents().clone(true));\n        }\n      } // To try a reconnect, both the app (this.$allowReconnect) and the\n      // server (this.$socket.allowReconnect) must allow reconnections, or\n      // session$allowReconnect(\"force\") was called. The \"force\" option should\n      // only be used for testing.\n\n\n      if (this.$allowReconnect === true && this.$socket.allowReconnect === true || this.$allowReconnect === \"force\") {\n        var delay = reconnectDelay.next();\n        Shiny.showReconnectDialog(delay);\n        this.$scheduleReconnect(delay);\n      }\n    };\n\n    this.onConnected = function () {\n      $(\"#shiny-disconnected-overlay\").remove();\n      Shiny.hideReconnectDialog();\n      reconnectDelay.reset();\n    }; // NB: Including blobs will cause IE to break!\n    // TODO: Make blobs work with Internet Explorer\n    //\n    // Websocket messages are normally one-way--i.e. the client passes a\n    // message to the server but there is no way for the server to provide\n    // a response to that specific message. makeRequest provides a way to\n    // do asynchronous RPC over websocket. Each request has a method name\n    // and arguments, plus optionally one or more binary blobs can be\n    // included as well. The request is tagged with a unique number that\n    // the server will use to label the corresponding response.\n    //\n    // @param method A string that tells the server what logic to run.\n    // @param args An array of objects that should also be passed to the\n    //   server in JSON-ified form.\n    // @param onSuccess A function that will be called back if the server\n    //   responds with success. If the server provides a value in the\n    //   response, the function will be called with it as the only argument.\n    // @param onError A function that will be called back if the server\n    //   responds with error, or if the request fails for any other reason.\n    //   The parameter to onError will be a string describing the error.\n    // @param blobs Optionally, an array of Blob, ArrayBuffer, or string\n    //   objects that will be made available to the server as part of the\n    //   request. Strings will be encoded using UTF-8.\n\n\n    this.makeRequest = function (method, args, onSuccess, onError, blobs) {\n      var requestId = this.$nextRequestId;\n\n      while (this.$activeRequests[requestId]) {\n        requestId = (requestId + 1) % 1000000000;\n      }\n\n      this.$nextRequestId = requestId + 1;\n      this.$activeRequests[requestId] = {\n        onSuccess: onSuccess,\n        onError: onError\n      };\n      var msg = JSON.stringify({\n        method: method,\n        args: args,\n        tag: requestId\n      });\n\n      if (blobs) {\n        // We have binary data to transfer; form a different kind of packet.\n        // Start with a 4-byte signature, then for each blob, emit 4 bytes for\n        // the length followed by the blob. The json payload is UTF-8 encoded\n        // and used as the first blob.\n        var uint32_to_buf = function uint32_to_buf(val) {\n          var buffer = new ArrayBuffer(4);\n          var view = new DataView(buffer);\n          view.setUint32(0, val, true); // little-endian\n\n          return buffer;\n        };\n\n        var payload = [];\n        payload.push(uint32_to_buf(0x01020202)); // signature\n\n        var jsonBuf = makeBlob([msg]);\n        payload.push(uint32_to_buf(jsonBuf.size));\n        payload.push(jsonBuf);\n\n        for (var i = 0; i < blobs.length; i++) {\n          payload.push(uint32_to_buf(blobs[i].byteLength || blobs[i].size || 0));\n          payload.push(blobs[i]);\n        }\n\n        msg = makeBlob(payload);\n      }\n\n      this.$sendMsg(msg);\n    };\n\n    this.$sendMsg = function (msg) {\n      if (!this.$socket.readyState) {\n        this.$pendingMessages.push(msg);\n      } else {\n        this.$socket.send(msg);\n      }\n    };\n\n    this.receiveError = function (name, error) {\n      if (this.$errors[name] === error) return;\n      this.$errors[name] = error;\n      delete this.$values[name];\n      var binding = this.$bindings[name];\n      var evt = jQuery.Event(\"shiny:error\");\n      evt.name = name;\n      evt.error = error;\n      evt.binding = binding;\n      $(binding ? binding.el : document).trigger(evt);\n\n      if (!evt.isDefaultPrevented() && binding && binding.onValueError) {\n        binding.onValueError(evt.error);\n      }\n    };\n\n    this.receiveOutput = function (name, value) {\n      var binding = this.$bindings[name];\n      var evt = jQuery.Event(\"shiny:value\");\n      evt.name = name;\n      evt.value = value;\n      evt.binding = binding;\n\n      if (this.$values[name] === value) {\n        $(binding ? binding.el : document).trigger(evt);\n        return undefined;\n      }\n\n      this.$values[name] = value;\n      delete this.$errors[name];\n      $(binding ? binding.el : document).trigger(evt);\n\n      if (!evt.isDefaultPrevented() && binding) {\n        binding.onValueChange(evt.value);\n      }\n\n      return value;\n    };\n\n    this.bindOutput = function (id, binding) {\n      if (!id) throw \"Can't bind an element with no ID\";\n      if (this.$bindings[id]) throw \"Duplicate binding for ID \" + id;\n      this.$bindings[id] = binding;\n      if (this.$values[id] !== undefined) binding.onValueChange(this.$values[id]);else if (this.$errors[id] !== undefined) binding.onValueError(this.$errors[id]);\n      return binding;\n    };\n\n    this.unbindOutput = function (id, binding) {\n      if (this.$bindings[id] === binding) {\n        delete this.$bindings[id];\n        return true;\n      } else {\n        return false;\n      }\n    }; // Narrows a scopeComponent -- an input or output object -- to one constrained\n    // by nsPrefix. Returns a new object with keys removed and renamed as\n    // necessary.\n\n\n    function narrowScopeComponent(scopeComponent, nsPrefix) {\n      return Object.keys(scopeComponent).filter(function (k) {\n        return k.indexOf(nsPrefix) === 0;\n      }).map(function (k) {\n        return _defineProperty({}, k.substring(nsPrefix.length), scopeComponent[k]);\n      }).reduce(function (obj, pair) {\n        return $.extend(obj, pair);\n      }, {});\n    } // Narrows a scope -- an object with input and output \"subComponents\" -- to\n    // one constrained by the nsPrefix string.\n    //\n    // If nsPrefix is null or empty, returns scope without modification.\n    //\n    // Otherwise, returns a new object with keys in subComponents removed and\n    // renamed as necessary.\n\n\n    function narrowScope(scope, nsPrefix) {\n      if (nsPrefix) {\n        return {\n          input: narrowScopeComponent(scope.input, nsPrefix),\n          output: narrowScopeComponent(scope.output, nsPrefix)\n        };\n      }\n\n      return scope;\n    }\n\n    this.$updateConditionals = function () {\n      $(document).trigger({\n        type: \"shiny:conditional\"\n      });\n      var inputs = {}; // Input keys use \"name:type\" format; we don't want the user to\n      // have to know about the type suffix when referring to inputs.\n\n      for (var name in this.$inputValues) {\n        if (this.$inputValues.hasOwnProperty(name)) {\n          var shortName = name.replace(/:.*/, \"\");\n          inputs[shortName] = this.$inputValues[name];\n        }\n      }\n\n      var scope = {\n        input: inputs,\n        output: this.$values\n      };\n      var conditionals = $(document).find(\"[data-display-if]\");\n\n      for (var i = 0; i < conditionals.length; i++) {\n        var el = $(conditionals[i]);\n        var condFunc = el.data(\"data-display-if-func\");\n\n        if (!condFunc) {\n          var condExpr = el.attr(\"data-display-if\");\n          condFunc = scopeExprToFunc(condExpr);\n          el.data(\"data-display-if-func\", condFunc);\n        }\n\n        var nsPrefix = el.attr(\"data-ns-prefix\");\n        var nsScope = narrowScope(scope, nsPrefix);\n        var show = condFunc(nsScope);\n        var showing = el.css(\"display\") !== \"none\";\n\n        if (show !== showing) {\n          if (show) {\n            el.trigger(\"show\");\n            el.show();\n            el.trigger(\"shown\");\n          } else {\n            el.trigger(\"hide\");\n            el.hide();\n            el.trigger(\"hidden\");\n          }\n        }\n      }\n    }; // Message handler management functions =================================\n    // Records insertion order of handlers. Maps number to name. This is so\n    // we can dispatch messages to handlers in the order that handlers were\n    // added.\n\n\n    var messageHandlerOrder = []; // Keep track of handlers by name. Maps name to handler function.\n\n    var messageHandlers = {}; // Two categories of message handlers: those that are from Shiny, and those\n    // that are added by the user. The Shiny ones handle messages in\n    // msgObj.values, msgObj.errors, and so on. The user ones handle messages\n    // in msgObj.custom.foo and msgObj.custom.bar.\n\n    var customMessageHandlerOrder = [];\n    var customMessageHandlers = {}; // Adds Shiny (internal) message handler\n\n    function addMessageHandler(type, handler) {\n      if (messageHandlers[type]) {\n        throw 'handler for message of type \"' + type + '\" already added.';\n      }\n\n      if (typeof handler !== \"function\") {\n        throw \"handler must be a function.\";\n      }\n\n      if (handler.length !== 1) {\n        throw \"handler must be a function that takes one argument.\";\n      }\n\n      messageHandlerOrder.push(type);\n      messageHandlers[type] = handler;\n    } // Adds custom message handler - this one is exposed to the user\n\n\n    function addCustomMessageHandler(type, handler) {\n      // Remove any previously defined handlers so that only the most recent one\n      // will be called\n      if (customMessageHandlers[type]) {\n        var typeIdx = customMessageHandlerOrder.indexOf(type);\n\n        if (typeIdx !== -1) {\n          customMessageHandlerOrder.splice(typeIdx, 1);\n          delete customMessageHandlers[type];\n        }\n      }\n\n      if (typeof handler !== \"function\") {\n        throw \"handler must be a function.\";\n      }\n\n      if (handler.length !== 1) {\n        throw \"handler must be a function that takes one argument.\";\n      }\n\n      customMessageHandlerOrder.push(type);\n      customMessageHandlers[type] = handler;\n    }\n\n    Shiny.addCustomMessageHandler = addCustomMessageHandler;\n\n    this.dispatchMessage = function (data) {\n      var msgObj = {};\n\n      if (typeof data === \"string\") {\n        msgObj = JSON.parse(data);\n      } else {\n        // data is arraybuffer\n        var len = new DataView(data, 0, 1).getUint8(0);\n        var typedv = new DataView(data, 1, len);\n        var typebuf = [];\n\n        for (var i = 0; i < len; i++) {\n          typebuf.push(String.fromCharCode(typedv.getUint8(i)));\n        }\n\n        var type = typebuf.join(\"\");\n        data = data.slice(len + 1);\n        msgObj.custom = {};\n        msgObj.custom[type] = data;\n      }\n\n      var evt = jQuery.Event(\"shiny:message\");\n      evt.message = msgObj;\n      $(document).trigger(evt);\n      if (evt.isDefaultPrevented()) return; // Send msgObj.foo and msgObj.bar to appropriate handlers\n\n      this._sendMessagesToHandlers(evt.message, messageHandlers, messageHandlerOrder);\n\n      this.$updateConditionals();\n    }; // A function for sending messages to the appropriate handlers.\n    // - msgObj: the object containing messages, with format {msgObj.foo, msObj.bar\n\n\n    this._sendMessagesToHandlers = function (msgObj, handlers, handlerOrder) {\n      // Dispatch messages to handlers, if handler is present\n      for (var i = 0; i < handlerOrder.length; i++) {\n        var msgType = handlerOrder[i];\n\n        if (msgObj.hasOwnProperty(msgType)) {\n          // Execute each handler with 'this' referring to the present value of\n          // 'this'\n          handlers[msgType].call(this, msgObj[msgType]);\n        }\n      }\n    }; // Message handlers =====================================================\n\n\n    addMessageHandler(\"values\", function (message) {\n      for (var name in this.$bindings) {\n        if (this.$bindings.hasOwnProperty(name)) this.$bindings[name].showProgress(false);\n      }\n\n      for (var key in message) {\n        if (message.hasOwnProperty(key)) this.receiveOutput(key, message[key]);\n      }\n    });\n    addMessageHandler(\"errors\", function (message) {\n      for (var key in message) {\n        if (message.hasOwnProperty(key)) this.receiveError(key, message[key]);\n      }\n    });\n    addMessageHandler(\"inputMessages\", function (message) {\n      // inputMessages should be an array\n      for (var i = 0; i < message.length; i++) {\n        var $obj = $(\".shiny-bound-input#\" + $escape(message[i].id));\n        var inputBinding = $obj.data(\"shiny-input-binding\"); // Dispatch the message to the appropriate input object\n\n        if ($obj.length > 0) {\n          if (!$obj.attr(\"aria-live\")) $obj.attr(\"aria-live\", \"polite\");\n          var el = $obj[0];\n          var evt = jQuery.Event(\"shiny:updateinput\");\n          evt.message = message[i].message;\n          evt.binding = inputBinding;\n          $(el).trigger(evt);\n          if (!evt.isDefaultPrevented()) inputBinding.receiveMessage(el, evt.message);\n        }\n      }\n    });\n    addMessageHandler(\"javascript\", function (message) {\n      /*jshint evil: true */\n      eval(message);\n    });\n    addMessageHandler(\"console\", function (message) {\n      for (var i = 0; i < message.length; i++) {\n        if (console.log) console.log(message[i]);\n      }\n    });\n    addMessageHandler(\"progress\", function (message) {\n      if (message.type && message.message) {\n        var handler = progressHandlers[message.type];\n        if (handler) handler.call(this, message.message);\n      }\n    });\n    addMessageHandler(\"notification\", function (message) {\n      if (message.type === \"show\") Shiny.notifications.show(message.message);else if (message.type === \"remove\") Shiny.notifications.remove(message.message);else throw \"Unkown notification type: \" + message.type;\n    });\n    addMessageHandler(\"modal\", function (message) {\n      if (message.type === \"show\") Shiny.modal.show(message.message);else if (message.type === \"remove\") Shiny.modal.remove(); // For 'remove', message content isn't used\n      else throw \"Unkown modal type: \" + message.type;\n    });\n    addMessageHandler(\"response\", function (message) {\n      var requestId = message.tag;\n      var request = this.$activeRequests[requestId];\n\n      if (request) {\n        delete this.$activeRequests[requestId];\n        if (\"value\" in message) request.onSuccess(message.value);else request.onError(message.error);\n      }\n    });\n    addMessageHandler(\"allowReconnect\", function (message) {\n      if (message === true || message === false || message === \"force\") {\n        this.$allowReconnect = message;\n      } else {\n        throw \"Invalid value for allowReconnect: \" + message;\n      }\n    });\n    addMessageHandler(\"custom\", function (message) {\n      // For old-style custom messages - should deprecate and migrate to new\n      // method\n      if (Shiny.oncustommessage) {\n        Shiny.oncustommessage(message);\n      } // Send messages.foo and messages.bar to appropriate handlers\n\n\n      this._sendMessagesToHandlers(message, customMessageHandlers, customMessageHandlerOrder);\n    });\n    addMessageHandler(\"config\", function (message) {\n      this.config = {\n        workerId: message.workerId,\n        sessionId: message.sessionId\n      };\n      if (message.user) Shiny.user = message.user;\n      $(document).trigger(\"shiny:sessioninitialized\");\n    });\n    addMessageHandler(\"busy\", function (message) {\n      if (message === \"busy\") {\n        $(document.documentElement).addClass(\"shiny-busy\");\n        $(document).trigger(\"shiny:busy\");\n      } else if (message === \"idle\") {\n        $(document.documentElement).removeClass(\"shiny-busy\");\n        $(document).trigger(\"shiny:idle\");\n      }\n    });\n    addMessageHandler(\"recalculating\", function (message) {\n      if (message.hasOwnProperty(\"name\") && message.hasOwnProperty(\"status\")) {\n        var binding = this.$bindings[message.name];\n        $(binding ? binding.el : null).trigger({\n          type: \"shiny:\" + message.status\n        });\n      }\n    });\n    addMessageHandler(\"reload\", function (message) {\n      window.location.reload();\n    });\n    addMessageHandler(\"shiny-insert-ui\", function (message) {\n      var targets = $(message.selector);\n\n      if (targets.length === 0) {\n        // render the HTML and deps to a null target, so\n        // the side-effect of rendering the deps, singletons,\n        // and <head> still occur\n        console.warn('The selector you chose (\"' + message.selector + '\") could not be found in the DOM.');\n        Shiny.renderHtml(message.content.html, $([]), message.content.deps);\n      } else {\n        targets.each(function (i, target) {\n          Shiny.renderContent(target, message.content, message.where);\n          return message.multiple;\n        });\n      }\n    });\n    addMessageHandler(\"shiny-remove-ui\", function (message) {\n      var els = $(message.selector);\n      els.each(function (i, el) {\n        Shiny.unbindAll(el, true);\n        $(el).remove(); // If `multiple` is false, returning false terminates the function\n        // and no other elements are removed; if `multiple` is true,\n        // returning true continues removing all remaining elements.\n\n        return message.multiple;\n      });\n    });\n    addMessageHandler(\"frozen\", function (message) {\n      for (var i = 0; i < message.ids.length; i++) {\n        Shiny.forgetLastInputValue(message.ids[i]);\n      }\n    });\n\n    function getTabset(id) {\n      var $tabset = $(\"#\" + $escape(id));\n      if ($tabset.length === 0) throw \"There is no tabsetPanel (or navbarPage or navlistPanel) \" + \"with id equal to '\" + id + \"'\";\n      return $tabset;\n    }\n\n    function getTabContent($tabset) {\n      var tabsetId = $tabset.attr(\"data-tabsetid\");\n      var $tabContent = $(\"div.tab-content[data-tabsetid='\" + $escape(tabsetId) + \"']\");\n      return $tabContent;\n    }\n\n    function getTargetTabs($tabset, $tabContent, target) {\n      var dataValue = \"[data-value='\" + $escape(target) + \"']\";\n      var $aTag = $tabset.find(\"a\" + dataValue);\n      var $liTag = $aTag.parent();\n\n      if ($liTag.length === 0) {\n        throw \"There is no tabPanel (or navbarMenu) with value\" + \" (or menuName) equal to '\" + target + \"'\";\n      }\n\n      var $liTags = [];\n      var $divTags = [];\n\n      if ($aTag.attr(\"data-toggle\") === \"dropdown\") {\n        // dropdown\n        var $dropdownTabset = $aTag.find(\"+ ul.dropdown-menu\");\n        var dropdownId = $dropdownTabset.attr(\"data-tabsetid\");\n        var $dropdownLiTags = $dropdownTabset.find(\"a[data-toggle='tab']\").parent(\"li\");\n        $dropdownLiTags.each(function (i, el) {\n          $liTags.push($(el));\n        });\n        var selector = \"div.tab-pane[id^='tab-\" + $escape(dropdownId) + \"']\";\n        var $dropdownDivs = $tabContent.find(selector);\n        $dropdownDivs.each(function (i, el) {\n          $divTags.push($(el));\n        });\n      } else {\n        // regular tab\n        $divTags.push($tabContent.find(\"div\" + dataValue));\n      }\n\n      return {\n        $liTag: $liTag,\n        $liTags: $liTags,\n        $divTags: $divTags\n      };\n    }\n\n    addMessageHandler(\"shiny-insert-tab\", function (message) {\n      var $parentTabset = getTabset(message.inputId);\n      var $tabset = $parentTabset;\n      var $tabContent = getTabContent($tabset);\n      var tabsetId = $parentTabset.attr(\"data-tabsetid\");\n      var $divTag = $(message.divTag.html);\n      var $liTag = $(message.liTag.html);\n      var $aTag = $liTag.find(\"> a\"); // Unless the item is being prepended/appended, the target tab\n      // must be provided\n\n      var target = null;\n      var $targetLiTag = null;\n\n      if (message.target !== null) {\n        target = getTargetTabs($tabset, $tabContent, message.target);\n        $targetLiTag = target.$liTag;\n      } // If the item is to be placed inside a navbarMenu (dropdown),\n      // change the value of $tabset from the parent's ul tag to the\n      // dropdown's ul tag\n\n\n      var dropdown = getDropdown();\n\n      if (dropdown !== null) {\n        if ($aTag.attr(\"data-toggle\") === \"dropdown\") throw \"Cannot insert a navbarMenu inside another one\";\n        $tabset = dropdown.$tabset;\n        tabsetId = dropdown.id;\n      } // For regular tab items, fix the href (of the li > a tag)\n      // and the id (of the div tag). This does not apply to plain\n      // text items (which function as dividers and headers inside\n      // navbarMenus) and whole navbarMenus (since those get\n      // constructed from scratch on the R side and therefore\n      // there are no ids that need matching)\n\n\n      if ($aTag.attr(\"data-toggle\") === \"tab\") {\n        var index = getTabIndex($tabset, tabsetId);\n        var tabId = \"tab-\" + tabsetId + \"-\" + index;\n        $liTag.find(\"> a\").attr(\"href\", \"#\" + tabId);\n        $divTag.attr(\"id\", tabId);\n      } // actually insert the item into the right place\n\n\n      if (message.position === \"before\") {\n        if ($targetLiTag) {\n          $targetLiTag.before($liTag);\n        } else {\n          $tabset.append($liTag);\n        }\n      } else if (message.position === \"after\") {\n        if ($targetLiTag) {\n          $targetLiTag.after($liTag);\n        } else {\n          $tabset.prepend($liTag);\n        }\n      }\n\n      Shiny.renderContent($liTag[0], {\n        html: $liTag.html(),\n        deps: message.liTag.deps\n      }); // jcheng 2017-07-28: This next part might look a little insane versus the\n      // more obvious `$tabContent.append($divTag);`, but there's a method to the\n      // madness.\n      //\n      // 1) We need to load the dependencies, and this needs to happen before\n      //    any scripts in $divTag get a chance to run.\n      // 2) The scripts in $divTag need to run only once.\n      // 3) The contents of $divTag need to be sent through renderContent so that\n      //    singletons may be registered and/or obeyed, and so that inputs/outputs\n      //    may be bound.\n      //\n      // Add to these constraints these facts:\n      //\n      // A) The (non-jQuery) DOM manipulation functions don't cause scripts to\n      //    run, but the jQuery functions all do.\n      // B) renderContent must be called on an element that's attached to the\n      //    document.\n      // C) $divTag may be of length > 1 (e.g. navbarMenu). I also noticed text\n      //    elements consisting of just \"\\n\" being included in the nodeset of\n      //    $divTag.\n      // D) renderContent has a bug where only position \"replace\" (the default)\n      //    uses the jQuery functions, so other positions like \"beforeend\" will\n      //    prevent child script tags from running.\n      //\n      // In theory the same problem exists for $liTag but since that content is\n      // much less likely to include arbitrary scripts, we're skipping it.\n      //\n      // This code could be nicer if we didn't use renderContent, but rather the\n      // lower-level functions that renderContent uses. Like if we pre-process\n      // the value of message.divTag.html for singletons, we could do that, then\n      // render dependencies, then do $tabContent.append($divTag).\n\n      Shiny.renderContent($tabContent[0], {\n        html: \"\",\n        deps: message.divTag.deps\n      }, \"beforeend\");\n      $divTag.get().forEach(function (el) {\n        // Must not use jQuery for appending el to the doc, we don't want any\n        // scripts to run (since they will run when renderContent takes a crack).\n        $tabContent[0].appendChild(el); // If `el` itself is a script tag, this approach won't work (the script\n        // won't be run), since we're only sending innerHTML through renderContent\n        // and not the whole tag. That's fine in this case because we control the\n        // R code that generates this HTML, and we know that the element is not\n        // a script tag.\n\n        Shiny.renderContent(el, el.innerHTML || el.textContent);\n      });\n\n      if (message.select) {\n        $liTag.find(\"a\").tab(\"show\");\n      }\n      /* Barbara -- August 2017\n      Note: until now, the number of tabs in a tabsetPanel (or navbarPage\n      or navlistPanel) was always fixed. So, an easy way to give an id to\n      a tab was simply incrementing a counter. (Just like it was easy to\n      give a random 4-digit number to identify the tabsetPanel). Now that\n      we're introducing dynamic tabs, we must retrieve these numbers and\n      fix the dummy id given to the tab in the R side -- there, we always\n      set the tab id (counter dummy) to \"id\" and the tabset id to \"tsid\")\n      */\n\n\n      function getTabIndex($tabset, tabsetId) {\n        // The 0 is to ensure this works for empty tabsetPanels as well\n        var existingTabIds = [0]; // loop through all existing tabs, find the one with highest id\n        // (since this is based on a numeric counter), and increment\n\n        $tabset.find(\"a[data-toggle='tab']\").each(function () {\n          var $tab = $(this);\n\n          if ($tab.length > 0) {\n            // remove leading url if it exists. (copy of bootstrap url stripper)\n            var href = $tab.attr(\"href\").replace(/.*(?=#[^\\s]+$)/, \"\"); // remove tab id to get the index\n\n            var _index = href.replace(\"#tab-\" + tabsetId + \"-\", \"\");\n\n            existingTabIds.push(Number(_index));\n          }\n        });\n        return Math.max.apply(null, existingTabIds) + 1;\n      } // Finds out if the item will be placed inside a navbarMenu\n      // (dropdown). If so, returns the dropdown tabset (ul tag)\n      // and the dropdown tabsetid (to be used to fix the tab ID)\n\n\n      function getDropdown() {\n        if (message.menuName !== null) {\n          // menuName is only provided if the user wants to prepend\n          // or append an item inside a navbarMenu (dropdown)\n          var $dropdownATag = $(\"a.dropdown-toggle[data-value='\" + $escape(message.menuName) + \"']\");\n\n          if ($dropdownATag.length === 0) {\n            throw \"There is no navbarMenu with menuName equal to '\" + message.menuName + \"'\";\n          }\n\n          var $dropdownTabset = $dropdownATag.find(\"+ ul.dropdown-menu\");\n          var dropdownId = $dropdownTabset.attr(\"data-tabsetid\");\n          return {\n            $tabset: $dropdownTabset,\n            id: dropdownId\n          };\n        } else if (message.target !== null) {\n          // if our item is to be placed next to a tab that is inside\n          // a navbarMenu, our item will also be inside\n          var $uncleTabset = $targetLiTag.parent(\"ul\");\n\n          if ($uncleTabset.hasClass(\"dropdown-menu\")) {\n            var uncleId = $uncleTabset.attr(\"data-tabsetid\");\n            return {\n              $tabset: $uncleTabset,\n              id: uncleId\n            };\n          }\n        }\n\n        return null;\n      }\n    }); // If the given tabset has no active tabs, select the first one\n\n    function ensureTabsetHasVisibleTab($tabset) {\n      var inputBinding = $tabset.data(\"shiny-input-binding\"); // Use the getValue() method to avoid duplicating the CSS selector\n      // for querying the DOM for the currently active tab\n\n      if (!inputBinding.getValue($tabset)) {\n        // Note: destTabValue may be null. We still want to proceed\n        // through the below logic and setValue so that the input\n        // value for the tabset gets updated (i.e. input$tabsetId\n        // should be null if there are no tabs).\n        var destTabValue = getFirstTab($tabset);\n        var evt = jQuery.Event(\"shiny:updateinput\");\n        evt.binding = inputBinding;\n        $tabset.trigger(evt);\n        inputBinding.setValue($tabset[0], destTabValue);\n      }\n    } // Given a tabset ul jquery object, return the value of the first tab\n    // (in document order) that's visible and able to be selected.\n\n\n    function getFirstTab($ul) {\n      return $ul.find(\"li:visible a[data-toggle='tab']\").first().attr(\"data-value\") || null;\n    }\n\n    function tabApplyFunction(target, func) {\n      var liTags = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      $.each(target, function (key, el) {\n        if (key === \"$liTag\") {\n          // $liTag is always just one jQuery element\n          func(el);\n        } else if (key === \"$divTags\") {\n          // $divTags is always an array (even if length = 1)\n          $.each(el, function (i, div) {\n            func(div);\n          });\n        } else if (liTags && key === \"$liTags\") {\n          // $liTags is always an array (even if length = 0)\n          $.each(el, function (i, div) {\n            func(div);\n          });\n        }\n      });\n    }\n\n    addMessageHandler(\"shiny-remove-tab\", function (message) {\n      var $tabset = getTabset(message.inputId);\n      var $tabContent = getTabContent($tabset);\n      var target = getTargetTabs($tabset, $tabContent, message.target);\n      tabApplyFunction(target, removeEl);\n      ensureTabsetHasVisibleTab($tabset);\n\n      function removeEl($el) {\n        Shiny.unbindAll($el, true);\n        $el.remove();\n      }\n    });\n    addMessageHandler(\"shiny-change-tab-visibility\", function (message) {\n      var $tabset = getTabset(message.inputId);\n      var $tabContent = getTabContent($tabset);\n      var target = getTargetTabs($tabset, $tabContent, message.target);\n      tabApplyFunction(target, changeVisibility, true);\n      ensureTabsetHasVisibleTab($tabset);\n\n      function changeVisibility($el) {\n        if (message.type === \"show\") $el.css(\"display\", \"\");else if (message.type === \"hide\") {\n          $el.hide();\n          $el.removeClass(\"active\");\n        }\n      }\n    });\n    addMessageHandler(\"updateQueryString\", function (message) {\n      // leave the bookmarking code intact\n      if (message.mode === \"replace\") {\n        window.history.replaceState(null, null, message.queryString);\n        return;\n      }\n\n      var what = null;\n      if (message.queryString.charAt(0) === \"#\") what = \"hash\";else if (message.queryString.charAt(0) === \"?\") what = \"query\";else throw \"The 'query' string must start with either '?' \" + \"(to update the query string) or with '#' (to \" + \"update the hash).\";\n      var path = window.location.pathname;\n      var oldQS = window.location.search;\n      var oldHash = window.location.hash;\n      /* Barbara -- December 2016\n      Note: we could check if the new QS and/or hash are different\n      from the old one(s) and, if not, we could choose not to push\n      a new state (whether or not we would replace it is moot/\n      inconsequential). However, I think that it is better to\n      interpret each call to `updateQueryString` as representing\n      new state (even if the message.queryString is the same), so\n      that check isn't even performed as of right now.\n      */\n\n      var relURL = path;\n      if (what === \"query\") relURL += message.queryString;else relURL += oldQS + message.queryString; // leave old QS if it exists\n\n      window.history.pushState(null, null, relURL); // for the case when message.queryString has both a query string\n      // and a hash (`what = \"hash\"` allows us to trigger the\n      // hashchange event)\n\n      if (message.queryString.indexOf(\"#\") !== -1) what = \"hash\"; // for the case when there was a hash before, but there isn't\n      // any hash now (e.g. for when only the query string is updated)\n\n      if (window.location.hash !== oldHash) what = \"hash\"; // This event needs to be triggered manually because pushState() never\n      // causes a hashchange event to be fired,\n\n      if (what === \"hash\") $(document).trigger(\"hashchange\");\n    });\n    addMessageHandler(\"resetBrush\", function (message) {\n      Shiny.resetBrush(message.brushId);\n    }); // Progress reporting ====================================================\n\n    var progressHandlers = {\n      // Progress for a particular object\n      binding: function binding(message) {\n        var key = message.id;\n        var binding = this.$bindings[key];\n\n        if (binding) {\n          $(binding.el).trigger({\n            type: \"shiny:outputinvalidated\",\n            binding: binding,\n            name: key\n          });\n          if (binding.showProgress) binding.showProgress(true);\n        }\n      },\n      // Open a page-level progress bar\n      open: function open(message) {\n        if (message.style === \"notification\") {\n          // For new-style (starting in Shiny 0.14) progress indicators that use\n          // the notification API.\n          // Progress bar starts hidden; will be made visible if a value is provided\n          // during updates.\n          Shiny.notifications.show({\n            html: \"<div id=\\\"shiny-progress-\".concat(message.id, \"\\\" class=\\\"shiny-progress-notification\\\">\") + '<div class=\"progress active\" style=\"display: none;\"><div class=\"progress-bar\"></div></div>' + '<div class=\"progress-text\">' + '<span class=\"progress-message\">message</span> ' + '<span class=\"progress-detail\"></span>' + \"</div>\" + \"</div>\",\n            id: message.id,\n            duration: null\n          });\n        } else if (message.style === \"old\") {\n          // For old-style (Shiny <=0.13.2) progress indicators.\n          // Add progress container (for all progress items) if not already present\n          var $container = $(\".shiny-progress-container\");\n\n          if ($container.length === 0) {\n            $container = $('<div class=\"shiny-progress-container\"></div>');\n            $(document.body).append($container);\n          } // Add div for just this progress ID\n\n\n          var depth = $(\".shiny-progress.open\").length; // The 'bar' class is needed for backward compatibility with Bootstrap 2.\n\n          var $progress = $('<div class=\"shiny-progress open\">' + '<div class=\"progress active\"><div class=\"progress-bar bar\"></div></div>' + '<div class=\"progress-text\">' + '<span class=\"progress-message\">message</span>' + '<span class=\"progress-detail\"></span>' + \"</div>\" + \"</div>\");\n          $progress.attr(\"id\", message.id);\n          $container.append($progress); // Stack bars\n\n          var $progressBar = $progress.find(\".progress\");\n          $progressBar.css(\"top\", depth * $progressBar.height() + \"px\"); // Stack text objects\n\n          var $progressText = $progress.find(\".progress-text\");\n          $progressText.css(\"top\", 3 * $progressBar.height() + depth * $progressText.outerHeight() + \"px\");\n          $progress.hide();\n        }\n      },\n      // Update page-level progress bar\n      update: function update(message) {\n        if (message.style === \"notification\") {\n          // For new-style (starting in Shiny 0.14) progress indicators that use\n          // the notification API.\n          var $progress = $(\"#shiny-progress-\" + message.id);\n          if ($progress.length === 0) return;\n\n          if (typeof message.message !== \"undefined\") {\n            $progress.find(\".progress-message\").text(message.message);\n          }\n\n          if (typeof message.detail !== \"undefined\") {\n            $progress.find(\".progress-detail\").text(message.detail);\n          }\n\n          if (typeof message.value !== \"undefined\" && message.value !== null) {\n            $progress.find(\".progress\").show();\n            $progress.find(\".progress-bar\").width(message.value * 100 + \"%\");\n          }\n        } else if (message.style === \"old\") {\n          // For old-style (Shiny <=0.13.2) progress indicators.\n          var _$progress = $(\"#\" + message.id + \".shiny-progress\");\n\n          if (typeof message.message !== \"undefined\") {\n            _$progress.find(\".progress-message\").text(message.message);\n          }\n\n          if (typeof message.detail !== \"undefined\") {\n            _$progress.find(\".progress-detail\").text(message.detail);\n          }\n\n          if (typeof message.value !== \"undefined\" && message.value !== null) {\n            _$progress.find(\".progress\").show();\n\n            _$progress.find(\".bar\").width(message.value * 100 + \"%\");\n          }\n\n          _$progress.fadeIn();\n        }\n      },\n      // Close page-level progress bar\n      close: function close(message) {\n        if (message.style === \"notification\") {\n          Shiny.notifications.remove(message.id);\n        } else if (message.style === \"old\") {\n          var $progress = $(\"#\" + message.id + \".shiny-progress\");\n          $progress.removeClass(\"open\");\n          $progress.fadeOut({\n            complete: function complete() {\n              $progress.remove(); // If this was the last shiny-progress, remove container\n\n              if ($(\".shiny-progress\").length === 0) $(\".shiny-progress-container\").remove();\n            }\n          });\n        }\n      }\n    };\n    Shiny.progressHandlers = progressHandlers; // Returns a URL which can be queried to get values from inside the server\n    // function. This is enabled with `options(shiny.testmode=TRUE)`.\n\n    this.getTestSnapshotBaseUrl = function () {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$fullUrl = _ref2.fullUrl,\n          fullUrl = _ref2$fullUrl === void 0 ? true : _ref2$fullUrl;\n\n      var loc = window.location;\n      var url = \"\";\n\n      if (fullUrl) {\n        // Strip off everything after last slash in path, like dirname() in R\n        url = loc.origin + loc.pathname.replace(/\\/[^/]*$/, \"\");\n      }\n\n      url += \"/session/\" + encodeURIComponent(this.config.sessionId) + \"/dataobj/shinytest?w=\" + encodeURIComponent(this.config.workerId) + \"&nonce=\" + randomId();\n      return url;\n    };\n  }).call(ShinyApp.prototype);\n\n  Shiny.showReconnectDialog = function () {\n    var reconnectTime = null;\n\n    function updateTime() {\n      var $time = $(\"#shiny-reconnect-time\"); // If the time has been removed, exit and don't reschedule this function.\n\n      if ($time.length === 0) return;\n      var seconds = Math.floor((reconnectTime - new Date().getTime()) / 1000);\n\n      if (seconds > 0) {\n        $time.text(\" in \" + seconds + \"s\");\n      } else {\n        $time.text(\"...\");\n      } // Reschedule this function after 1 second\n\n\n      setTimeout(updateTime, 1000);\n    }\n\n    return function (delay) {\n      reconnectTime = new Date().getTime() + delay; // If there's already a reconnect dialog, don't add another\n\n      if ($(\"#shiny-reconnect-text\").length > 0) return;\n      var html = '<span id=\"shiny-reconnect-text\">Attempting to reconnect</span>' + '<span id=\"shiny-reconnect-time\"></span>';\n      var action = '<a id=\"shiny-reconnect-now\" href=\"#\" onclick=\"Shiny.shinyapp.reconnect();\">Try now</a>';\n      Shiny.notifications.show({\n        id: \"reconnect\",\n        html: html,\n        action: action,\n        duration: null,\n        closeButton: false,\n        type: \"warning\"\n      });\n      updateTime();\n    };\n  }();\n\n  Shiny.hideReconnectDialog = function () {\n    Shiny.notifications.remove(\"reconnect\");\n  }; // \"notifications.js\"\n\n\n  Shiny.notifications = function () {\n    // Milliseconds to fade in or out\n    var fadeDuration = 250;\n\n    function show() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$html = _ref3.html,\n          html = _ref3$html === void 0 ? \"\" : _ref3$html,\n          _ref3$action = _ref3.action,\n          action = _ref3$action === void 0 ? \"\" : _ref3$action,\n          _ref3$deps = _ref3.deps,\n          deps = _ref3$deps === void 0 ? [] : _ref3$deps,\n          _ref3$duration = _ref3.duration,\n          duration = _ref3$duration === void 0 ? 5000 : _ref3$duration,\n          _ref3$id = _ref3.id,\n          id = _ref3$id === void 0 ? null : _ref3$id,\n          _ref3$closeButton = _ref3.closeButton,\n          closeButton = _ref3$closeButton === void 0 ? true : _ref3$closeButton,\n          _ref3$type = _ref3.type,\n          type = _ref3$type === void 0 ? null : _ref3$type;\n\n      if (!id) id = randomId(); // Create panel if necessary\n\n      _createPanel(); // Get existing DOM element for this ID, or create if needed.\n\n\n      var $notification = _get(id);\n\n      if ($notification.length === 0) $notification = _create(id); // Render html and dependencies\n\n      var newHtml = \"<div class=\\\"shiny-notification-content-text\\\">\".concat(html, \"</div>\") + \"<div class=\\\"shiny-notification-content-action\\\">\".concat(action, \"</div>\");\n      var $content = $notification.find(\".shiny-notification-content\");\n      Shiny.renderContent($content, {\n        html: newHtml,\n        deps: deps\n      }); // Remove any existing classes of the form 'shiny-notification-xxxx'.\n      // The xxxx would be strings like 'warning'.\n\n      var classes = $notification.attr(\"class\").split(/\\s+/).filter(function (cls) {\n        return cls.match(/^shiny-notification-/);\n      }).join(\" \");\n      $notification.removeClass(classes); // Add class. 'default' means no additional CSS class.\n\n      if (type && type !== \"default\") $notification.addClass(\"shiny-notification-\" + type); // Make sure that the presence/absence of close button matches with value\n      // of `closeButton`.\n\n      var $close = $notification.find(\".shiny-notification-close\");\n\n      if (closeButton && $close.length === 0) {\n        $notification.append('<div class=\"shiny-notification-close\">&times;</div>');\n      } else if (!closeButton && $close.length !== 0) {\n        $close.remove();\n      } // If duration was provided, schedule removal. If not, clear existing\n      // removal callback (this happens if a message was first added with\n      // a duration, and then updated with no duration).\n\n\n      if (duration) _addRemovalCallback(id, duration);else _clearRemovalCallback(id);\n      return id;\n    }\n\n    function remove(id) {\n      _get(id).fadeOut(fadeDuration, function () {\n        Shiny.unbindAll(this);\n        $(this).remove(); // If no more notifications, remove the panel from the DOM.\n\n        if (_ids().length === 0) {\n          _getPanel().remove();\n        }\n      });\n    } // Returns an individual notification DOM object (wrapped in jQuery).\n\n\n    function _get(id) {\n      if (!id) return null;\n      return _getPanel().find(\"#shiny-notification-\" + $escape(id));\n    } // Return array of all notification IDs\n\n\n    function _ids() {\n      return _getPanel().find(\".shiny-notification\").map(function () {\n        return this.id.replace(/shiny-notification-/, \"\");\n      }).get();\n    } // Returns the notification panel DOM object (wrapped in jQuery).\n\n\n    function _getPanel() {\n      return $(\"#shiny-notification-panel\");\n    } // Create notifications panel and return the jQuery object. If the DOM\n    // element already exists, just return it.\n\n\n    function _createPanel() {\n      var $panel = _getPanel();\n\n      if ($panel.length > 0) return $panel;\n      $(document.body).append('<div id=\"shiny-notification-panel\">');\n      return $panel;\n    } // Create a notification DOM element and return the jQuery object. If the\n    // DOM element already exists for the ID, just return it without creating.\n\n\n    function _create(id) {\n      var $notification = _get(id);\n\n      if ($notification.length === 0) {\n        $notification = $(\"<div id=\\\"shiny-notification-\".concat(id, \"\\\" class=\\\"shiny-notification\\\">\") + '<div class=\"shiny-notification-close\">&times;</div>' + '<div class=\"shiny-notification-content\"></div>' + \"</div>\");\n        $notification.find(\".shiny-notification-close\").on(\"click\", function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n          remove(id);\n        });\n\n        _getPanel().append($notification);\n      }\n\n      return $notification;\n    } // Add a callback to remove a notification after a delay in ms.\n\n\n    function _addRemovalCallback(id, delay) {\n      // If there's an existing removalCallback, clear it before adding the new\n      // one.\n      _clearRemovalCallback(id); // Attach new removal callback\n\n\n      var removalCallback = setTimeout(function () {\n        remove(id);\n      }, delay);\n\n      _get(id).data(\"removalCallback\", removalCallback);\n    } // Clear a removal callback from a notification, if present.\n\n\n    function _clearRemovalCallback(id) {\n      var $notification = _get(id);\n\n      var oldRemovalCallback = $notification.data(\"removalCallback\");\n\n      if (oldRemovalCallback) {\n        clearTimeout(oldRemovalCallback);\n      }\n    }\n\n    return {\n      show: show,\n      remove: remove\n    };\n  }(); // \"modal.js\"\n\n\n  Shiny.modal = {\n    // Show a modal dialog. This is meant to handle two types of cases: one is\n    // that the content is a Bootstrap modal dialog, and the other is that the\n    // content is non-Bootstrap. Bootstrap modals require some special handling,\n    // which is coded in here.\n    show: function show() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$html = _ref4.html,\n          html = _ref4$html === void 0 ? \"\" : _ref4$html,\n          _ref4$deps = _ref4.deps,\n          deps = _ref4$deps === void 0 ? [] : _ref4$deps;\n\n      // If there was an existing Bootstrap modal, then there will be a modal-\n      // backdrop div that was added outside of the modal wrapper, and it must be\n      // removed; otherwise there can be multiple of these divs.\n      $(\".modal-backdrop\").remove(); // Get existing wrapper DOM element, or create if needed.\n\n      var $modal = $(\"#shiny-modal-wrapper\");\n\n      if ($modal.length === 0) {\n        $modal = $('<div id=\"shiny-modal-wrapper\"></div>');\n        $(document.body).append($modal); // If the wrapper's content is a Bootstrap modal, then when the inner\n        // modal is hidden, remove the entire thing, including wrapper.\n\n        $modal.on(\"hidden.bs.modal\", function (e) {\n          if (e.target === $(\"#shiny-modal\")[0]) {\n            Shiny.unbindAll($modal);\n            $modal.remove();\n          }\n        });\n      }\n\n      $modal.on(\"keydown.shinymodal\", function (e) {\n        // If we're listening for Esc, don't let the event propagate. See\n        // https://github.com/rstudio/shiny/issues/1453. The value of\n        // data(\"keyboard\") needs to be checked inside the handler, because at\n        // the time that $modal.on() is called, the $(\"#shiny-modal\") div doesn't\n        // yet exist.\n        if ($(\"#shiny-modal\").data(\"keyboard\") === false) return;\n\n        if (e.keyCode === 27) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }); // Set/replace contents of wrapper with html.\n\n      Shiny.renderContent($modal, {\n        html: html,\n        deps: deps\n      });\n    },\n    remove: function remove() {\n      var $modal = $(\"#shiny-modal-wrapper\");\n      $modal.off(\"keydown.shinymodal\"); // Look for a Bootstrap modal and if present, trigger hide event. This will\n      // trigger the hidden.bs.modal callback that we set in show(), which unbinds\n      // and removes the element.\n\n      if ($modal.find(\".modal\").length > 0) {\n        $modal.find(\".modal\").modal(\"hide\");\n      } else {\n        // If not a Bootstrap modal dialog, simply unbind and remove it.\n        Shiny.unbindAll($modal);\n        $modal.remove();\n      }\n    }\n  }; // \"file_processor.js\"\n  // \u221A\n  // \"binding_registry.js\"\n\n  var BindingRegistry = function BindingRegistry() {\n    this.bindings = [];\n    this.bindingNames = {};\n  };\n\n  (function () {\n    this.register = function (binding, bindingName, priority) {\n      var bindingObj = {\n        binding: binding,\n        priority: priority || 0\n      };\n      this.bindings.unshift(bindingObj);\n\n      if (bindingName) {\n        this.bindingNames[bindingName] = bindingObj;\n        binding.name = bindingName;\n      }\n    };\n\n    this.setPriority = function (bindingName, priority) {\n      var bindingObj = this.bindingNames[bindingName];\n      if (!bindingObj) throw \"Tried to set priority on unknown binding \" + bindingName;\n      bindingObj.priority = priority || 0;\n    };\n\n    this.getPriority = function (bindingName) {\n      var bindingObj = this.bindingNames[bindingName];\n      if (!bindingObj) return false;\n      return bindingObj.priority;\n    };\n\n    this.getBindings = function () {\n      // Sort the bindings. The ones with higher priority are consulted\n      // first; ties are broken by most-recently-registered.\n      return mergeSort(this.bindings, function (a, b) {\n        return b.priority - a.priority;\n      });\n    };\n  }).call(BindingRegistry.prototype);\n  var inputBindings = Shiny.inputBindings = new BindingRegistry();\n  var outputBindings = Shiny.outputBindings = new BindingRegistry(); // \"output_binding.js\"\n\n  var OutputBinding = Shiny.OutputBinding = function () {};\n\n  (function () {\n    // Returns a jQuery object or element array that contains the\n    // descendants of scope that match this binding\n    this.find = function (scope) {\n      throw \"Not implemented\";\n    };\n\n    this.getId = function (el) {\n      return el[\"data-input-id\"] || el.id;\n    };\n\n    this.onValueChange = function (el, data) {\n      this.clearError(el);\n      this.renderValue(el, data);\n    };\n\n    this.onValueError = function (el, err) {\n      this.renderError(el, err);\n    };\n\n    this.renderError = function (el, err) {\n      this.clearError(el);\n\n      if (err.message === \"\") {\n        // not really error, but we just need to wait (e.g. action buttons)\n        $(el).empty();\n        return;\n      }\n\n      var errClass = \"shiny-output-error\";\n\n      if (err.type !== null) {\n        // use the classes of the error condition as CSS class names\n        errClass = errClass + \" \" + $.map(asArray(err.type), function (type) {\n          return errClass + \"-\" + type;\n        }).join(\" \");\n      }\n\n      $(el).addClass(errClass).text(err.message);\n    };\n\n    this.clearError = function (el) {\n      $(el).attr(\"class\", function (i, c) {\n        return c.replace(/(^|\\s)shiny-output-error\\S*/g, \"\");\n      });\n    };\n\n    this.showProgress = function (el, show) {\n      var RECALC_CLASS = \"recalculating\";\n      if (show) $(el).addClass(RECALC_CLASS);else $(el).removeClass(RECALC_CLASS);\n    };\n  }).call(OutputBinding.prototype); // \"output_binding_text.js\"\n\n  var textOutputBinding = new OutputBinding();\n  $.extend(textOutputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".shiny-text-output\");\n    },\n    renderValue: function renderValue(el, data) {\n      $(el).text(data);\n    }\n  });\n  outputBindings.register(textOutputBinding, \"shiny.textOutput\"); // \"output_binding_image.js\"\n\n  var imageOutputBinding = new OutputBinding();\n  $.extend(imageOutputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".shiny-image-output, .shiny-plot-output\");\n    },\n    renderValue: function renderValue(el, data) {\n      // The overall strategy:\n      // * Clear out existing image and event handlers.\n      // * Create new image.\n      // * Create various event handlers.\n      // * Bind those event handlers to events.\n      // * Insert the new image.\n      var outputId = this.getId(el);\n      var $el = $(el);\n      var img; // Get existing img element if present.\n\n      var $img = $el.find(\"img\");\n\n      if ($img.length === 0) {\n        // If a img element is not already present, that means this is either\n        // the first time renderValue() has been called, or this is after an\n        // error.\n        img = document.createElement(\"img\");\n        $el.append(img);\n        $img = $(img);\n      } else {\n        // Trigger custom 'reset' event for any existing images in the div\n        img = $img[0];\n        $img.trigger(\"reset\");\n      }\n\n      if (!data) {\n        $el.empty();\n        return;\n      } // If value is undefined, return alternate. Sort of like ||, except it won't\n      // return alternate for other falsy values (0, false, null).\n\n\n      function OR(value, alternate) {\n        if (value === undefined) return alternate;\n        return value;\n      }\n\n      var opts = {\n        clickId: $el.data(\"click-id\"),\n        clickClip: OR(strToBool($el.data(\"click-clip\")), true),\n        dblclickId: $el.data(\"dblclick-id\"),\n        dblclickClip: OR(strToBool($el.data(\"dblclick-clip\")), true),\n        dblclickDelay: OR($el.data(\"dblclick-delay\"), 400),\n        hoverId: $el.data(\"hover-id\"),\n        hoverClip: OR(strToBool($el.data(\"hover-clip\")), true),\n        hoverDelayType: OR($el.data(\"hover-delay-type\"), \"debounce\"),\n        hoverDelay: OR($el.data(\"hover-delay\"), 300),\n        hoverNullOutside: OR(strToBool($el.data(\"hover-null-outside\")), false),\n        brushId: $el.data(\"brush-id\"),\n        brushClip: OR(strToBool($el.data(\"brush-clip\")), true),\n        brushDelayType: OR($el.data(\"brush-delay-type\"), \"debounce\"),\n        brushDelay: OR($el.data(\"brush-delay\"), 300),\n        brushFill: OR($el.data(\"brush-fill\"), \"#666\"),\n        brushStroke: OR($el.data(\"brush-stroke\"), \"#000\"),\n        brushOpacity: OR($el.data(\"brush-opacity\"), 0.3),\n        brushDirection: OR($el.data(\"brush-direction\"), \"xy\"),\n        brushResetOnNew: OR(strToBool($el.data(\"brush-reset-on-new\")), false),\n        coordmap: data.coordmap\n      };\n\n      if (opts.brushFill === \"auto\") {\n        opts.brushFill = getComputedLinkColor($el[0]);\n      }\n\n      if (opts.brushStroke === \"auto\") {\n        opts.brushStroke = getStyle($el[0], \"color\");\n      } // Copy items from data to img. Don't set the coordmap as an attribute.\n\n\n      $.each(data, function (key, value) {\n        if (value === null || key === \"coordmap\") {\n          return;\n        } // this checks only against base64 encoded src values\n        // images put here are only from renderImage and renderPlot\n\n\n        if (key === \"src\" && value === img.getAttribute(\"src\")) {\n          // Ensure the browser actually fires an onLoad event, which doesn't\n          // happen on WebKit if the value we set on src is the same as the\n          // value it already has\n          // https://github.com/rstudio/shiny/issues/2197\n          // https://stackoverflow.com/questions/5024111/javascript-image-onload-doesnt-fire-in-webkit-if-loading-same-image\n          img.removeAttribute(\"src\");\n        }\n\n        img.setAttribute(key, value);\n      }); // Unset any attributes in the current img that were not provided in the\n      // new data.\n\n      for (var i = 0; i < img.attributes.length; i++) {\n        var attrib = img.attributes[i]; // Need to check attrib.specified on IE because img.attributes contains\n        // all possible attributes on IE.\n\n        if (attrib.specified && !data.hasOwnProperty(attrib.name)) {\n          img.removeAttribute(attrib.name);\n        }\n      }\n\n      if (!opts.coordmap) {\n        opts.coordmap = {\n          panels: [],\n          dims: {\n            // These values be set to the naturalWidth and naturalHeight once the image has loaded\n            height: null,\n            width: null\n          }\n        };\n      } // Remove event handlers that were added in previous runs of this function.\n\n\n      $el.off(\".image_output\");\n      $img.off(\".image_output\"); // When the image loads, initialize all the interaction handlers. When the\n      // value of src is set, the browser may not load the image immediately,\n      // even if it's a data URL. If we try to initialize this stuff\n      // immediately, it can cause problems because we use we need the raw image\n      // height and width\n\n      $img.off(\"load.shiny_image_interaction\");\n      $img.one(\"load.shiny_image_interaction\", function () {\n        imageutils.initCoordmap($el, opts.coordmap); // This object listens for mousedowns, and triggers mousedown2 and dblclick2\n        // events as appropriate.\n\n        var clickInfo = imageutils.createClickInfo($el, opts.dblclickId, opts.dblclickDelay);\n        $el.on(\"mousedown.image_output\", clickInfo.mousedown);\n\n        if (isIE() && IEVersion() === 8) {\n          $el.on(\"dblclick.image_output\", clickInfo.dblclickIE8);\n        } // ----------------------------------------------------------\n        // Register the various event handlers\n        // ----------------------------------------------------------\n\n\n        if (opts.clickId) {\n          imageutils.disableDrag($el, $img);\n          var clickHandler = imageutils.createClickHandler(opts.clickId, opts.clickClip, opts.coordmap);\n          $el.on(\"mousedown2.image_output\", clickHandler.mousedown);\n          $el.on(\"resize.image_output\", clickHandler.onResize); // When img is reset, do housekeeping: clear $el's mouse listener and\n          // call the handler's onResetImg callback.\n\n          $img.on(\"reset.image_output\", clickHandler.onResetImg);\n        }\n\n        if (opts.dblclickId) {\n          imageutils.disableDrag($el, $img); // We'll use the clickHandler's mousedown function, but register it to\n          // our custom 'dblclick2' event.\n\n          var dblclickHandler = imageutils.createClickHandler(opts.dblclickId, opts.clickClip, opts.coordmap);\n          $el.on(\"dblclick2.image_output\", dblclickHandler.mousedown);\n          $el.on(\"resize.image_output\", dblclickHandler.onResize);\n          $img.on(\"reset.image_output\", dblclickHandler.onResetImg);\n        }\n\n        if (opts.hoverId) {\n          imageutils.disableDrag($el, $img);\n          var hoverHandler = imageutils.createHoverHandler(opts.hoverId, opts.hoverDelay, opts.hoverDelayType, opts.hoverClip, opts.hoverNullOutside, opts.coordmap);\n          $el.on(\"mousemove.image_output\", hoverHandler.mousemove);\n          $el.on(\"mouseout.image_output\", hoverHandler.mouseout);\n          $el.on(\"resize.image_output\", hoverHandler.onResize);\n          $img.on(\"reset.image_output\", hoverHandler.onResetImg);\n        }\n\n        if (opts.brushId) {\n          imageutils.disableDrag($el, $img);\n          var brushHandler = imageutils.createBrushHandler(opts.brushId, $el, opts, opts.coordmap, outputId);\n          $el.on(\"mousedown.image_output\", brushHandler.mousedown);\n          $el.on(\"mousemove.image_output\", brushHandler.mousemove);\n          $el.on(\"resize.image_output\", brushHandler.onResize);\n          $img.on(\"reset.image_output\", brushHandler.onResetImg);\n        }\n\n        if (opts.clickId || opts.dblclickId || opts.hoverId || opts.brushId) {\n          $el.addClass(\"crosshair\");\n        }\n\n        if (data.error) console.log(\"Error on server extracting coordmap: \" + data.error);\n      });\n    },\n    renderError: function renderError(el, err) {\n      $(el).find(\"img\").trigger(\"reset\");\n      OutputBinding.prototype.renderError.call(this, el, err);\n    },\n    clearError: function clearError(el) {\n      // Remove all elements except img and the brush; this is usually just\n      // error messages.\n      $(el).contents().filter(function () {\n        return this.tagName !== \"IMG\" && this.id !== el.id + \"_brush\";\n      }).remove();\n      OutputBinding.prototype.clearError.call(this, el);\n    },\n    resize: function resize(el, width, height) {\n      $(el).find(\"img\").trigger(\"resize\");\n    }\n  });\n  outputBindings.register(imageOutputBinding, \"shiny.imageOutput\");\n  var imageutils = {};\n\n  imageutils.disableDrag = function ($el, $img) {\n    // Make image non-draggable (Chrome, Safari)\n    $img.css(\"-webkit-user-drag\", \"none\"); // Firefox, IE<=10\n    // First remove existing handler so we don't keep adding handlers.\n\n    $img.off(\"dragstart.image_output\");\n    $img.on(\"dragstart.image_output\", function () {\n      return false;\n    }); // Disable selection of image and text when dragging in IE<=10\n\n    $el.off(\"selectstart.image_output\");\n    $el.on(\"selectstart.image_output\", function () {\n      return false;\n    });\n  }; // Modifies the panel objects in a coordmap, adding scaleImgToData(),\n  // scaleDataToImg(), and clipImg() functions to each one. The panel objects\n  // use img and data coordinates only; they do not use css coordinates. The\n  // domain is in data coordinates; the range is in img coordinates.\n\n\n  imageutils.initPanelScales = function (panels) {\n    // Map a value x from a domain to a range. If clip is true, clip it to the\n    // range.\n    function mapLinear(x, domainMin, domainMax, rangeMin, rangeMax, clip) {\n      // By default, clip to range\n      clip = clip || true;\n      var factor = (rangeMax - rangeMin) / (domainMax - domainMin);\n      var val = x - domainMin;\n      var newval = val * factor + rangeMin;\n\n      if (clip) {\n        var max = Math.max(rangeMax, rangeMin);\n        var min = Math.min(rangeMax, rangeMin);\n        if (newval > max) newval = max;else if (newval < min) newval = min;\n      }\n\n      return newval;\n    } // Create scale and inverse-scale functions for a single direction (x or y).\n\n\n    function scaler1D(domainMin, domainMax, rangeMin, rangeMax, logbase) {\n      return {\n        scale: function scale(val, clip) {\n          if (logbase) val = Math.log(val) / Math.log(logbase);\n          return mapLinear(val, domainMin, domainMax, rangeMin, rangeMax, clip);\n        },\n        scaleInv: function scaleInv(val, clip) {\n          var res = mapLinear(val, rangeMin, rangeMax, domainMin, domainMax, clip);\n          if (logbase) res = Math.pow(logbase, res);\n          return res;\n        }\n      };\n    } // Modify panel, adding scale and inverse-scale functions that take objects\n    // like {x:1, y:3}, and also add clip function.\n\n\n    function addScaleFuns(panel) {\n      var d = panel.domain;\n      var r = panel.range;\n      var xlog = panel.log && panel.log.x ? panel.log.x : null;\n      var ylog = panel.log && panel.log.y ? panel.log.y : null;\n      var xscaler = scaler1D(d.left, d.right, r.left, r.right, xlog);\n      var yscaler = scaler1D(d.bottom, d.top, r.bottom, r.top, ylog); // Given an object of form {x:1, y:2}, or {x:1, xmin:2:, ymax: 3}, convert\n      // from data coordinates to img. Whether a value is converted as x or y\n      // depends on the first character of the key.\n\n      panel.scaleDataToImg = function (val, clip) {\n        return mapValues(val, function (value, key) {\n          var prefix = key.substring(0, 1);\n\n          if (prefix === \"x\") {\n            return xscaler.scale(value, clip);\n          } else if (prefix === \"y\") {\n            return yscaler.scale(value, clip);\n          }\n\n          return null;\n        });\n      };\n\n      panel.scaleImgToData = function (val, clip) {\n        return mapValues(val, function (value, key) {\n          var prefix = key.substring(0, 1);\n\n          if (prefix === \"x\") {\n            return xscaler.scaleInv(value, clip);\n          } else if (prefix === \"y\") {\n            return yscaler.scaleInv(value, clip);\n          }\n\n          return null;\n        });\n      }; // Given a scaled offset (in img pixels), clip it to the nearest panel region.\n\n\n      panel.clipImg = function (offset_img) {\n        var newOffset = {\n          x: offset_img.x,\n          y: offset_img.y\n        };\n        var bounds = panel.range;\n        if (offset_img.x > bounds.right) newOffset.x = bounds.right;else if (offset_img.x < bounds.left) newOffset.x = bounds.left;\n        if (offset_img.y > bounds.bottom) newOffset.y = bounds.bottom;else if (offset_img.y < bounds.top) newOffset.y = bounds.top;\n        return newOffset;\n      };\n    } // Add the functions to each panel object.\n\n\n    for (var i = 0; i < panels.length; i++) {\n      var panel = panels[i];\n      addScaleFuns(panel);\n    }\n  }; // This adds functions to the coordmap object to handle various\n  // coordinate-mapping tasks, and send information to the server. The input\n  // coordmap is an array of objects, each of which represents a panel. coordmap\n  // must be an array, even if empty, so that it can be modified in place; when\n  // empty, we add a dummy panel to the array. It also calls initPanelScales,\n  // which modifies each panel object to have scaleImgToData, scaleDataToImg,\n  // and clip functions.\n  //\n  // There are three coordinate spaces which we need to translate between:\n  //\n  // 1. css: The pixel coordinates in the web browser, also known as CSS pixels.\n  //    The origin is the upper-left corner of the <img> (not including padding\n  //    and border).\n  // 2. img: The pixel coordinates of the image data. A common case is on a\n  //    HiDPI device, where the source PNG image could be 1000 pixels wide but\n  //    be displayed in 500 CSS pixels. Another case is when the image has\n  //    additional scaling due to CSS transforms or width.\n  // 3. data: The coordinates in the data space. This is a bit more complicated\n  //    than the other two, because there can be multiple panels (as in facets).\n\n\n  imageutils.initCoordmap = function ($el, coordmap) {\n    var $img = $el.find(\"img\");\n    var img = $img[0]; // If we didn't get any panels, create a dummy one where the domain and range\n    // are simply the pixel dimensions.\n    // that we modify.\n\n    if (coordmap.panels.length === 0) {\n      var bounds = {\n        top: 0,\n        left: 0,\n        right: img.clientWidth - 1,\n        bottom: img.clientHeight - 1\n      };\n      coordmap.panels[0] = {\n        domain: bounds,\n        range: bounds,\n        mapping: {}\n      };\n    } // If no dim height and width values are found, set them to the raw image height and width\n    // These values should be the same...\n    // This is only done to initialize an image output, whose height and width are unknown until the image is retrieved\n\n\n    coordmap.dims.height = coordmap.dims.height || img.naturalHeight;\n    coordmap.dims.width = coordmap.dims.width || img.naturalWidth; // Add scaling functions to each panel\n\n    imageutils.initPanelScales(coordmap.panels); // This returns the offset of the mouse in CSS pixels relative to the img,\n    // but not including the  padding or border, if present.\n\n    coordmap.mouseOffsetCss = function (mouseEvent) {\n      var img_origin = findOrigin($img); // The offset of the mouse from the upper-left corner of the img, in\n      // pixels.\n\n      return {\n        x: mouseEvent.pageX - img_origin.x,\n        y: mouseEvent.pageY - img_origin.y\n      };\n    }; // Given an offset in an img in CSS pixels, return the corresponding offset\n    // in source image pixels. The offset_css can have properties like \"x\",\n    // \"xmin\", \"y\", and \"ymax\" -- anything that starts with \"x\" and \"y\". If the\n    // img content is 1000 pixels wide, but is scaled to 400 pixels on screen,\n    // and the input is x:400, then this will return x:1000.\n\n\n    coordmap.scaleCssToImg = function (offset_css) {\n      var pixel_scaling = coordmap.imgToCssScalingRatio();\n      var result = mapValues(offset_css, function (value, key) {\n        var prefix = key.substring(0, 1);\n\n        if (prefix === \"x\") {\n          return offset_css[key] / pixel_scaling.x;\n        } else if (prefix === \"y\") {\n          return offset_css[key] / pixel_scaling.y;\n        }\n\n        return null;\n      });\n      return result;\n    }; // Given an offset in an img, in source image pixels, return the\n    // corresponding offset in CSS pixels. If the img content is 1000 pixels\n    // wide, but is scaled to 400 pixels on screen, and the input is x:1000,\n    // then this will return x:400.\n\n\n    coordmap.scaleImgToCss = function (offset_img) {\n      var pixel_scaling = coordmap.imgToCssScalingRatio();\n      var result = mapValues(offset_img, function (value, key) {\n        var prefix = key.substring(0, 1);\n\n        if (prefix === \"x\") {\n          return offset_img[key] * pixel_scaling.x;\n        } else if (prefix === \"y\") {\n          return offset_img[key] * pixel_scaling.y;\n        }\n\n        return null;\n      });\n      return result;\n    }; // Returns the x and y ratio the image content is scaled to on screen. If\n    // the image data is 1000 pixels wide and is scaled to 300 pixels on screen,\n    // then this returns 0.3. (Note the 300 pixels refers to CSS pixels.)\n\n\n    coordmap.imgToCssScalingRatio = function () {\n      var img_dims = findDims($img);\n      return {\n        x: img_dims.x / coordmap.dims.width,\n        y: img_dims.y / coordmap.dims.height\n      };\n    };\n\n    coordmap.cssToImgScalingRatio = function () {\n      var res = coordmap.imgToCssScalingRatio();\n      return {\n        x: 1 / res.x,\n        y: 1 / res.y\n      };\n    }; // Given an offset in css pixels, return an object representing which panel\n    // it's in. The `expand` argument tells it to expand the panel area by that\n    // many pixels. It's possible for an offset to be within more than one\n    // panel, because of the `expand` value. If that's the case, find the\n    // nearest panel.\n\n\n    coordmap.getPanelCss = function (offset_css) {\n      var expand = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var offset_img = coordmap.scaleCssToImg(offset_css);\n      var x = offset_img.x;\n      var y = offset_img.y; // Convert expand from css pixels to img pixels\n\n      var cssToImgRatio = coordmap.cssToImgScalingRatio();\n      var expand_img = {\n        x: expand * cssToImgRatio.x,\n        y: expand * cssToImgRatio.y\n      };\n      var matches = []; // Panels that match\n\n      var dists = []; // Distance of offset to each matching panel\n\n      var b;\n      var i;\n\n      for (i = 0; i < coordmap.panels.length; i++) {\n        b = coordmap.panels[i].range;\n\n        if (x <= b.right + expand_img.x && x >= b.left - expand_img.x && y <= b.bottom + expand_img.y && y >= b.top - expand_img.y) {\n          matches.push(coordmap.panels[i]); // Find distance from edges for x and y\n\n          var xdist = 0;\n          var ydist = 0;\n\n          if (x > b.right && x <= b.right + expand_img.x) {\n            xdist = x - b.right;\n          } else if (x < b.left && x >= b.left - expand_img.x) {\n            xdist = x - b.left;\n          }\n\n          if (y > b.bottom && y <= b.bottom + expand_img.y) {\n            ydist = y - b.bottom;\n          } else if (y < b.top && y >= b.top - expand_img.y) {\n            ydist = y - b.top;\n          } // Cartesian distance\n\n\n          dists.push(Math.sqrt(Math.pow(xdist, 2) + Math.pow(ydist, 2)));\n        }\n      }\n\n      if (matches.length) {\n        // Find shortest distance\n        var min_dist = Math.min.apply(null, dists);\n\n        for (i = 0; i < matches.length; i++) {\n          if (dists[i] === min_dist) {\n            return matches[i];\n          }\n        }\n      }\n\n      return null;\n    }; // Is an offset (in css pixels) in a panel? If supplied, `expand` tells us\n    // to expand the panels by that many pixels in all directions.\n\n\n    coordmap.isInPanelCss = function (offset_css) {\n      var expand = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      if (coordmap.getPanelCss(offset_css, expand)) return true;\n      return false;\n    }; // Returns a function that sends mouse coordinates, scaled to data space.\n    // If that function is passed a null event, it will send null.\n\n\n    coordmap.mouseCoordinateSender = function (inputId, clip, nullOutside) {\n      if (clip === undefined) clip = true;\n      if (nullOutside === undefined) nullOutside = false;\n      return function (e) {\n        if (e === null) {\n          Shiny.setInputValue(inputId, null);\n          return;\n        }\n\n        var coords = {};\n        var coords_css = coordmap.mouseOffsetCss(e); // If outside of plotting region\n\n        if (!coordmap.isInPanelCss(coords_css)) {\n          if (nullOutside) {\n            Shiny.setInputValue(inputId, null);\n            return;\n          }\n\n          if (clip) return;\n          coords.coords_css = coords_css;\n          coords.coords_img = coordmap.scaleCssToImg(coords_css);\n          Shiny.setInputValue(inputId, coords, {\n            priority: \"event\"\n          });\n          return;\n        }\n\n        var panel = coordmap.getPanelCss(coords_css);\n        var coords_img = coordmap.scaleCssToImg(coords_css);\n        var coords_data = panel.scaleImgToData(coords_img);\n        coords.x = coords_data.x;\n        coords.y = coords_data.y;\n        coords.coords_css = coords_css;\n        coords.coords_img = coords_img;\n        coords.img_css_ratio = coordmap.cssToImgScalingRatio(); // Add the panel (facet) variables, if present\n\n        $.extend(coords, panel.panel_vars); // Add variable name mappings\n\n        coords.mapping = panel.mapping; // Add scaling information\n\n        coords.domain = panel.domain;\n        coords.range = panel.range;\n        coords.log = panel.log;\n        Shiny.setInputValue(inputId, coords, {\n          priority: \"event\"\n        });\n      };\n    };\n  }; // Given two sets of x/y coordinates, return an object representing the min\n  // and max x and y values. (This could be generalized to any number of\n  // points).\n\n\n  imageutils.findBox = function (offset1, offset2) {\n    return {\n      xmin: Math.min(offset1.x, offset2.x),\n      xmax: Math.max(offset1.x, offset2.x),\n      ymin: Math.min(offset1.y, offset2.y),\n      ymax: Math.max(offset1.y, offset2.y)\n    };\n  }; // Shift an array of values so that they are within a min and max. The vals\n  // will be shifted so that they maintain the same spacing internally. If the\n  // range in vals is larger than the range of min and max, the result might not\n  // make sense.\n\n\n  imageutils.shiftToRange = function (vals, min, max) {\n    if (!(vals instanceof Array)) vals = [vals];\n    var maxval = Math.max.apply(null, vals);\n    var minval = Math.min.apply(null, vals);\n    var shiftAmount = 0;\n\n    if (maxval > max) {\n      shiftAmount = max - maxval;\n    } else if (minval < min) {\n      shiftAmount = min - minval;\n    }\n\n    var newvals = [];\n\n    for (var i = 0; i < vals.length; i++) {\n      newvals[i] = vals[i] + shiftAmount;\n    }\n\n    return newvals;\n  }; // This object provides two public event listeners: mousedown, and\n  // dblclickIE8.\n  // We need to make sure that, when the image is listening for double-\n  // clicks, that a double-click doesn't trigger two click events. We'll\n  // trigger custom mousedown2 and dblclick2 events with this mousedown\n  // listener.\n\n\n  imageutils.createClickInfo = function ($el, dblclickId, dblclickDelay) {\n    var clickTimer = null;\n    var pending_e = null; // A pending mousedown2 event\n    // Create a new event of type eventType (like 'mousedown2'), and trigger\n    // it with the information stored in this.e.\n\n    function triggerEvent(newEventType, e) {\n      // Extract important info from e and construct a new event with type\n      // eventType.\n      var e2 = $.Event(newEventType, {\n        which: e.which,\n        pageX: e.pageX,\n        pageY: e.pageY\n      });\n      $el.trigger(e2);\n    }\n\n    function triggerPendingMousedown2() {\n      // It's possible that between the scheduling of a mousedown2 and the\n      // time this callback is executed, someone else triggers a\n      // mousedown2, so check for that.\n      if (pending_e) {\n        triggerEvent(\"mousedown2\", pending_e);\n        pending_e = null;\n      }\n    } // Set a timer to trigger a mousedown2 event, using information from the\n    // last recorded mousdown event.\n\n\n    function scheduleMousedown2(e) {\n      pending_e = e;\n      clickTimer = setTimeout(function () {\n        triggerPendingMousedown2();\n      }, dblclickDelay);\n    }\n\n    function mousedown(e) {\n      // Listen for left mouse button only\n      if (e.which !== 1) return; // If no dblclick listener, immediately trigger a mousedown2 event.\n\n      if (!dblclickId) {\n        triggerEvent(\"mousedown2\", e);\n        return;\n      } // If there's a dblclick listener, make sure not to count this as a\n      // click on the first mousedown; we need to wait for the dblclick\n      // delay before we can be sure this click was a single-click.\n\n\n      if (pending_e === null) {\n        scheduleMousedown2(e);\n      } else {\n        clearTimeout(clickTimer); // If second click is too far away, it doesn't count as a double\n        // click. Instead, immediately trigger a mousedown2 for the previous\n        // click, and set this click as a new first click.\n\n        if (pending_e && Math.abs(pending_e.pageX - e.pageX) > 2 || Math.abs(pending_e.pageY - e.pageY) > 2) {\n          triggerPendingMousedown2();\n          scheduleMousedown2(e);\n        } else {\n          // The second click was close to the first one. If it happened\n          // within specified delay, trigger our custom 'dblclick2' event.\n          pending_e = null;\n          triggerEvent(\"dblclick2\", e);\n        }\n      }\n    } // IE8 needs a special hack because when you do a double-click it doesn't\n    // trigger the click event twice - it directly triggers dblclick.\n\n\n    function dblclickIE8(e) {\n      e.which = 1; // In IE8, e.which is 0 instead of 1. ???\n\n      triggerEvent(\"dblclick2\", e);\n    }\n\n    return {\n      mousedown: mousedown,\n      dblclickIE8: dblclickIE8\n    };\n  }; // ----------------------------------------------------------\n  // Handler creators for click, hover, brush.\n  // Each of these returns an object with a few public members. These public\n  // members are callbacks that are meant to be bound to events on $el with\n  // the same name (like 'mousedown').\n  // ----------------------------------------------------------\n\n\n  imageutils.createClickHandler = function (inputId, clip, coordmap) {\n    var clickInfoSender = coordmap.mouseCoordinateSender(inputId, clip);\n    return {\n      mousedown: function mousedown(e) {\n        // Listen for left mouse button only\n        if (e.which !== 1) return;\n        clickInfoSender(e);\n      },\n      onResetImg: function onResetImg() {\n        clickInfoSender(null);\n      },\n      onResize: null\n    };\n  };\n\n  imageutils.createHoverHandler = function (inputId, delay, delayType, clip, nullOutside, coordmap) {\n    var sendHoverInfo = coordmap.mouseCoordinateSender(inputId, clip, nullOutside);\n    var hoverInfoSender;\n    if (delayType === \"throttle\") hoverInfoSender = new Throttler(null, sendHoverInfo, delay);else hoverInfoSender = new Debouncer(null, sendHoverInfo, delay); // What to do when mouse exits the image\n\n    var mouseout;\n    if (nullOutside) mouseout = function mouseout() {\n      hoverInfoSender.normalCall(null);\n    };else mouseout = function mouseout() {};\n    return {\n      mousemove: function mousemove(e) {\n        hoverInfoSender.normalCall(e);\n      },\n      mouseout: mouseout,\n      onResetImg: function onResetImg() {\n        hoverInfoSender.immediateCall(null);\n      },\n      onResize: null\n    };\n  }; // Returns a brush handler object. This has three public functions:\n  // mousedown, mousemove, and onResetImg.\n\n\n  imageutils.createBrushHandler = function (inputId, $el, opts, coordmap, outputId) {\n    // Parameter: expand the area in which a brush can be started, by this\n    // many pixels in all directions. (This should probably be a brush option)\n    var expandPixels = 20; // Represents the state of the brush\n\n    var brush = imageutils.createBrush($el, opts, coordmap, expandPixels); // Brush IDs can span multiple image/plot outputs. When an output is brushed,\n    // if a brush with the same ID is active on a different image/plot, it must\n    // be dismissed (but without sending any data to the server). We implement\n    // this by sending the shiny-internal:brushed event to all plots, and letting\n    // each plot decide for itself what to do.\n    //\n    // The decision to have the event sent to each plot (as opposed to a single\n    // event triggered on, say, the document) was made to make cleanup easier;\n    // listening on an event on the document would prevent garbage collection\n    // of plot outputs that are removed from the document.\n\n    $el.on(\"shiny-internal:brushed.image_output\", function (e, coords) {\n      // If the new brush shares our ID but not our output element ID, we\n      // need to clear our brush (if any).\n      if (coords.brushId === inputId && coords.outputId !== outputId) {\n        $el.data(\"mostRecentBrush\", false);\n        brush.reset();\n      }\n    }); // Set cursor to one of 7 styles. We need to set the cursor on the whole\n    // el instead of the brush div, because the brush div has\n    // 'pointer-events:none' so that it won't intercept pointer events.\n    // If `style` is null, don't add a cursor style.\n\n    function setCursorStyle(style) {\n      $el.removeClass(\"crosshair grabbable grabbing ns-resize ew-resize nesw-resize nwse-resize\");\n      if (style) $el.addClass(style);\n    }\n\n    function sendBrushInfo() {\n      var coords = brush.boundsData(); // We're in a new or reset state\n\n      if (isNaN(coords.xmin)) {\n        Shiny.setInputValue(inputId, null); // Must tell other brushes to clear.\n\n        imageOutputBinding.find(document).trigger(\"shiny-internal:brushed\", {\n          brushId: inputId,\n          outputId: null\n        });\n        return;\n      }\n\n      var panel = brush.getPanel(); // Add the panel (facet) variables, if present\n\n      $.extend(coords, panel.panel_vars);\n      coords.coords_css = brush.boundsCss();\n      coords.coords_img = coordmap.scaleCssToImg(coords.coords_css);\n      coords.img_css_ratio = coordmap.cssToImgScalingRatio(); // Add variable name mappings\n\n      coords.mapping = panel.mapping; // Add scaling information\n\n      coords.domain = panel.domain;\n      coords.range = panel.range;\n      coords.log = panel.log;\n      coords.direction = opts.brushDirection;\n      coords.brushId = inputId;\n      coords.outputId = outputId; // Send data to server\n\n      Shiny.setInputValue(inputId, coords);\n      $el.data(\"mostRecentBrush\", true);\n      imageOutputBinding.find(document).trigger(\"shiny-internal:brushed\", coords);\n    }\n\n    var brushInfoSender;\n\n    if (opts.brushDelayType === \"throttle\") {\n      brushInfoSender = new Throttler(null, sendBrushInfo, opts.brushDelay);\n    } else {\n      brushInfoSender = new Debouncer(null, sendBrushInfo, opts.brushDelay);\n    }\n\n    function mousedown(e) {\n      // This can happen when mousedown inside the graphic, then mouseup\n      // outside, then mousedown inside. Just ignore the second\n      // mousedown.\n      if (brush.isBrushing() || brush.isDragging() || brush.isResizing()) return; // Listen for left mouse button only\n\n      if (e.which !== 1) return; // In general, brush uses css pixels, and coordmap uses img pixels.\n\n      var offset_css = coordmap.mouseOffsetCss(e); // Ignore mousedown events outside of plotting region, expanded by\n      // a number of pixels specified in expandPixels.\n\n      if (opts.brushClip && !coordmap.isInPanelCss(offset_css, expandPixels)) return;\n      brush.up({\n        x: NaN,\n        y: NaN\n      });\n      brush.down(offset_css);\n\n      if (brush.isInResizeArea(offset_css)) {\n        brush.startResizing(offset_css); // Attach the move and up handlers to the window so that they respond\n        // even when the mouse is moved outside of the image.\n\n        $(document).on(\"mousemove.image_brush\", mousemoveResizing).on(\"mouseup.image_brush\", mouseupResizing);\n      } else if (brush.isInsideBrush(offset_css)) {\n        brush.startDragging(offset_css);\n        setCursorStyle(\"grabbing\"); // Attach the move and up handlers to the window so that they respond\n        // even when the mouse is moved outside of the image.\n\n        $(document).on(\"mousemove.image_brush\", mousemoveDragging).on(\"mouseup.image_brush\", mouseupDragging);\n      } else {\n        var panel = coordmap.getPanelCss(offset_css, expandPixels);\n        brush.startBrushing(panel.clipImg(coordmap.scaleCssToImg(offset_css))); // Attach the move and up handlers to the window so that they respond\n        // even when the mouse is moved outside of the image.\n\n        $(document).on(\"mousemove.image_brush\", mousemoveBrushing).on(\"mouseup.image_brush\", mouseupBrushing);\n      }\n    } // This sets the cursor style when it's in the el\n\n\n    function mousemove(e) {\n      // In general, brush uses css pixels, and coordmap uses img pixels.\n      var offset_css = coordmap.mouseOffsetCss(e);\n\n      if (!(brush.isBrushing() || brush.isDragging() || brush.isResizing())) {\n        // Set the cursor depending on where it is\n        if (brush.isInResizeArea(offset_css)) {\n          var r = brush.whichResizeSides(offset_css);\n\n          if (r.left && r.top || r.right && r.bottom) {\n            setCursorStyle(\"nwse-resize\");\n          } else if (r.left && r.bottom || r.right && r.top) {\n            setCursorStyle(\"nesw-resize\");\n          } else if (r.left || r.right) {\n            setCursorStyle(\"ew-resize\");\n          } else if (r.top || r.bottom) {\n            setCursorStyle(\"ns-resize\");\n          }\n        } else if (brush.isInsideBrush(offset_css)) {\n          setCursorStyle(\"grabbable\");\n        } else if (coordmap.isInPanelCss(offset_css, expandPixels)) {\n          setCursorStyle(\"crosshair\");\n        } else {\n          setCursorStyle(null);\n        }\n      }\n    } // mousemove handlers while brushing or dragging\n\n\n    function mousemoveBrushing(e) {\n      brush.brushTo(coordmap.mouseOffsetCss(e));\n      brushInfoSender.normalCall();\n    }\n\n    function mousemoveDragging(e) {\n      brush.dragTo(coordmap.mouseOffsetCss(e));\n      brushInfoSender.normalCall();\n    }\n\n    function mousemoveResizing(e) {\n      brush.resizeTo(coordmap.mouseOffsetCss(e));\n      brushInfoSender.normalCall();\n    } // mouseup handlers while brushing or dragging\n\n\n    function mouseupBrushing(e) {\n      // Listen for left mouse button only\n      if (e.which !== 1) return;\n      $(document).off(\"mousemove.image_brush\").off(\"mouseup.image_brush\");\n      brush.up(coordmap.mouseOffsetCss(e));\n      brush.stopBrushing();\n      setCursorStyle(\"crosshair\"); // If the brush didn't go anywhere, hide the brush, clear value,\n      // and return.\n\n      if (brush.down().x === brush.up().x && brush.down().y === brush.up().y) {\n        brush.reset();\n        brushInfoSender.immediateCall();\n        return;\n      } // Send info immediately on mouseup, but only if needed. If we don't\n      // do the pending check, we might send the same data twice (with\n      // with difference nonce).\n\n\n      if (brushInfoSender.isPending()) brushInfoSender.immediateCall();\n    }\n\n    function mouseupDragging(e) {\n      // Listen for left mouse button only\n      if (e.which !== 1) return;\n      $(document).off(\"mousemove.image_brush\").off(\"mouseup.image_brush\");\n      brush.up(coordmap.mouseOffsetCss(e));\n      brush.stopDragging();\n      setCursorStyle(\"grabbable\");\n      if (brushInfoSender.isPending()) brushInfoSender.immediateCall();\n    }\n\n    function mouseupResizing(e) {\n      // Listen for left mouse button only\n      if (e.which !== 1) return;\n      $(document).off(\"mousemove.image_brush\").off(\"mouseup.image_brush\");\n      brush.up(coordmap.mouseOffsetCss(e));\n      brush.stopResizing();\n      if (brushInfoSender.isPending()) brushInfoSender.immediateCall();\n    } // Brush maintenance: When an image is re-rendered, the brush must either\n    // be removed (if brushResetOnNew) or imported (if !brushResetOnNew). The\n    // \"mostRecentBrush\" bit is to ensure that when multiple outputs share the\n    // same brush ID, inactive brushes don't send null values up to the server.\n    // This should be called when the img (not the el) is reset\n\n\n    function onResetImg() {\n      if (opts.brushResetOnNew) {\n        if ($el.data(\"mostRecentBrush\")) {\n          brush.reset();\n          brushInfoSender.immediateCall();\n        }\n      }\n    }\n\n    if (!opts.brushResetOnNew) {\n      if ($el.data(\"mostRecentBrush\")) {\n        // Importing an old brush must happen after the image data has loaded\n        // and the <img> DOM element has the updated size. If importOldBrush()\n        // is called before this happens, then the css-img coordinate mappings\n        // will give the wrong result, and the brush will have the wrong\n        // position.\n        //\n        // jcheng 09/26/2018: This used to happen in img.onLoad, but recently\n        // we moved to all brush initialization moving to img.onLoad so this\n        // logic can be executed inline.\n        brush.importOldBrush();\n        brushInfoSender.immediateCall();\n      }\n    }\n\n    function onResize() {\n      brush.onResize();\n      brushInfoSender.immediateCall();\n    }\n\n    return {\n      mousedown: mousedown,\n      mousemove: mousemove,\n      onResetImg: onResetImg,\n      onResize: onResize\n    };\n  }; // Returns an object that represents the state of the brush. This gets wrapped\n  // in a brushHandler, which provides various event listeners.\n\n\n  imageutils.createBrush = function ($el, opts, coordmap, expandPixels) {\n    // Number of pixels outside of brush to allow start resizing\n    var resizeExpand = 10;\n    var el = $el[0];\n    var $div = null; // The div representing the brush\n\n    var state = {}; // Aliases for conciseness\n\n    var cssToImg = coordmap.scaleCssToImg;\n    var imgToCss = coordmap.scaleImgToCss;\n    reset();\n\n    function reset() {\n      // Current brushing/dragging/resizing state\n      state.brushing = false;\n      state.dragging = false;\n      state.resizing = false; // Offset of last mouse down and up events (in CSS pixels)\n\n      state.down = {\n        x: NaN,\n        y: NaN\n      };\n      state.up = {\n        x: NaN,\n        y: NaN\n      }; // Which side(s) we're currently resizing\n\n      state.resizeSides = {\n        left: false,\n        right: false,\n        top: false,\n        bottom: false\n      }; // Bounding rectangle of the brush, in CSS pixel and data dimensions. We\n      // need to record data dimensions along with pixel dimensions so that when\n      // a new plot is sent, we can re-draw the brush div with the appropriate\n      // coords.\n\n      state.boundsCss = {\n        xmin: NaN,\n        xmax: NaN,\n        ymin: NaN,\n        ymax: NaN\n      };\n      state.boundsData = {\n        xmin: NaN,\n        xmax: NaN,\n        ymin: NaN,\n        ymax: NaN\n      }; // Panel object that the brush is in\n\n      state.panel = null; // The bounds at the start of a drag/resize (in CSS pixels)\n\n      state.changeStartBounds = {\n        xmin: NaN,\n        xmax: NaN,\n        ymin: NaN,\n        ymax: NaN\n      };\n      if ($div) $div.remove();\n    } // If there's an existing brush div, use that div to set the new brush's\n    // settings, provided that the x, y, and panel variables have the same names,\n    // and there's a panel with matching panel variable values.\n\n\n    function importOldBrush() {\n      var oldDiv = $el.find(\"#\" + el.id + \"_brush\");\n      if (oldDiv.length === 0) return;\n      var oldBoundsData = oldDiv.data(\"bounds-data\");\n      var oldPanel = oldDiv.data(\"panel\");\n      if (!oldBoundsData || !oldPanel) return; // Find a panel that has matching vars; if none found, we can't restore.\n      // The oldPanel and new panel must match on their mapping vars, and the\n      // values.\n\n      for (var i = 0; i < coordmap.panels.length; i++) {\n        var curPanel = coordmap.panels[i];\n\n        if (equal(oldPanel.mapping, curPanel.mapping) && equal(oldPanel.panel_vars, curPanel.panel_vars)) {\n          // We've found a matching panel\n          state.panel = coordmap.panels[i];\n          break;\n        }\n      } // If we didn't find a matching panel, remove the old div and return\n\n\n      if (state.panel === null) {\n        oldDiv.remove();\n        return;\n      }\n\n      $div = oldDiv;\n      boundsData(oldBoundsData);\n      updateDiv();\n    } // This will reposition the brush div when the image is resized, maintaining\n    // the same data coordinates. Note that the \"resize\" here refers to the\n    // wrapper div/img being resized; elsewhere, \"resize\" refers to the brush\n    // div being resized.\n\n\n    function onResize() {\n      var bounds_data = boundsData(); // Check to see if we have valid boundsData\n\n      for (var val in bounds_data) {\n        if (isnan(bounds_data[val])) return;\n      }\n\n      boundsData(bounds_data);\n      updateDiv();\n    } // Return true if the offset is inside min/max coords\n\n\n    function isInsideBrush(offset_css) {\n      var bounds = state.boundsCss;\n      return offset_css.x <= bounds.xmax && offset_css.x >= bounds.xmin && offset_css.y <= bounds.ymax && offset_css.y >= bounds.ymin;\n    } // Return true if offset is inside a region to start a resize\n\n\n    function isInResizeArea(offset_css) {\n      var sides = whichResizeSides(offset_css);\n      return sides.left || sides.right || sides.top || sides.bottom;\n    } // Return an object representing which resize region(s) the cursor is in.\n\n\n    function whichResizeSides(offset_css) {\n      var b = state.boundsCss; // Bounds with expansion\n\n      var e = {\n        xmin: b.xmin - resizeExpand,\n        xmax: b.xmax + resizeExpand,\n        ymin: b.ymin - resizeExpand,\n        ymax: b.ymax + resizeExpand\n      };\n      var res = {\n        left: false,\n        right: false,\n        top: false,\n        bottom: false\n      };\n\n      if ((opts.brushDirection === \"xy\" || opts.brushDirection === \"x\") && offset_css.y <= e.ymax && offset_css.y >= e.ymin) {\n        if (offset_css.x < b.xmin && offset_css.x >= e.xmin) res.left = true;else if (offset_css.x > b.xmax && offset_css.x <= e.xmax) res.right = true;\n      }\n\n      if ((opts.brushDirection === \"xy\" || opts.brushDirection === \"y\") && offset_css.x <= e.xmax && offset_css.x >= e.xmin) {\n        if (offset_css.y < b.ymin && offset_css.y >= e.ymin) res.top = true;else if (offset_css.y > b.ymax && offset_css.y <= e.ymax) res.bottom = true;\n      }\n\n      return res;\n    } // Sets the bounds of the brush (in CSS pixels), given a box and optional\n    // panel. This will fit the box bounds into the panel, so we don't brush\n    // outside of it. This knows whether we're brushing in the x, y, or xy\n    // directions, and sets bounds accordingly. If no box is passed in, just\n    // return current bounds.\n\n\n    function boundsCss(box_css) {\n      if (box_css === undefined) {\n        return $.extend({}, state.boundsCss);\n      }\n\n      var min_css = {\n        x: box_css.xmin,\n        y: box_css.ymin\n      };\n      var max_css = {\n        x: box_css.xmax,\n        y: box_css.ymax\n      };\n      var panel = state.panel;\n      var panelBounds_img = panel.range;\n\n      if (opts.brushClip) {\n        min_css = imgToCss(panel.clipImg(cssToImg(min_css)));\n        max_css = imgToCss(panel.clipImg(cssToImg(max_css)));\n      }\n\n      if (opts.brushDirection === \"xy\") {// No change\n      } else if (opts.brushDirection === \"x\") {\n        // Extend top and bottom of plotting area\n        min_css.y = imgToCss({\n          y: panelBounds_img.top\n        }).y;\n        max_css.y = imgToCss({\n          y: panelBounds_img.bottom\n        }).y;\n      } else if (opts.brushDirection === \"y\") {\n        min_css.x = imgToCss({\n          x: panelBounds_img.left\n        }).x;\n        max_css.x = imgToCss({\n          x: panelBounds_img.right\n        }).x;\n      }\n\n      state.boundsCss = {\n        xmin: min_css.x,\n        xmax: max_css.x,\n        ymin: min_css.y,\n        ymax: max_css.y\n      }; // Positions in data space\n\n      var min_data = state.panel.scaleImgToData(cssToImg(min_css));\n      var max_data = state.panel.scaleImgToData(cssToImg(max_css)); // For reversed scales, the min and max can be reversed, so use findBox\n      // to ensure correct order.\n\n      state.boundsData = imageutils.findBox(min_data, max_data); // Round to 14 significant digits to avoid spurious changes in FP values\n      // (#1634).\n\n      state.boundsData = mapValues(state.boundsData, function (val) {\n        return roundSignif(val, 14);\n      }); // We also need to attach the data bounds and panel as data attributes, so\n      // that if the image is re-sent, we can grab the data bounds to create a new\n      // brush. This should be fast because it doesn't actually modify the DOM.\n\n      $div.data(\"bounds-data\", state.boundsData);\n      $div.data(\"panel\", state.panel);\n      return undefined;\n    } // Get or set the bounds of the brush using coordinates in the data space.\n\n\n    function boundsData(box_data) {\n      if (box_data === undefined) {\n        return $.extend({}, state.boundsData);\n      }\n\n      var box_css = imgToCss(state.panel.scaleDataToImg(box_data)); // Round to 13 significant digits to avoid spurious changes in FP values\n      // (#2197).\n\n      box_css = mapValues(box_css, function (val) {\n        return roundSignif(val, 13);\n      }); // The scaling function can reverse the direction of the axes, so we need to\n      // find the min and max again.\n\n      boundsCss({\n        xmin: Math.min(box_css.xmin, box_css.xmax),\n        xmax: Math.max(box_css.xmin, box_css.xmax),\n        ymin: Math.min(box_css.ymin, box_css.ymax),\n        ymax: Math.max(box_css.ymin, box_css.ymax)\n      });\n      return undefined;\n    }\n\n    function getPanel() {\n      return state.panel;\n    } // Add a new div representing the brush.\n\n\n    function addDiv() {\n      if ($div) $div.remove(); // Start hidden; we'll show it when movement occurs\n\n      $div = $(document.createElement(\"div\")).attr(\"id\", el.id + \"_brush\").css({\n        \"background-color\": opts.brushFill,\n        opacity: opts.brushOpacity,\n        \"pointer-events\": \"none\",\n        position: \"absolute\"\n      }).hide();\n      var borderStyle = \"1px solid \" + opts.brushStroke;\n\n      if (opts.brushDirection === \"xy\") {\n        $div.css({\n          border: borderStyle\n        });\n      } else if (opts.brushDirection === \"x\") {\n        $div.css({\n          \"border-left\": borderStyle,\n          \"border-right\": borderStyle\n        });\n      } else if (opts.brushDirection === \"y\") {\n        $div.css({\n          \"border-top\": borderStyle,\n          \"border-bottom\": borderStyle\n        });\n      }\n\n      $el.append($div);\n      $div.offset({\n        x: 0,\n        y: 0\n      }).width(0).outerHeight(0);\n    } // Update the brush div to reflect the current brush bounds.\n\n\n    function updateDiv() {\n      // Need parent offset relative to page to calculate mouse offset\n      // relative to page.\n      var img_offset_css = findOrigin($el.find(\"img\"));\n      var b = state.boundsCss;\n      $div.offset({\n        top: img_offset_css.y + b.ymin,\n        left: img_offset_css.x + b.xmin\n      }).outerWidth(b.xmax - b.xmin + 1).outerHeight(b.ymax - b.ymin + 1);\n    }\n\n    function down(offset_css) {\n      if (offset_css === undefined) return state.down;\n      state.down = offset_css;\n      return undefined;\n    }\n\n    function up(offset_css) {\n      if (offset_css === undefined) return state.up;\n      state.up = offset_css;\n      return undefined;\n    }\n\n    function isBrushing() {\n      return state.brushing;\n    }\n\n    function startBrushing() {\n      state.brushing = true;\n      addDiv();\n      state.panel = coordmap.getPanelCss(state.down, expandPixels);\n      boundsCss(imageutils.findBox(state.down, state.down));\n      updateDiv();\n    }\n\n    function brushTo(offset_css) {\n      boundsCss(imageutils.findBox(state.down, offset_css));\n      $div.show();\n      updateDiv();\n    }\n\n    function stopBrushing() {\n      state.brushing = false; // Save the final bounding box of the brush\n\n      boundsCss(imageutils.findBox(state.down, state.up));\n    }\n\n    function isDragging() {\n      return state.dragging;\n    }\n\n    function startDragging() {\n      state.dragging = true;\n      state.changeStartBounds = $.extend({}, state.boundsCss);\n    }\n\n    function dragTo(offset_css) {\n      // How far the brush was dragged\n      var dx = offset_css.x - state.down.x;\n      var dy = offset_css.y - state.down.y; // Calculate what new positions would be, before clipping.\n\n      var start = state.changeStartBounds;\n      var newBounds_css = {\n        xmin: start.xmin + dx,\n        xmax: start.xmax + dx,\n        ymin: start.ymin + dy,\n        ymax: start.ymax + dy\n      }; // Clip to the plotting area\n\n      if (opts.brushClip) {\n        var panelBounds_img = state.panel.range;\n        var newBounds_img = cssToImg(newBounds_css); // Convert to format for shiftToRange\n\n        var xvals_img = [newBounds_img.xmin, newBounds_img.xmax];\n        var yvals_img = [newBounds_img.ymin, newBounds_img.ymax];\n        xvals_img = imageutils.shiftToRange(xvals_img, panelBounds_img.left, panelBounds_img.right);\n        yvals_img = imageutils.shiftToRange(yvals_img, panelBounds_img.top, panelBounds_img.bottom); // Convert back to bounds format\n\n        newBounds_css = imgToCss({\n          xmin: xvals_img[0],\n          xmax: xvals_img[1],\n          ymin: yvals_img[0],\n          ymax: yvals_img[1]\n        });\n      }\n\n      boundsCss(newBounds_css);\n      updateDiv();\n    }\n\n    function stopDragging() {\n      state.dragging = false;\n    }\n\n    function isResizing() {\n      return state.resizing;\n    }\n\n    function startResizing() {\n      state.resizing = true;\n      state.changeStartBounds = $.extend({}, state.boundsCss);\n      state.resizeSides = whichResizeSides(state.down);\n    }\n\n    function resizeTo(offset_css) {\n      // How far the brush was dragged\n      var d_css = {\n        x: offset_css.x - state.down.x,\n        y: offset_css.y - state.down.y\n      };\n      var d_img = cssToImg(d_css); // Calculate what new positions would be, before clipping.\n\n      var b_img = cssToImg(state.changeStartBounds);\n      var panelBounds_img = state.panel.range;\n\n      if (state.resizeSides.left) {\n        var xmin_img = imageutils.shiftToRange(b_img.xmin + d_img.x, panelBounds_img.left, b_img.xmax)[0];\n        b_img.xmin = xmin_img;\n      } else if (state.resizeSides.right) {\n        var xmax_img = imageutils.shiftToRange(b_img.xmax + d_img.x, b_img.xmin, panelBounds_img.right)[0];\n        b_img.xmax = xmax_img;\n      }\n\n      if (state.resizeSides.top) {\n        var ymin_img = imageutils.shiftToRange(b_img.ymin + d_img.y, panelBounds_img.top, b_img.ymax)[0];\n        b_img.ymin = ymin_img;\n      } else if (state.resizeSides.bottom) {\n        var ymax_img = imageutils.shiftToRange(b_img.ymax + d_img.y, b_img.ymin, panelBounds_img.bottom)[0];\n        b_img.ymax = ymax_img;\n      }\n\n      boundsCss(imgToCss(b_img));\n      updateDiv();\n    }\n\n    function stopResizing() {\n      state.resizing = false;\n    }\n\n    return {\n      reset: reset,\n      importOldBrush: importOldBrush,\n      isInsideBrush: isInsideBrush,\n      isInResizeArea: isInResizeArea,\n      whichResizeSides: whichResizeSides,\n      onResize: onResize,\n      // A callback when the wrapper div or img is resized.\n      boundsCss: boundsCss,\n      boundsData: boundsData,\n      getPanel: getPanel,\n      down: down,\n      up: up,\n      isBrushing: isBrushing,\n      startBrushing: startBrushing,\n      brushTo: brushTo,\n      stopBrushing: stopBrushing,\n      isDragging: isDragging,\n      startDragging: startDragging,\n      dragTo: dragTo,\n      stopDragging: stopDragging,\n      isResizing: isResizing,\n      startResizing: startResizing,\n      resizeTo: resizeTo,\n      stopResizing: stopResizing\n    };\n  };\n\n  Shiny.resetBrush = function (brushId) {\n    Shiny.setInputValue(brushId, null);\n    imageOutputBinding.find(document).trigger(\"shiny-internal:brushed\", {\n      brushId: brushId,\n      outputId: null\n    });\n  }; // -----------------------------------------------------------------------\n  // Utility functions for finding dimensions and locations of DOM elements\n  // -----------------------------------------------------------------------\n  // Returns the ratio that an element has been scaled (for example, by CSS\n  // transforms) in the x and y directions.\n\n\n  function findScalingRatio($el) {\n    var boundingRect = $el[0].getBoundingClientRect();\n    return {\n      x: boundingRect.width / $el.outerWidth(),\n      y: boundingRect.height / $el.outerHeight()\n    };\n  }\n\n  function findOrigin($el) {\n    var offset = $el.offset();\n    var scaling_ratio = findScalingRatio($el); // Find the size of the padding and border, for the top and left. This is\n    // before any transforms.\n\n    var paddingBorder = {\n      left: parseInt($el.css(\"border-left-width\")) + parseInt($el.css(\"padding-left\")),\n      top: parseInt($el.css(\"border-top-width\")) + parseInt($el.css(\"padding-top\"))\n    }; // offset() returns the upper left corner of the element relative to the\n    // page, but it includes padding and border. Here we find the upper left\n    // of the element, not including padding and border.\n\n    return {\n      x: offset.left + scaling_ratio.x * paddingBorder.left,\n      y: offset.top + scaling_ratio.y * paddingBorder.top\n    };\n  } // Find the dimensions of a tag, after transforms, and without padding and\n  // border.\n\n\n  function findDims($el) {\n    // If there's any padding/border, we need to find the ratio of the actual\n    // element content compared to the element plus padding and border.\n    var content_ratio = {\n      x: $el.width() / $el.outerWidth(),\n      y: $el.height() / $el.outerHeight()\n    }; // Get the dimensions of the element _after_ any CSS transforms. This\n    // includes the padding and border.\n\n    var bounding_rect = $el[0].getBoundingClientRect(); // Dimensions of the element after any CSS transforms, and without\n    // padding/border.\n\n    return {\n      x: content_ratio.x * bounding_rect.width,\n      y: content_ratio.y * bounding_rect.height\n    };\n  } // \"output_binding_html.js\"\n\n\n  var htmlOutputBinding = new OutputBinding();\n  $.extend(htmlOutputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".shiny-html-output\");\n    },\n    onValueError: function onValueError(el, err) {\n      Shiny.unbindAll(el);\n      this.renderError(el, err);\n    },\n    renderValue: function renderValue(el, data) {\n      Shiny.renderContent(el, data);\n    }\n  });\n  outputBindings.register(htmlOutputBinding, \"shiny.htmlOutput\"); // -----------------------------------------------------------------------\n  // Functions handling HTML dependencies\n  // -----------------------------------------------------------------------\n\n  var renderDependencies = Shiny.renderDependencies = function (dependencies) {\n    if (dependencies) {\n      $.each(dependencies, function (i, dep) {\n        renderDependency(dep);\n      });\n    }\n  }; // Render HTML in a DOM element, add dependencies, and bind Shiny\n  // inputs/outputs. `content` can be null, a string, or an object with\n  // properties 'html' and 'deps'.\n\n\n  Shiny.renderContent = function (el, content) {\n    var where = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"replace\";\n\n    if (where === \"replace\") {\n      Shiny.unbindAll(el);\n    }\n\n    var html;\n    var dependencies = [];\n\n    if (content === null) {\n      html = \"\";\n    } else if (typeof content === \"string\") {\n      html = content;\n    } else if (_typeof(content) === \"object\") {\n      html = content.html;\n      dependencies = content.deps || [];\n    }\n\n    Shiny.renderHtml(html, el, dependencies, where);\n    var scope = el;\n\n    if (where === \"replace\") {\n      Shiny.initializeInputs(el);\n      Shiny.bindAll(el);\n    } else {\n      var $parent = $(el).parent();\n\n      if ($parent.length > 0) {\n        scope = $parent;\n\n        if (where === \"beforeBegin\" || where === \"afterEnd\") {\n          var $grandparent = $parent.parent();\n          if ($grandparent.length > 0) scope = $grandparent;\n        }\n      }\n\n      Shiny.initializeInputs(scope);\n      Shiny.bindAll(scope);\n    }\n  }; // Render HTML in a DOM element, inserting singletons into head as needed\n\n\n  Shiny.renderHtml = function (html, el, dependencies) {\n    var where = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"replace\";\n    renderDependencies(dependencies);\n    return singletons.renderHtml(html, el, where);\n  };\n\n  var htmlDependencies = {};\n\n  function registerDependency(name, version) {\n    htmlDependencies[name] = version;\n  } // Re-render stylesheet(s) if the dependency has specificially requested it\n  // and it matches an existing dependency (name and version)\n\n\n  function needsRestyle(dep) {\n    if (!dep.restyle) {\n      return false;\n    }\n\n    var names = Object.keys(htmlDependencies);\n    var idx = names.indexOf(dep.name);\n\n    if (idx === -1) {\n      return false;\n    }\n\n    return htmlDependencies[names[idx]] === dep.version;\n  } // Client-side dependency resolution and rendering\n\n\n  function renderDependency(dep) {\n    var restyle = needsRestyle(dep);\n    if (htmlDependencies.hasOwnProperty(dep.name) && !restyle) return false;\n    registerDependency(dep.name, dep.version);\n    var href = dep.src.href;\n    var $head = $(\"head\").first();\n\n    if (dep.meta && !restyle) {\n      var metas = $.map(asArray(dep.meta), function (obj, idx) {\n        // only one named pair is expected in obj as it's already been decomposed\n        var name = Object.keys(obj)[0];\n        return $(\"<meta>\").attr(\"name\", name).attr(\"content\", obj[name]);\n      });\n      $head.append(metas);\n    }\n\n    if (dep.stylesheet) {\n      var links = $.map(asArray(dep.stylesheet), function (stylesheet) {\n        return $(\"<link rel='stylesheet' type='text/css'>\").attr(\"href\", href + \"/\" + encodeURI(stylesheet));\n      });\n\n      if (!restyle) {\n        $head.append(links);\n      } else {\n        // This inline <style> based approach works for IE11\n        var refreshStyle = function refreshStyle(href, oldSheet) {\n          var xhr = new XMLHttpRequest();\n          xhr.open(\"GET\", href);\n\n          xhr.onload = function () {\n            var id = \"shiny_restyle_\" + href.split(\"?restyle\")[0].replace(/\\W/g, \"_\");\n            var oldStyle = $head.find(\"style#\" + id);\n            var newStyle = $(\"<style>\").attr(\"id\", id).html(xhr.responseText);\n            $head.append(newStyle); // We can remove the old styles immediately because the new styles\n            // should have been applied synchronously.\n\n            oldStyle.remove();\n            removeSheet(oldSheet);\n            sendImageSize2();\n          };\n\n          xhr.send();\n        };\n\n        var findSheet = function findSheet(href) {\n          for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i]; // The sheet's href is a full URL\n\n            if (typeof sheet.href === \"string\" && sheet.href.indexOf(href) > -1) {\n              return sheet;\n            }\n          }\n\n          return null;\n        }; // Removes the stylesheet from document.styleSheets, and also removes\n        // the owning <link> element, if present.\n\n\n        var removeSheet = function removeSheet(sheet) {\n          if (!sheet) return;\n          sheet.disabled = true;\n          if (isIE()) sheet.cssText = \"\";\n          $(sheet.ownerNode).remove();\n        };\n\n        $.map(links, function (link) {\n          // Find any document.styleSheets that match this link's href\n          // so we can remove it after bringing in the new stylesheet\n          var oldSheet = findSheet(link.attr(\"href\")); // Add a timestamp to the href to prevent caching\n\n          var href = link.attr(\"href\") + \"?restyle=\" + new Date().getTime(); // Use inline <style> approach for IE, otherwise use the more elegant\n          // <link> -based approach\n\n          if (isIE()) {\n            refreshStyle(href, oldSheet);\n          } else {\n            link.attr(\"href\", href); // This part is a bit tricky. The link's onload callback will be\n            // invoked after the file is loaded, but it can be _before_ the\n            // styles are actually applied. The amount of time it takes for the\n            // style to be applied is not predictable. We need to make sure the\n            // styles are applied before we send updated size/style information\n            // to the server.\n            //\n            // We do this by adding _another_ link, with CSS content\n            // base64-encoded and inlined into the href. We also add a dummy DOM\n            // element that the CSS applies to. The dummy CSS includes a\n            // transition, and when the `transitionend` event happens, we call\n            // sendImageSize2() and remove the old sheet. We also remove the\n            // dummy DOM element and dummy CSS content.\n            //\n            // The reason this works is because (we assume) that if multiple\n            // <link> tags are added, they will be applied in the same order\n            // that they are loaded. This seems to be true in the browsers we\n            // have tested.\n            //\n            // Because it is common for multiple stylesheets to arrive close\n            // together, but not on exactly the same tick, we call\n            // sendImageSize2(), which is debounced. Otherwise, it can result in\n            // the same plot being redrawn multiple times with different\n            // styling.\n\n            link.attr(\"onload\", function () {\n              var dummy_id = \"dummy-\" + Math.floor(Math.random() * 999999999);\n              var css_string = \"#\" + dummy_id + \" { \" + \"color: #a7c920 !important; \" + // An arbitrary color for the transition\n              \"transition: 0.1s all !important; \" + \"visibility: hidden !important; \" + \"position: absolute !important; \" + \"top: -1000px !important; \" + \"left: 0 !important; }\";\n              var base64_css_string = \"data:text/css;base64,\" + btoa(css_string);\n              var $dummy_link = $(\"<link rel='stylesheet' type='text/css' />\");\n              $dummy_link.attr(\"href\", base64_css_string);\n              var $dummy_el = $(\"<div id='\" + dummy_id + \"'></div>\");\n              $dummy_el.one(\"transitionend\", function () {\n                $dummy_el.remove();\n                removeSheet(findSheet($dummy_link.attr(\"href\")));\n                removeSheet(oldSheet);\n                sendImageSize2();\n              });\n              $(document.body).append($dummy_el); // Need to add the CSS with a setTimeout 0, to ensure that it\n              // takes effect _after_ the DOM element has been added. This is\n              // necessary to ensure that the transition actually occurs.\n\n              setTimeout(function () {\n                return $head.append($dummy_link);\n              }, 0);\n            });\n            $head.append(link);\n          }\n        });\n      }\n    }\n\n    if (dep.script && !restyle) {\n      var scripts_attrs = asArray(dep.script);\n      var scripts = $.map(scripts_attrs, function (x) {\n        var script = document.createElement(\"script\"); // htmlDependency()'s script arg can be a character vector or a list()\n\n        if (typeof x === \"string\") {\n          x = {\n            src: x\n          };\n        }\n\n        for (var _i = 0, _Object$entries = Object.entries(x); _i < _Object$entries.length; _i++) {\n          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n              attr = _Object$entries$_i[0],\n              val = _Object$entries$_i[1];\n\n          if (attr === \"src\") {\n            val = href + \"/\" + encodeURI(val);\n          } // If val isn't truthy (e.g., null), consider it a boolean attribute\n\n\n          script.setAttribute(attr, val ? val : \"\");\n        }\n\n        return script;\n      });\n      $head.append(scripts);\n    }\n\n    if (dep.attachment && !restyle) {\n      // dep.attachment might be a single string, an array, or an object.\n      var attachments = dep.attachment;\n      if (typeof attachments === \"string\") attachments = [attachments];\n\n      if ($.isArray(attachments)) {\n        // The contract for attachments is that arrays of attachments are\n        // addressed using 1-based indexes. Convert this array to an object.\n        var tmp = {};\n        $.each(attachments, function (index, attachment) {\n          tmp[index + 1 + \"\"] = attachment;\n        });\n        attachments = tmp;\n      }\n\n      var attach = $.map(attachments, function (attachment, key) {\n        return $(\"<link rel='attachment'>\").attr(\"id\", dep.name + \"-\" + key + \"-attachment\").attr(\"href\", href + \"/\" + encodeURI(attachment));\n      });\n      $head.append(attach);\n    }\n\n    if (dep.head && !restyle) {\n      var $newHead = $(\"<head></head>\");\n      $newHead.html(dep.head);\n      $head.append($newHead.children());\n    }\n\n    return true;\n  }\n\n  var singletons = {\n    knownSingletons: {},\n    renderHtml: function renderHtml(html, el, where) {\n      var processed = this._processHtml(html);\n\n      this._addToHead(processed.head);\n\n      this.register(processed.singletons);\n\n      if (where === \"replace\") {\n        $(el).html(processed.html);\n      } else {\n        el.insertAdjacentHTML(where, processed.html);\n      }\n\n      return processed;\n    },\n    // Take an object where keys are names of singletons, and merges it into\n    // knownSingletons\n    register: function register(s) {\n      $.extend(this.knownSingletons, s);\n    },\n    // Takes a string or array of strings and adds them to knownSingletons\n    registerNames: function registerNames(s) {\n      if (typeof s === \"string\") {\n        this.knownSingletons[s] = true;\n      } else if (s instanceof Array) {\n        for (var i = 0; i < s.length; i++) {\n          this.knownSingletons[s[i]] = true;\n        }\n      }\n    },\n    // Inserts new content into document head\n    _addToHead: function _addToHead(head) {\n      if (head.length > 0) {\n        var tempDiv = $(\"<div>\" + head + \"</div>\")[0];\n        var $head = $(\"head\");\n\n        while (tempDiv.hasChildNodes()) {\n          $head.append(tempDiv.firstChild);\n        }\n      }\n    },\n    // Reads HTML and returns an object with info about singletons\n    _processHtml: function _processHtml(val) {\n      var self = this;\n      var newSingletons = {};\n      var newVal;\n\n      var findNewPayload = function findNewPayload(match, p1, sig, payload) {\n        if (self.knownSingletons[sig] || newSingletons[sig]) return \"\";\n        newSingletons[sig] = true;\n        return payload;\n      };\n\n      while (true) {\n        newVal = val.replace(self._reSingleton, findNewPayload);\n        if (val.length === newVal.length) break;\n        val = newVal;\n      }\n\n      var heads = [];\n\n      var headAddPayload = function headAddPayload(match, payload) {\n        heads.push(payload);\n        return \"\";\n      };\n\n      while (true) {\n        newVal = val.replace(self._reHead, headAddPayload);\n        if (val.length === newVal.length) break;\n        val = newVal;\n      }\n\n      return {\n        html: val,\n        head: heads.join(\"\\n\"),\n        singletons: newSingletons\n      };\n    },\n    _reSingleton: /<!--(SHINY.SINGLETON\\[([\\w]+)\\])-->([\\s\\S]*?)<!--\\/\\1-->/,\n    _reHead: /<head(?:\\s[^>]*)?>([\\s\\S]*?)<\\/head>/\n  }; // \"output_binding_downloadlink.js\"\n\n  var downloadLinkOutputBinding = new OutputBinding();\n  $.extend(downloadLinkOutputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\"a.shiny-download-link\");\n    },\n    renderValue: function renderValue(el, data) {\n      $(el).attr(\"href\", data);\n    }\n  });\n  outputBindings.register(downloadLinkOutputBinding, \"shiny.downloadLink\"); // Trigger shiny:filedownload event whenever a downloadButton/Link is clicked\n\n  $(document).on(\"click.shinyDownloadLink\", \"a.shiny-download-link\", function (e) {\n    var evt = jQuery.Event(\"shiny:filedownload\");\n    evt.name = this.id;\n    evt.href = this.href;\n    $(document).trigger(evt);\n  }); // \"output_binding_datatable.js\"\n\n  var datatableOutputBinding = new OutputBinding();\n  $.extend(datatableOutputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".shiny-datatable-output\");\n    },\n    onValueError: function onValueError(el, err) {\n      Shiny.unbindAll(el);\n      this.renderError(el, err);\n    },\n    renderValue: function renderValue(el, _data) {\n      var $el = $(el).empty();\n      if (!_data || !_data.colnames) return;\n      var colnames = $.makeArray(_data.colnames);\n      var header = $.map(colnames, function (x) {\n        return \"<th>\" + x + \"</th>\";\n      }).join(\"\");\n      header = \"<thead><tr>\" + header + \"</tr></thead>\";\n      var footer = \"\";\n\n      if (_data.options === null || _data.options.searching !== false) {\n        footer = $.map(colnames, function (x) {\n          // placeholder needs to be escaped (and HTML tags are stripped off)\n          return '<th><input type=\"text\" placeholder=\"' + escapeHTML(x.replace(/(<([^>]+)>)/gi, \"\")) + '\" /></th>';\n        }).join(\"\");\n        footer = \"<tfoot>\" + footer + \"</tfoot>\";\n      }\n\n      var content = '<table class=\"table table-striped table-hover\">' + header + footer + \"</table>\";\n      $el.append(content); // options that should be eval()ed\n\n      if (_data.evalOptions) $.each(_data.evalOptions, function (i, x) {\n        /*jshint evil: true */\n        _data.options[x] = eval(\"(\" + _data.options[x] + \")\");\n      }); // caseInsensitive searching? default true\n\n      var searchCI = _data.options === null || typeof _data.options.search === \"undefined\" || _data.options.search.caseInsensitive !== false;\n      var oTable = $(el).children(\"table\").DataTable($.extend({\n        processing: true,\n        serverSide: true,\n        order: [],\n        orderClasses: false,\n        pageLength: 25,\n        ajax: {\n          url: _data.action,\n          type: \"POST\",\n          data: function data(d) {\n            d.search.caseInsensitive = searchCI;\n            d.escape = _data.escape;\n          }\n        }\n      }, _data.options)); // the table object may need post-processing\n\n      if (typeof _data.callback === \"string\") {\n        /*jshint evil: true */\n        var callback = eval(\"(\" + _data.callback + \")\");\n        if (typeof callback === \"function\") callback(oTable);\n      } // use debouncing for searching boxes\n\n\n      $el.find(\"label input\").first().unbind(\"keyup\").keyup(debounce(_data.searchDelay, function () {\n        oTable.search(this.value).draw();\n      }));\n      var searchInputs = $el.find(\"tfoot input\");\n\n      if (searchInputs.length > 0) {\n        // this is a little weird: aoColumns/bSearchable are still in DT 1.10\n        // https://github.com/DataTables/DataTables/issues/388\n        $.each(oTable.settings()[0].aoColumns, function (i, x) {\n          // hide the text box if not searchable\n          if (!x.bSearchable) searchInputs.eq(i).hide();\n        });\n        searchInputs.keyup(debounce(_data.searchDelay, function () {\n          oTable.column(searchInputs.index(this)).search(this.value).draw();\n        }));\n      } // FIXME: ugly scrollbars in tab panels b/c Bootstrap uses 'visible: auto'\n\n\n      $el.parents(\".tab-content\").css(\"overflow\", \"visible\");\n    }\n  });\n  outputBindings.register(datatableOutputBinding, \"shiny.datatableOutput\"); // \"output_binding_adapter.js\"\n\n  var OutputBindingAdapter = function OutputBindingAdapter(el, binding) {\n    this.el = el;\n    this.binding = binding; // If the binding actually has a resize method, override the prototype of\n    // onResize with a version that does a makeResizeFilter on the element.\n\n    if (binding.resize) {\n      this.onResize = makeResizeFilter(el, function (width, height) {\n        binding.resize(el, width, height);\n      });\n    }\n  };\n\n  (function () {\n    this.getId = function () {\n      return this.binding.getId(this.el);\n    };\n\n    this.onValueChange = function (data) {\n      this.binding.onValueChange(this.el, data);\n    };\n\n    this.onValueError = function (err) {\n      this.binding.onValueError(this.el, err);\n    };\n\n    this.showProgress = function (show) {\n      this.binding.showProgress(this.el, show);\n    };\n\n    this.onResize = function () {// Intentionally left blank; see constructor\n    };\n  }).call(OutputBindingAdapter.prototype); // \"input_binding.js\"\n\n  var InputBinding = Shiny.InputBinding = function () {};\n\n  (function () {\n    // Returns a jQuery object or element array that contains the\n    // descendants of scope that match this binding\n    this.find = function (scope) {\n      throw \"Not implemented\";\n    };\n\n    this.getId = function (el) {\n      return el[\"data-input-id\"] || el.id;\n    }; // Gives the input a type in case the server needs to know it\n    // to deserialize the JSON correctly\n\n\n    this.getType = function () {\n      return false;\n    };\n\n    this.getValue = function (el) {\n      throw \"Not implemented\";\n    }; // The callback method takes one argument, whose value is boolean. If true,\n    // allow deferred (debounce or throttle) sending depending on the value of\n    // getRatePolicy. If false, send value immediately.\n\n\n    this.subscribe = function (el, callback) {};\n\n    this.unsubscribe = function (el) {}; // This is used for receiving messages that tell the input object to do\n    // things, such as setting values (including min, max, and others).\n    // 'data' should be an object with elements corresponding to value, min,\n    // max, etc., as appropriate for the type of input object. It also should\n    // trigger a change event.\n\n\n    this.receiveMessage = function (el, data) {\n      throw \"Not implemented\";\n    };\n\n    this.getState = function (el, data) {\n      throw \"Not implemented\";\n    };\n\n    this.getRatePolicy = function () {\n      return null;\n    }; // Some input objects need initialization before being bound. This is\n    // called when the document is ready (for statically-added input objects),\n    // and when new input objects are added to the document with\n    // htmlOutputBinding.renderValue() (for dynamically-added input objects).\n    // This is called before the input is bound.\n\n\n    this.initialize = function (el) {}; // This is called after unbinding the output.\n\n\n    this.dispose = function (el) {};\n  }).call(InputBinding.prototype); // \"input_binding_text.js\"\n\n  var textInputBinding = new InputBinding();\n  $.extend(textInputBinding, {\n    find: function find(scope) {\n      var $inputs = $(scope).find('input[type=\"text\"], input[type=\"search\"], input[type=\"url\"], input[type=\"email\"]'); // selectize.js 0.12.4 inserts a hidden text input with an\n      // id that ends in '-selectized'. The .not() selector below\n      // is to prevent textInputBinding from accidentally picking up\n      // this hidden element as a shiny input (#2396)\n\n      return $inputs.not('input[type=\"text\"][id$=\"-selectized\"]');\n    },\n    getId: function getId(el) {\n      return InputBinding.prototype.getId.call(this, el) || el.name;\n    },\n    getValue: function getValue(el) {\n      return el.value;\n    },\n    setValue: function setValue(el, value) {\n      el.value = value;\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"keyup.textInputBinding input.textInputBinding\", function (event) {\n        callback(true);\n      });\n      $(el).on(\"change.textInputBinding\", function (event) {\n        callback(false);\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".textInputBinding\");\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      if (data.hasOwnProperty(\"value\")) this.setValue(el, data.value);\n      updateLabel(data.label, this._getLabelNode(el));\n      if (data.hasOwnProperty(\"placeholder\")) el.placeholder = data.placeholder;\n      $(el).trigger(\"change\");\n    },\n    getState: function getState(el) {\n      return {\n        label: this._getLabelNode(el).text(),\n        value: el.value,\n        placeholder: el.placeholder\n      };\n    },\n    getRatePolicy: function getRatePolicy() {\n      return {\n        policy: \"debounce\",\n        delay: 250\n      };\n    },\n    _getLabelNode: function _getLabelNode(el) {\n      return $(el).parent().find('label[for=\"' + $escape(el.id) + '\"]');\n    }\n  });\n  inputBindings.register(textInputBinding, \"shiny.textInput\"); // \"input_binding_textarea.js\"\n\n  var textareaInputBinding = {};\n  $.extend(textareaInputBinding, textInputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\"textarea\");\n    }\n  });\n  inputBindings.register(textareaInputBinding, \"shiny.textareaInput\"); // \"input_binding_password.js\"\n\n  var passwordInputBinding = {};\n  $.extend(passwordInputBinding, textInputBinding, {\n    find: function find(scope) {\n      return $(scope).find('input[type=\"password\"]');\n    },\n    getType: function getType(el) {\n      return \"shiny.password\";\n    }\n  });\n  inputBindings.register(passwordInputBinding, \"shiny.passwordInput\"); // \"input_binding_number.js\"\n\n  var numberInputBinding = {};\n  $.extend(numberInputBinding, textInputBinding, {\n    find: function find(scope) {\n      return $(scope).find('input[type=\"number\"]');\n    },\n    getValue: function getValue(el) {\n      var numberVal = $(el).val();\n      if (/^\\s*$/.test(numberVal)) // Return null if all whitespace\n        return null;else if (!isNaN(numberVal)) // If valid Javascript number string, coerce to number\n        return +numberVal;else return numberVal; // If other string like \"1e6\", send it unchanged\n    },\n    setValue: function setValue(el, value) {\n      el.value = value;\n    },\n    getType: function getType(el) {\n      return \"shiny.number\";\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      if (data.hasOwnProperty(\"value\")) el.value = data.value;\n      if (data.hasOwnProperty(\"min\")) el.min = data.min;\n      if (data.hasOwnProperty(\"max\")) el.max = data.max;\n      if (data.hasOwnProperty(\"step\")) el.step = data.step;\n      updateLabel(data.label, this._getLabelNode(el));\n      $(el).trigger(\"change\");\n    },\n    getState: function getState(el) {\n      return {\n        label: this._getLabelNode(el).text(),\n        value: this.getValue(el),\n        min: Number(el.min),\n        max: Number(el.max),\n        step: Number(el.step)\n      };\n    },\n    _getLabelNode: function _getLabelNode(el) {\n      return $(el).parent().find('label[for=\"' + $escape(el.id) + '\"]');\n    }\n  });\n  inputBindings.register(numberInputBinding, \"shiny.numberInput\"); // \"input_binding_checkbox.js\"\n\n  var checkboxInputBinding = new InputBinding();\n  $.extend(checkboxInputBinding, {\n    find: function find(scope) {\n      return $(scope).find('input[type=\"checkbox\"]');\n    },\n    getValue: function getValue(el) {\n      return el.checked;\n    },\n    setValue: function setValue(el, value) {\n      el.checked = value;\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"change.checkboxInputBinding\", function (event) {\n        callback(true);\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".checkboxInputBinding\");\n    },\n    getState: function getState(el) {\n      return {\n        label: $(el).parent().find(\"span\").text(),\n        value: el.checked\n      };\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      if (data.hasOwnProperty(\"value\")) el.checked = data.value; // checkboxInput()'s label works different from other\n      // input labels...the label container should always exist\n\n      if (data.hasOwnProperty(\"label\")) $(el).parent().find(\"span\").text(data.label);\n      $(el).trigger(\"change\");\n    }\n  });\n  inputBindings.register(checkboxInputBinding, \"shiny.checkboxInput\"); // \"input_binding_slider.js\"\n  // Necessary to get hidden sliders to send their updated values\n\n  function forceIonSliderUpdate(slider) {\n    if (slider.$cache && slider.$cache.input) slider.$cache.input.trigger(\"change\");else console.log(\"Couldn't force ion slider to update\");\n  }\n\n  function getTypePrettifyer(dataType, timeFormat, timezone) {\n    var timeFormatter;\n    var prettify;\n\n    if (dataType === \"date\") {\n      timeFormatter = strftime.utc();\n\n      prettify = function prettify(num) {\n        return timeFormatter(timeFormat, new Date(num));\n      };\n    } else if (dataType === \"datetime\") {\n      if (timezone) timeFormatter = strftime.timezone(timezone);else timeFormatter = strftime;\n\n      prettify = function prettify(num) {\n        return timeFormatter(timeFormat, new Date(num));\n      };\n    } else {\n      // The default prettify function for ion.rangeSlider adds thousands\n      // separators after the decimal mark, so we have our own version here.\n      // (#1958)\n      prettify = function prettify(num) {\n        // When executed, `this` will refer to the `IonRangeSlider.options`\n        // object.\n        return formatNumber(num, this.prettify_separator);\n      };\n    }\n\n    return prettify;\n  }\n\n  var sliderInputBinding = {};\n  $.extend(sliderInputBinding, textInputBinding, {\n    find: function find(scope) {\n      // Check if ionRangeSlider plugin is loaded\n      if (!$.fn.ionRangeSlider) return [];\n      return $(scope).find(\"input.js-range-slider\");\n    },\n    getType: function getType(el) {\n      var dataType = $(el).data(\"data-type\");\n      if (dataType === \"date\") return \"shiny.date\";else if (dataType === \"datetime\") return \"shiny.datetime\";else return false;\n    },\n    getValue: function getValue(el) {\n      var $el = $(el);\n      var result = $(el).data(\"ionRangeSlider\").result; // Function for converting numeric value from slider to appropriate type.\n\n      var convert;\n      var dataType = $el.data(\"data-type\");\n\n      if (dataType === \"date\") {\n        convert = function convert(val) {\n          return formatDateUTC(new Date(+val));\n        };\n      } else if (dataType === \"datetime\") {\n        convert = function convert(val) {\n          // Convert ms to s\n          return +val / 1000;\n        };\n      } else {\n        convert = function convert(val) {\n          return +val;\n        };\n      }\n\n      if (this._numValues(el) === 2) {\n        return [convert(result.from), convert(result.to)];\n      } else {\n        return convert(result.from);\n      }\n    },\n    setValue: function setValue(el, value) {\n      var $el = $(el);\n      var slider = $el.data(\"ionRangeSlider\");\n      $el.data(\"immediate\", true);\n\n      try {\n        if (this._numValues(el) === 2 && value instanceof Array) {\n          slider.update({\n            from: value[0],\n            to: value[1]\n          });\n        } else {\n          slider.update({\n            from: value\n          });\n        }\n\n        forceIonSliderUpdate(slider);\n      } finally {\n        $el.data(\"immediate\", false);\n      }\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"change.sliderInputBinding\", function (event) {\n        callback(!$(el).data(\"immediate\") && !$(el).data(\"animating\"));\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".sliderInputBinding\");\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      var $el = $(el);\n      var slider = $el.data(\"ionRangeSlider\");\n      var msg = {};\n\n      if (data.hasOwnProperty(\"value\")) {\n        if (this._numValues(el) === 2 && data.value instanceof Array) {\n          msg.from = data.value[0];\n          msg.to = data.value[1];\n        } else {\n          msg.from = data.value;\n        }\n      }\n\n      var sliderFeatures = [\"min\", \"max\", \"step\"];\n\n      for (var i = 0; i < sliderFeatures.length; i++) {\n        var feats = sliderFeatures[i];\n\n        if (data.hasOwnProperty(feats)) {\n          msg[feats] = data[feats];\n        }\n      }\n\n      updateLabel(data.label, this._getLabelNode(el));\n      var domElements = [\"data-type\", \"time-format\", \"timezone\"];\n\n      for (var _i2 = 0; _i2 < domElements.length; _i2++) {\n        var elem = domElements[_i2];\n\n        if (data.hasOwnProperty(elem)) {\n          $el.data(elem, data[elem]);\n        }\n      }\n\n      var dataType = $el.data(\"data-type\");\n      var timeFormat = $el.data(\"time-format\");\n      var timezone = $el.data(\"timezone\");\n      msg.prettify = getTypePrettifyer(dataType, timeFormat, timezone);\n      $el.data(\"immediate\", true);\n\n      try {\n        slider.update(msg);\n        forceIonSliderUpdate(slider);\n      } finally {\n        $el.data(\"immediate\", false);\n      }\n    },\n    getRatePolicy: function getRatePolicy() {\n      return {\n        policy: \"debounce\",\n        delay: 250\n      };\n    },\n    getState: function getState(el) {},\n    initialize: function initialize(el) {\n      var opts = {};\n      var $el = $(el);\n      var dataType = $el.data(\"data-type\");\n      var timeFormat = $el.data(\"time-format\");\n      var timezone = $el.data(\"timezone\");\n      opts.prettify = getTypePrettifyer(dataType, timeFormat, timezone);\n      $el.ionRangeSlider(opts);\n    },\n    _getLabelNode: function _getLabelNode(el) {\n      return $(el).parent().find('label[for=\"' + $escape(el.id) + '\"]');\n    },\n    // Number of values; 1 for single slider, 2 for range slider\n    _numValues: function _numValues(el) {\n      if ($(el).data(\"ionRangeSlider\").options.type === \"double\") return 2;else return 1;\n    }\n  });\n  inputBindings.register(sliderInputBinding, \"shiny.sliderInput\"); // Format numbers for nicer output.\n  // formatNumber(1234567.12345)           === \"1,234,567.12345\"\n  // formatNumber(1234567.12345, \".\", \",\") === \"1.234.567,12345\"\n  // formatNumber(1000, \" \")               === \"1 000\"\n  // formatNumber(20)                      === \"20\"\n  // formatNumber(1.2345e24)               === \"1.2345e+24\"\n\n  function formatNumber(num) {\n    var thousand_sep = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \",\";\n    var decimal_sep = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \".\";\n    var parts = num.toString().split(\".\"); // Add separators to portion before decimal mark.\n\n    parts[0] = parts[0].replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g, \"$1\" + thousand_sep);\n    if (parts.length === 1) return parts[0];else if (parts.length === 2) return parts[0] + decimal_sep + parts[1];else return \"\";\n  }\n\n  $(document).on(\"click\", \".slider-animate-button\", function (evt) {\n    evt.preventDefault();\n    var self = $(this);\n    var target = $(\"#\" + $escape(self.attr(\"data-target-id\")));\n    var startLabel = \"Play\";\n    var stopLabel = \"Pause\";\n    var loop = self.attr(\"data-loop\") !== undefined && !/^\\s*false\\s*$/i.test(self.attr(\"data-loop\"));\n    var animInterval = self.attr(\"data-interval\");\n    if (isNaN(animInterval)) animInterval = 1500;else animInterval = +animInterval;\n\n    if (!target.data(\"animTimer\")) {\n      var slider;\n      var timer; // Separate code paths:\n      // Backward compatible code for old-style jsliders (Shiny <= 0.10.2.2),\n      // and new-style ionsliders.\n\n      if (target.hasClass(\"jslider\")) {\n        slider = target.slider(); // If we're currently at the end, restart\n\n        if (!slider.canStepNext()) slider.resetToStart();\n        timer = setInterval(function () {\n          if (loop && !slider.canStepNext()) {\n            slider.resetToStart();\n          } else {\n            slider.stepNext();\n\n            if (!loop && !slider.canStepNext()) {\n              self.click(); // stop the animation\n            }\n          }\n        }, animInterval);\n      } else {\n        slider = target.data(\"ionRangeSlider\"); // Single sliders have slider.options.type == \"single\", and only the\n        // `from` value is used. Double sliders have type == \"double\", and also\n        // use the `to` value for the right handle.\n\n        var sliderCanStep = function sliderCanStep() {\n          if (slider.options.type === \"double\") return slider.result.to < slider.result.max;else return slider.result.from < slider.result.max;\n        };\n\n        var sliderReset = function sliderReset() {\n          var val = {\n            from: slider.result.min\n          }; // Preserve the current spacing for double sliders\n\n          if (slider.options.type === \"double\") val.to = val.from + (slider.result.to - slider.result.from);\n          slider.update(val);\n          forceIonSliderUpdate(slider);\n        };\n\n        var sliderStep = function sliderStep() {\n          // Don't overshoot the end\n          var val = {\n            from: Math.min(slider.result.max, slider.result.from + slider.options.step)\n          };\n          if (slider.options.type === \"double\") val.to = Math.min(slider.result.max, slider.result.to + slider.options.step);\n          slider.update(val);\n          forceIonSliderUpdate(slider);\n        }; // If we're currently at the end, restart\n\n\n        if (!sliderCanStep()) sliderReset();\n        timer = setInterval(function () {\n          if (loop && !sliderCanStep()) {\n            sliderReset();\n          } else {\n            sliderStep();\n\n            if (!loop && !sliderCanStep()) {\n              self.click(); // stop the animation\n            }\n          }\n        }, animInterval);\n      }\n\n      target.data(\"animTimer\", timer);\n      self.attr(\"title\", stopLabel);\n      self.addClass(\"playing\");\n      target.data(\"animating\", true);\n    } else {\n      clearTimeout(target.data(\"animTimer\"));\n      target.removeData(\"animTimer\");\n      self.attr(\"title\", startLabel);\n      self.removeClass(\"playing\");\n      target.removeData(\"animating\");\n    }\n  }); // \"input_binding_date.js\"\n\n  var dateInputBinding = new InputBinding();\n  $.extend(dateInputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".shiny-date-input\");\n    },\n    getType: function getType(el) {\n      return \"shiny.date\";\n    },\n    // Return the date in an unambiguous format, yyyy-mm-dd (as opposed to a\n    // format like mm/dd/yyyy)\n    getValue: function getValue(el) {\n      var date = $(el).find(\"input\").bsDatepicker(\"getUTCDate\");\n      return formatDateUTC(date);\n    },\n    // value must be an unambiguous string like '2001-01-01', or a Date object.\n    setValue: function setValue(el, value) {\n      // R's NA, which is null here will remove current value\n      if (value === null) {\n        $(el).find(\"input\").val(\"\").bsDatepicker(\"update\");\n        return;\n      }\n\n      var date = this._newDate(value); // If date is invalid, do nothing\n\n\n      if (isNaN(date)) return;\n      $(el).find(\"input\").bsDatepicker(\"setUTCDate\", date);\n    },\n    getState: function getState(el) {\n      var $el = $(el);\n      var $input = $el.find(\"input\");\n      var min = $input.data(\"datepicker\").startDate;\n      var max = $input.data(\"datepicker\").endDate; // Stringify min and max. If min and max aren't set, they will be\n      // -Infinity and Infinity; replace these with null.\n\n      min = min === -Infinity ? null : formatDateUTC(min);\n      max = max === Infinity ? null : formatDateUTC(max); // startViewMode is stored as a number; convert to string\n\n      var startview = $input.data(\"datepicker\").startViewMode;\n      if (startview === 2) startview = \"decade\";else if (startview === 1) startview = \"year\";else if (startview === 0) startview = \"month\";\n      return {\n        label: this._getLabelNode(el).text(),\n        value: this.getValue(el),\n        valueString: $input.val(),\n        min: min,\n        max: max,\n        language: $input.data(\"datepicker\").language,\n        weekstart: $input.data(\"datepicker\").weekStart,\n        format: this._formatToString($input.data(\"datepicker\").format),\n        startview: startview\n      };\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      var $input = $(el).find(\"input\");\n      updateLabel(data.label, this._getLabelNode(el));\n      if (data.hasOwnProperty(\"min\")) this._setMin($input[0], data.min);\n      if (data.hasOwnProperty(\"max\")) this._setMax($input[0], data.max); // Must set value only after min and max have been set. If new value is\n      // outside the bounds of the previous min/max, then the result will be a\n      // blank input.\n\n      if (data.hasOwnProperty(\"value\")) this.setValue(el, data.value);\n      $(el).trigger(\"change\");\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"keyup.dateInputBinding input.dateInputBinding\", function (event) {\n        // Use normal debouncing policy when typing\n        callback(true);\n      });\n      $(el).on(\"changeDate.dateInputBinding change.dateInputBinding\", function (event) {\n        // Send immediately when clicked\n        callback(false);\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".dateInputBinding\");\n    },\n    getRatePolicy: function getRatePolicy() {\n      return {\n        policy: \"debounce\",\n        delay: 250\n      };\n    },\n    initialize: function initialize(el) {\n      var $input = $(el).find(\"input\"); // The challenge with dates is that we want them to be at 00:00 in UTC so\n      // that we can do comparisons with them. However, the Date object itself\n      // does not carry timezone information, so we should call _floorDateTime()\n      // on Dates as soon as possible so that we know we're always working with\n      // consistent objects.\n\n      var date = $input.data(\"initial-date\"); // If initial_date is null, set to current date\n\n      if (date === undefined || date === null) {\n        // Get local date, but normalized to beginning of day in UTC.\n        date = this._floorDateTime(this._dateAsUTC(new Date()));\n      }\n\n      this.setValue(el, date); // Set the start and end dates, from min-date and max-date. These always\n      // use yyyy-mm-dd format, instead of bootstrap-datepicker's built-in\n      // support for date-startdate and data-enddate, which use the current\n      // date format.\n\n      if ($input.data(\"min-date\") !== undefined) {\n        this._setMin($input[0], $input.data(\"min-date\"));\n      }\n\n      if ($input.data(\"max-date\") !== undefined) {\n        this._setMax($input[0], $input.data(\"max-date\"));\n      }\n    },\n    _getLabelNode: function _getLabelNode(el) {\n      return $(el).find('label[for=\"' + $escape(el.id) + '\"]');\n    },\n    // Given a format object from a date picker, return a string\n    _formatToString: function _formatToString(format) {\n      // Format object has structure like:\n      // { parts: ['mm', 'dd', 'yy'], separators: ['', '/', '/' ,''] }\n      var str = \"\";\n      var i;\n\n      for (i = 0; i < format.parts.length; i++) {\n        str += format.separators[i] + format.parts[i];\n      }\n\n      str += format.separators[i];\n      return str;\n    },\n    // Given an unambiguous date string or a Date object, set the min (start) date.\n    // null will unset. undefined will result in no change,\n    _setMin: function _setMin(el, date) {\n      if (date === undefined) return;\n\n      if (date === null) {\n        $(el).bsDatepicker(\"setStartDate\", null);\n        return;\n      }\n\n      date = this._newDate(date); // If date parsing fails, do nothing\n\n      if (date === null) return;\n      if (isNaN(date)) return; // Workarounds for\n      // https://github.com/rstudio/shiny/issues/2335\n\n      var curValue = $(el).bsDatepicker(\"getUTCDate\"); // Note that there's no `setUTCStartDate`, so we need to convert this Date.\n      // It starts at 00:00 UTC, and we convert it to 00:00 in local time, which\n      // is what's needed for `setStartDate`.\n\n      $(el).bsDatepicker(\"setStartDate\", this._UTCDateAsLocal(date)); // If the new min is greater than the current date, unset the current date.\n\n      if (date && curValue && date.getTime() > curValue.getTime()) {\n        $(el).bsDatepicker(\"clearDates\");\n      } else {\n        // Setting the date needs to be done AFTER `setStartDate`, because the\n        // datepicker has a bug where calling `setStartDate` will clear the date\n        // internally (even though it will still be visible in the UI) when a\n        // 2-digit year format is used.\n        // https://github.com/eternicode/bootstrap-datepicker/issues/2010\n        $(el).bsDatepicker(\"setUTCDate\", curValue);\n      }\n    },\n    // Given an unambiguous date string or a Date object, set the max (end) date\n    // null will unset.\n    _setMax: function _setMax(el, date) {\n      if (date === undefined) return;\n\n      if (date === null) {\n        $(el).bsDatepicker(\"setEndDate\", null);\n        return;\n      }\n\n      date = this._newDate(date); // If date parsing fails, do nothing\n\n      if (date === null) return;\n      if (isNaN(date)) return; // Workaround for same issue as in _setMin.\n\n      var curValue = $(el).bsDatepicker(\"getUTCDate\");\n      $(el).bsDatepicker(\"setEndDate\", this._UTCDateAsLocal(date)); // If the new min is greater than the current date, unset the current date.\n\n      if (date && curValue && date.getTime() < curValue.getTime()) {\n        $(el).bsDatepicker(\"clearDates\");\n      } else {\n        $(el).bsDatepicker(\"setUTCDate\", curValue);\n      }\n    },\n    // Given a date string of format yyyy-mm-dd, return a Date object with\n    // that date at 12AM UTC.\n    // If date is a Date object, return it unchanged.\n    _newDate: function _newDate(date) {\n      if (date instanceof Date) return date;\n      if (!date) return null; // Get Date object - this will be at 12AM in UTC, but may print\n      // differently at the Javascript console.\n\n      var d = parseDate(date); // If invalid date, return null\n\n      if (isNaN(d)) return null;\n      return d;\n    },\n    // A Date can have any time during a day; this will return a new Date object\n    // set to 00:00 in UTC.\n    _floorDateTime: function _floorDateTime(date) {\n      date = new Date(date.getTime());\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    },\n    // Given a Date object, return a Date object which has the same \"clock time\"\n    // in UTC. For example, if input date is 2013-02-01 23:00:00 GMT-0600 (CST),\n    // output will be 2013-02-01 23:00:00 UTC. Note that the JS console may\n    // print this in local time, as \"Sat Feb 02 2013 05:00:00 GMT-0600 (CST)\".\n    _dateAsUTC: function _dateAsUTC(date) {\n      return new Date(date.getTime() - date.getTimezoneOffset() * 60000);\n    },\n    // The inverse of _dateAsUTC. This is needed to adjust time zones because\n    // some bootstrap-datepicker methods only take local dates as input, and not\n    // UTC.\n    _UTCDateAsLocal: function _UTCDateAsLocal(date) {\n      return new Date(date.getTime() + date.getTimezoneOffset() * 60000);\n    }\n  });\n  inputBindings.register(dateInputBinding, \"shiny.dateInput\"); // \"input_binding_daterange.js\"\n\n  var dateRangeInputBinding = {};\n  $.extend(dateRangeInputBinding, dateInputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".shiny-date-range-input\");\n    },\n    // Return the date in an unambiguous format, yyyy-mm-dd (as opposed to a\n    // format like mm/dd/yyyy)\n    getValue: function getValue(el) {\n      var $inputs = $(el).find(\"input\");\n      var start = $inputs.eq(0).bsDatepicker(\"getUTCDate\");\n      var end = $inputs.eq(1).bsDatepicker(\"getUTCDate\");\n      return [formatDateUTC(start), formatDateUTC(end)];\n    },\n    // value must be an object, with optional fields `start` and `end`. These\n    // should be unambiguous strings like '2001-01-01', or Date objects.\n    setValue: function setValue(el, value) {\n      if (!(value instanceof Object)) {\n        return;\n      } // Get the start and end input objects\n\n\n      var $inputs = $(el).find(\"input\"); // If value is undefined, don't try to set\n      // null will remove the current value\n\n      if (value.start !== undefined) {\n        if (value.start === null) {\n          $inputs.eq(0).val(\"\").bsDatepicker(\"update\");\n        } else {\n          var start = this._newDate(value.start);\n\n          $inputs.eq(0).bsDatepicker(\"setUTCDate\", start);\n        }\n      }\n\n      if (value.end !== undefined) {\n        if (value.end === null) {\n          $inputs.eq(1).val(\"\").bsDatepicker(\"update\");\n        } else {\n          var end = this._newDate(value.end);\n\n          $inputs.eq(1).bsDatepicker(\"setUTCDate\", end);\n        }\n      }\n    },\n    getState: function getState(el) {\n      var $el = $(el);\n      var $inputs = $el.find(\"input\");\n      var $startinput = $inputs.eq(0);\n      var $endinput = $inputs.eq(1); // For many of the properties, assume start and end have the same values\n\n      var min = $startinput.bsDatepicker(\"getStartDate\");\n      var max = $startinput.bsDatepicker(\"getEndDate\"); // Stringify min and max. If min and max aren't set, they will be\n      // -Infinity and Infinity; replace these with null.\n\n      min = min === -Infinity ? null : formatDateUTC(min);\n      max = max === Infinity ? null : formatDateUTC(max); // startViewMode is stored as a number; convert to string\n\n      var startview = $startinput.data(\"datepicker\").startView;\n      if (startview === 2) startview = \"decade\";else if (startview === 1) startview = \"year\";else if (startview === 0) startview = \"month\";\n      return {\n        label: this._getLabelNode(el).text(),\n        value: this.getValue(el),\n        valueString: [$startinput.val(), $endinput.val()],\n        min: min,\n        max: max,\n        weekstart: $startinput.data(\"datepicker\").weekStart,\n        format: this._formatToString($startinput.data(\"datepicker\").format),\n        language: $startinput.data(\"datepicker\").language,\n        startview: startview\n      };\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      var $el = $(el);\n      var $inputs = $el.find(\"input\");\n      var $startinput = $inputs.eq(0);\n      var $endinput = $inputs.eq(1);\n      updateLabel(data.label, this._getLabelNode(el));\n\n      if (data.hasOwnProperty(\"min\")) {\n        this._setMin($startinput[0], data.min);\n\n        this._setMin($endinput[0], data.min);\n      }\n\n      if (data.hasOwnProperty(\"max\")) {\n        this._setMax($startinput[0], data.max);\n\n        this._setMax($endinput[0], data.max);\n      } // Must set value only after min and max have been set. If new value is\n      // outside the bounds of the previous min/max, then the result will be a\n      // blank input.\n\n\n      if (data.hasOwnProperty(\"value\")) this.setValue(el, data.value);\n      $el.trigger(\"change\");\n    },\n    initialize: function initialize(el) {\n      var $el = $(el);\n      var $inputs = $el.find(\"input\");\n      var $startinput = $inputs.eq(0);\n      var $endinput = $inputs.eq(1);\n      var start = $startinput.data(\"initial-date\");\n      var end = $endinput.data(\"initial-date\"); // If empty/null, use local date, but as UTC\n\n      if (start === undefined || start === null) start = this._dateAsUTC(new Date());\n      if (end === undefined || end === null) end = this._dateAsUTC(new Date());\n      this.setValue(el, {\n        start: start,\n        end: end\n      }); // // Set the start and end dates, from min-date and max-date. These always\n      // // use yyyy-mm-dd format, instead of bootstrap-datepicker's built-in\n      // // support for date-startdate and data-enddate, which use the current\n      // // date format.\n\n      this._setMin($startinput[0], $startinput.data(\"min-date\"));\n\n      this._setMin($endinput[0], $startinput.data(\"min-date\"));\n\n      this._setMax($startinput[0], $endinput.data(\"max-date\"));\n\n      this._setMax($endinput[0], $endinput.data(\"max-date\"));\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"keyup.dateRangeInputBinding input.dateRangeInputBinding\", function (event) {\n        // Use normal debouncing policy when typing\n        callback(true);\n      });\n      $(el).on(\"changeDate.dateRangeInputBinding change.dateRangeInputBinding\", function (event) {\n        // Send immediately when clicked\n        callback(false);\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".dateRangeInputBinding\");\n    },\n    _getLabelNode: function _getLabelNode(el) {\n      return $(el).find('label[for=\"' + $escape(el.id) + '\"]');\n    }\n  });\n  inputBindings.register(dateRangeInputBinding, \"shiny.dateRangeInput\"); // \"input_binding_select.js\"\n\n  var selectInputBinding = new InputBinding();\n  $.extend(selectInputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\"select\");\n    },\n    getType: function getType(el) {\n      var $el = $(el);\n\n      if (!$el.hasClass(\"symbol\")) {\n        // default character type\n        return null;\n      }\n\n      if ($el.attr(\"multiple\") === \"multiple\") {\n        return \"shiny.symbolList\";\n      } else {\n        return \"shiny.symbol\";\n      }\n    },\n    getId: function getId(el) {\n      return InputBinding.prototype.getId.call(this, el) || el.name;\n    },\n    getValue: function getValue(el) {\n      return $(el).val();\n    },\n    setValue: function setValue(el, value) {\n      if (!this._is_selectize(el)) {\n        $(el).val(value);\n      } else {\n        var selectize = this._selectize(el);\n\n        if (selectize) {\n          selectize.setValue(value);\n        }\n      }\n    },\n    getState: function getState(el) {\n      // Store options in an array of objects, each with with value and label\n      var options = new Array(el.length);\n\n      for (var i = 0; i < el.length; i++) {\n        options[i] = {\n          value: el[i].value,\n          label: el[i].label\n        };\n      }\n\n      return {\n        label: this._getLabelNode(el),\n        value: this.getValue(el),\n        options: options\n      };\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      var $el = $(el),\n          selectize; // This will replace all the options\n\n      if (data.hasOwnProperty(\"options\")) {\n        selectize = this._selectize(el); // Must destroy selectize before appending new options, otherwise\n        // selectize will restore the original select\n\n        if (selectize) selectize.destroy(); // Clear existing options and add each new one\n\n        $el.empty().append(data.options);\n\n        this._selectize(el);\n      } // re-initialize selectize\n\n\n      if (data.hasOwnProperty(\"config\")) {\n        $el.parent().find('script[data-for=\"' + $escape(el.id) + '\"]').replaceWith(data.config);\n\n        this._selectize(el, true);\n      } // use server-side processing for selectize\n\n\n      if (data.hasOwnProperty(\"url\")) {\n        selectize = this._selectize(el);\n        selectize.clearOptions();\n        var loaded = false;\n\n        selectize.settings.load = function (query, callback) {\n          var settings = selectize.settings;\n          $.ajax({\n            url: data.url,\n            data: {\n              query: query,\n              field: JSON.stringify([settings.searchField]),\n              value: settings.valueField,\n              conju: settings.searchConjunction,\n              maxop: settings.maxOptions\n            },\n            type: \"GET\",\n            error: function error() {\n              callback();\n            },\n            success: function success(res) {\n              // res = [{label: '1', value: '1', group: '1'}, ...]\n              // success is called after options are added, but\n              // groups need to be added manually below\n              $.each(res, function (index, elem) {\n                // Call selectize.addOptionGroup once for each optgroup; the\n                // first argument is the group ID, the second is an object with\n                // the group's label and value. We use the current settings of\n                // the selectize object to decide the fieldnames of that obj.\n                var optgroupId = elem[settings.optgroupField || \"optgroup\"];\n                var optgroup = {};\n                optgroup[settings.optgroupLabelField || \"label\"] = optgroupId;\n                optgroup[settings.optgroupValueField || \"value\"] = optgroupId;\n                selectize.addOptionGroup(optgroupId, optgroup);\n              });\n              callback(res);\n\n              if (!loaded) {\n                if (data.hasOwnProperty(\"value\")) {\n                  selectize.setValue(data.value);\n                } else if (settings.maxItems === 1) {\n                  // first item selected by default only for single-select\n                  selectize.setValue(res[0].value);\n                }\n              }\n\n              loaded = true;\n            }\n          });\n        }; // perform an empty search after changing the `load` function\n\n\n        selectize.load(function (callback) {\n          selectize.settings.load.apply(selectize, [\"\", callback]);\n        });\n      } else if (data.hasOwnProperty(\"value\")) {\n        this.setValue(el, data.value);\n      }\n\n      updateLabel(data.label, this._getLabelNode(el));\n      $(el).trigger(\"change\");\n    },\n    subscribe: function subscribe(el, callback) {\n      var _this = this;\n\n      $(el).on(\"change.selectInputBinding\", function (event) {\n        // https://github.com/rstudio/shiny/issues/2162\n        // Prevent spurious events that are gonna be squelched in\n        // a second anyway by the onItemRemove down below\n        if (el.nonempty && _this.getValue(el) === \"\") {\n          return;\n        }\n\n        callback();\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".selectInputBinding\");\n    },\n    initialize: function initialize(el) {\n      this._selectize(el);\n    },\n    _getLabelNode: function _getLabelNode(el) {\n      var escaped_id = $escape(el.id);\n\n      if (this._is_selectize(el)) {\n        escaped_id += \"-selectized\";\n      }\n\n      return $(el).parent().parent().find('label[for=\"' + escaped_id + '\"]');\n    },\n    // Return true if it's a selectize input, false if it's a regular select input.\n    _is_selectize: function _is_selectize(el) {\n      var config = $(el).parent().find('script[data-for=\"' + $escape(el.id) + '\"]');\n      return config.length > 0;\n    },\n    _selectize: function _selectize(el, update) {\n      if (!$.fn.selectize) return undefined;\n      var $el = $(el);\n      var config = $el.parent().find('script[data-for=\"' + $escape(el.id) + '\"]');\n      if (config.length === 0) return undefined;\n      var options = $.extend({\n        labelField: \"label\",\n        valueField: \"value\",\n        searchField: [\"label\"]\n      }, JSON.parse(config.html())); // selectize created from selectInput()\n\n      if (typeof config.data(\"nonempty\") !== \"undefined\") {\n        el.nonempty = true;\n        options = $.extend(options, {\n          onItemRemove: function onItemRemove(value) {\n            if (this.getValue() === \"\") $(\"select#\" + $escape(el.id)).empty().append($(\"<option/>\", {\n              value: value,\n              selected: true\n            })).trigger(\"change\");\n          },\n          onDropdownClose: function onDropdownClose($dropdown) {\n            if (this.getValue() === \"\") this.setValue($(\"select#\" + $escape(el.id)).val());\n          }\n        });\n      } else {\n        el.nonempty = false;\n      } // options that should be eval()ed\n\n\n      if (config.data(\"eval\") instanceof Array) $.each(config.data(\"eval\"), function (i, x) {\n        /*jshint evil: true*/\n        options[x] = eval(\"(\" + options[x] + \")\");\n      });\n      var control = $el.selectize(options)[0].selectize; // .selectize() does not really update settings; must destroy and rebuild\n\n      if (update) {\n        var settings = $.extend(control.settings, options);\n        control.destroy();\n        control = $el.selectize(settings)[0].selectize;\n      }\n\n      return control;\n    }\n  });\n  inputBindings.register(selectInputBinding, \"shiny.selectInput\"); // \"input_binding_radio.js\"\n\n  var radioInputBinding = new InputBinding();\n  $.extend(radioInputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".shiny-input-radiogroup\");\n    },\n    getValue: function getValue(el) {\n      // Select the radio objects that have name equal to the grouping div's id\n      var checked_items = $('input:radio[name=\"' + $escape(el.id) + '\"]:checked');\n\n      if (checked_items.length === 0) {\n        // If none are checked, the input will return null (it's the default on load,\n        // but it wasn't emptied when calling updateRadioButtons with character(0)\n        return null;\n      }\n\n      return checked_items.val();\n    },\n    setValue: function setValue(el, value) {\n      if ($.isArray(value) && value.length === 0) {\n        // Removing all checked item if the sent data is empty\n        $('input:radio[name=\"' + $escape(el.id) + '\"]').prop(\"checked\", false);\n      } else {\n        $('input:radio[name=\"' + $escape(el.id) + '\"][value=\"' + $escape(value) + '\"]').prop(\"checked\", true);\n      }\n    },\n    getState: function getState(el) {\n      var $objs = $('input:radio[name=\"' + $escape(el.id) + '\"]'); // Store options in an array of objects, each with with value and label\n\n      var options = new Array($objs.length);\n\n      for (var i = 0; i < options.length; i++) {\n        options[i] = {\n          value: $objs[i].value,\n          label: this._getLabel($objs[i])\n        };\n      }\n\n      return {\n        label: this._getLabelNode(el).text(),\n        value: this.getValue(el),\n        options: options\n      };\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      var $el = $(el); // This will replace all the options\n\n      if (data.hasOwnProperty(\"options\")) {\n        // Clear existing options and add each new one\n        $el.find(\"div.shiny-options-group\").remove(); // Backward compatibility: for HTML generated by shinybootstrap2 package\n\n        $el.find(\"label.radio\").remove();\n        $el.append(data.options);\n      }\n\n      if (data.hasOwnProperty(\"value\")) this.setValue(el, data.value);\n      updateLabel(data.label, this._getLabelNode(el));\n      $(el).trigger(\"change\");\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"change.radioInputBinding\", function (event) {\n        callback();\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".radioInputBinding\");\n    },\n    // Get the DOM element that contains the top-level label\n    _getLabelNode: function _getLabelNode(el) {\n      return $(el).parent().find('label[for=\"' + $escape(el.id) + '\"]');\n    },\n    // Given an input DOM object, get the associated label. Handles labels\n    // that wrap the input as well as labels associated with 'for' attribute.\n    _getLabel: function _getLabel(obj) {\n      // If <label><input /><span>label text</span></label>\n      if (obj.parentNode.tagName === \"LABEL\") {\n        return $(obj.parentNode).find(\"span\").text().trim();\n      }\n\n      return null;\n    },\n    // Given an input DOM object, set the associated label. Handles labels\n    // that wrap the input as well as labels associated with 'for' attribute.\n    _setLabel: function _setLabel(obj, value) {\n      // If <label><input /><span>label text</span></label>\n      if (obj.parentNode.tagName === \"LABEL\") {\n        $(obj.parentNode).find(\"span\").text(value);\n      }\n\n      return null;\n    }\n  });\n  inputBindings.register(radioInputBinding, \"shiny.radioInput\"); // \"input_binding_checkboxgroup.js\"\n\n  var checkboxGroupInputBinding = new InputBinding();\n  $.extend(checkboxGroupInputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".shiny-input-checkboxgroup\");\n    },\n    getValue: function getValue(el) {\n      // Select the checkbox objects that have name equal to the grouping div's id\n      var $objs = $('input:checkbox[name=\"' + $escape(el.id) + '\"]:checked');\n      var values = new Array($objs.length);\n\n      for (var i = 0; i < $objs.length; i++) {\n        values[i] = $objs[i].value;\n      }\n\n      return values;\n    },\n    setValue: function setValue(el, value) {\n      // Clear all checkboxes\n      $('input:checkbox[name=\"' + $escape(el.id) + '\"]').prop(\"checked\", false); // Accept array\n\n      if (value instanceof Array) {\n        for (var i = 0; i < value.length; i++) {\n          $('input:checkbox[name=\"' + $escape(el.id) + '\"][value=\"' + $escape(value[i]) + '\"]').prop(\"checked\", true);\n        } // Else assume it's a single value\n\n      } else {\n        $('input:checkbox[name=\"' + $escape(el.id) + '\"][value=\"' + $escape(value) + '\"]').prop(\"checked\", true);\n      }\n    },\n    getState: function getState(el) {\n      var $objs = $('input:checkbox[name=\"' + $escape(el.id) + '\"]'); // Store options in an array of objects, each with with value and label\n\n      var options = new Array($objs.length);\n\n      for (var i = 0; i < options.length; i++) {\n        options[i] = {\n          value: $objs[i].value,\n          label: this._getLabel($objs[i])\n        };\n      }\n\n      return {\n        label: this._getLabelNode(el).text(),\n        value: this.getValue(el),\n        options: options\n      };\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      var $el = $(el); // This will replace all the options\n\n      if (data.hasOwnProperty(\"options\")) {\n        // Clear existing options and add each new one\n        $el.find(\"div.shiny-options-group\").remove(); // Backward compatibility: for HTML generated by shinybootstrap2 package\n\n        $el.find(\"label.checkbox\").remove();\n        $el.append(data.options);\n      }\n\n      if (data.hasOwnProperty(\"value\")) this.setValue(el, data.value);\n      updateLabel(data.label, this._getLabelNode(el));\n      $(el).trigger(\"change\");\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"change.checkboxGroupInputBinding\", function (event) {\n        callback();\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".checkboxGroupInputBinding\");\n    },\n    // Get the DOM element that contains the top-level label\n    _getLabelNode: function _getLabelNode(el) {\n      return $(el).find('label[for=\"' + $escape(el.id) + '\"]');\n    },\n    // Given an input DOM object, get the associated label. Handles labels\n    // that wrap the input as well as labels associated with 'for' attribute.\n    _getLabel: function _getLabel(obj) {\n      // If <label><input /><span>label text</span></label>\n      if (obj.parentNode.tagName === \"LABEL\") {\n        return $(obj.parentNode).find(\"span\").text().trim();\n      }\n\n      return null;\n    },\n    // Given an input DOM object, set the associated label. Handles labels\n    // that wrap the input as well as labels associated with 'for' attribute.\n    _setLabel: function _setLabel(obj, value) {\n      // If <label><input /><span>label text</span></label>\n      if (obj.parentNode.tagName === \"LABEL\") {\n        $(obj.parentNode).find(\"span\").text(value);\n      }\n\n      return null;\n    }\n  });\n  inputBindings.register(checkboxGroupInputBinding, \"shiny.checkboxGroupInput\"); // \"input_binding_actionbutton.js\"\n\n  var actionButtonInputBinding = new InputBinding();\n  $.extend(actionButtonInputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\".action-button\");\n    },\n    getValue: function getValue(el) {\n      return $(el).data(\"val\") || 0;\n    },\n    setValue: function setValue(el, value) {\n      $(el).data(\"val\", value);\n    },\n    getType: function getType(el) {\n      return \"shiny.action\";\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"click.actionButtonInputBinding\", function (e) {\n        var $el = $(this);\n        var val = $el.data(\"val\") || 0;\n        $el.data(\"val\", val + 1);\n        callback();\n      });\n    },\n    getState: function getState(el) {\n      return {\n        value: this.getValue(el)\n      };\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      var $el = $(el); // retrieve current label and icon\n\n      var label = $el.text();\n      var icon = \"\"; // to check (and store) the previous icon, we look for a $el child\n      // object that has an i tag, and some (any) class (this prevents\n      // italicized text - which has an i tag but, usually, no class -\n      // from being mistakenly selected)\n\n      if ($el.find(\"i[class]\").length > 0) {\n        var icon_html = $el.find(\"i[class]\")[0];\n\n        if (icon_html === $el.children()[0]) {\n          // another check for robustness\n          icon = $(icon_html).prop(\"outerHTML\");\n        }\n      } // update the requested properties\n\n\n      if (data.hasOwnProperty(\"label\")) label = data.label;\n\n      if (data.hasOwnProperty(\"icon\")) {\n        icon = data.icon; // if the user entered icon=character(0), remove the icon\n\n        if (icon.length === 0) icon = \"\";\n      } // produce new html\n\n\n      $el.html(icon + \" \" + label);\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".actionButtonInputBinding\");\n    }\n  });\n  inputBindings.register(actionButtonInputBinding, \"shiny.actionButtonInput\");\n  $(document).on(\"click\", \"a.action-button\", function (e) {\n    e.preventDefault();\n  }); // \"input_binding_tabinput.js\"\n\n  var bootstrapTabInputBinding = new InputBinding();\n  $.extend(bootstrapTabInputBinding, {\n    find: function find(scope) {\n      return $(scope).find(\"ul.nav.shiny-tab-input\");\n    },\n    getValue: function getValue(el) {\n      // prettier-ignore\n      // The BS4+ selectors may not work as is for dropdowns within dropdowns, but BS3+ dropped support for those anyway\n      var anchor = isBS3() ? $(el).find(\"li:not(.dropdown).active > a\") : $(el).find(\".nav-link:not(.dropdown-toggle).active, .dropdown-menu .dropdown-item.active\");\n      if (anchor.length === 1) return this._getTabName(anchor);\n      return null;\n    },\n    setValue: function setValue(el, value) {\n      var self = this;\n      var success = false;\n\n      if (value) {\n        // prettier-ignore\n        // The BS4+ selectors may not work as is for dropdowns within dropdowns, but BS3+ dropped support for those anyway\n        var anchors = isBS3() ? $(el).find(\"li:not(.dropdown) > a\") : $(el).find(\".nav-link:not(.dropdown-toggle), .dropdown-menu .dropdown-item\");\n        anchors.each(function () {\n          if (self._getTabName($(this)) === value) {\n            $(this).tab(\"show\");\n            success = true;\n            return false; // Break out of each()\n          }\n\n          return true;\n        });\n      }\n\n      if (!success) {\n        // This is to handle the case where nothing is selected, e.g. the last tab\n        // was removed using removeTab.\n        $(el).trigger(\"change\");\n      }\n    },\n    getState: function getState(el) {\n      return {\n        value: this.getValue(el)\n      };\n    },\n    receiveMessage: function receiveMessage(el, data) {\n      if (data.hasOwnProperty(\"value\")) this.setValue(el, data.value);\n      $(el).trigger(\"change\");\n    },\n    subscribe: function subscribe(el, callback) {\n      $(el).on(\"change shown.bootstrapTabInputBinding shown.bs.tab.bootstrapTabInputBinding\", function (event) {\n        callback();\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      $(el).off(\".bootstrapTabInputBinding\");\n    },\n    _getTabName: function _getTabName(anchor) {\n      return anchor.attr(\"data-value\") || anchor.text();\n    }\n  });\n  inputBindings.register(bootstrapTabInputBinding, \"shiny.bootstrapTabInput\"); // \"input_binding_fileinput.js\"\n\n  var FileUploader = function FileUploader(shinyapp, id, files, el) {\n    this.shinyapp = shinyapp;\n    this.id = id;\n    this.el = el;\n    FileProcessor.call(this, files);\n  };\n\n  $.extend(FileUploader.prototype, FileProcessor.prototype);\n  (function () {\n    this.makeRequest = function (method, args, onSuccess, onFailure, blobs) {\n      this.shinyapp.makeRequest(method, args, onSuccess, onFailure, blobs);\n    };\n\n    this.onBegin = function (files, cont) {\n      var self = this; // Reset progress bar\n\n      this.$setError(null);\n      this.$setActive(true);\n      this.$setVisible(true);\n      this.onProgress(null, 0);\n      this.totalBytes = 0;\n      this.progressBytes = 0;\n      $.each(files, function (i, file) {\n        self.totalBytes += file.size;\n      });\n      var fileInfo = $.map(files, function (file, i) {\n        return {\n          name: file.name,\n          size: file.size,\n          type: file.type\n        };\n      });\n      this.makeRequest(\"uploadInit\", [fileInfo], function (response) {\n        self.jobId = response.jobId;\n        self.uploadUrl = response.uploadUrl;\n        cont();\n      }, function (error) {\n        self.onError(error);\n      });\n    };\n\n    this.onFile = function (file, cont) {\n      var self = this;\n      this.onProgress(file, 0);\n      $.ajax(this.uploadUrl, {\n        type: \"POST\",\n        cache: false,\n        xhr: function xhr() {\n          var xhrVal = $.ajaxSettings.xhr();\n\n          if (xhrVal.upload) {\n            xhrVal.upload.onprogress = function (e) {\n              if (e.lengthComputable) {\n                self.onProgress(file, (self.progressBytes + e.loaded) / self.totalBytes);\n              }\n            };\n          }\n\n          return xhrVal;\n        },\n        data: file,\n        contentType: \"application/octet-stream\",\n        processData: false,\n        success: function success() {\n          self.progressBytes += file.size;\n          cont();\n        },\n        error: function error(jqXHR, textStatus, errorThrown) {\n          self.onError(jqXHR.responseText || textStatus);\n        }\n      });\n    };\n\n    this.onComplete = function () {\n      var self = this;\n      var fileInfo = $.map(this.files, function (file, i) {\n        return {\n          name: file.name,\n          size: file.size,\n          type: file.type\n        };\n      }); // Trigger shiny:inputchanged. Unlike a normal shiny:inputchanged event,\n      // it's not possible to modify the information before the values get\n      // sent to the server.\n\n      var evt = jQuery.Event(\"shiny:inputchanged\");\n      evt.name = this.id;\n      evt.value = fileInfo;\n      evt.binding = fileInputBinding;\n      evt.el = this.el;\n      evt.inputType = \"shiny.fileupload\";\n      $(document).trigger(evt);\n      this.makeRequest(\"uploadEnd\", [this.jobId, this.id], function (response) {\n        self.$setActive(false);\n        self.onProgress(null, 1);\n        self.$bar().text(\"Upload complete\"); // Reset the file input's value to \"\". This allows the same file to be\n        // uploaded again. https://stackoverflow.com/a/22521275\n\n        $(evt.el).val(\"\");\n      }, function (error) {\n        self.onError(error);\n      });\n      this.$bar().text(\"Finishing upload\");\n    };\n\n    this.onError = function (message) {\n      this.$setError(message || \"\");\n      this.$setActive(false);\n    };\n\n    this.onAbort = function () {\n      this.$setVisible(false);\n    };\n\n    this.onProgress = function (file, completed) {\n      this.$bar().width(Math.round(completed * 100) + \"%\");\n      this.$bar().text(file ? file.name : \"\");\n    };\n\n    this.$container = function () {\n      return $(\"#\" + $escape(this.id) + \"_progress.shiny-file-input-progress\");\n    };\n\n    this.$bar = function () {\n      return $(\"#\" + $escape(this.id) + \"_progress.shiny-file-input-progress .progress-bar\");\n    };\n\n    this.$setVisible = function (visible) {\n      this.$container().css(\"visibility\", visible ? \"visible\" : \"hidden\");\n    };\n\n    this.$setError = function (error) {\n      this.$bar().toggleClass(\"progress-bar-danger\", error !== null);\n\n      if (error !== null) {\n        this.onProgress(null, 1);\n        this.$bar().text(error);\n      }\n    };\n\n    this.$setActive = function (active) {\n      this.$container().toggleClass(\"active\", !!active);\n    };\n  }).call(FileUploader.prototype); // NOTE On Safari, at least version 10.1.2, *if the developer console is open*,\n  // setting the input's value will behave strangely because of a Safari bug. The\n  // uploaded file's name will appear over the placeholder value, instead of\n  // replacing it. The workaround is to restart Safari. When I (Alan Dipert) ran\n  // into this bug Winston Chang helped me diagnose the exact problem, and Winston\n  // then submitted a bug report to Apple.\n\n  function setFileText($el, files) {\n    var $fileText = $el.closest(\"div.input-group\").find(\"input[type=text]\");\n\n    if (files.length === 1) {\n      $fileText.val(files[0].name);\n    } else {\n      $fileText.val(files.length + \" files\");\n    }\n  } // If previously selected files are uploading, abort that.\n\n\n  function abortCurrentUpload($el) {\n    var uploader = $el.data(\"currentUploader\");\n    if (uploader) uploader.abort(); // Clear data-restore attribute if present.\n\n    $el.removeAttr(\"data-restore\");\n  }\n\n  function uploadDroppedFilesIE10Plus(el, files) {\n    var $el = $(el);\n    abortCurrentUpload($el); // Set the label in the text box\n\n    setFileText($el, files); // Start the new upload and put the uploader in 'currentUploader'.\n\n    $el.data(\"currentUploader\", new FileUploader(Shiny.shinyapp, fileInputBinding.getId(el), files, el));\n  }\n\n  function uploadFiles(evt) {\n    var $el = $(evt.target);\n    abortCurrentUpload($el);\n    var files = evt.target.files;\n    var id = fileInputBinding.getId(evt.target);\n    if (files.length === 0) return; // Set the label in the text box\n\n    setFileText($el, files); // Start the new upload and put the uploader in 'currentUploader'.\n\n    $el.data(\"currentUploader\", new FileUploader(Shiny.shinyapp, id, files, evt.target));\n  } // Here we maintain a list of all the current file inputs. This is necessary\n  // because we need to trigger events on them in order to respond to file drag\n  // events. For example, they should all light up when a file is dragged on to\n  // the page.\n\n\n  var $fileInputs = $();\n  var fileInputBinding = new InputBinding();\n  $.extend(fileInputBinding, {\n    find: function find(scope) {\n      return $(scope).find('input[type=\"file\"]');\n    },\n    getId: function getId(el) {\n      return InputBinding.prototype.getId.call(this, el) || el.name;\n    },\n    getValue: function getValue(el) {\n      // This returns a non-undefined value only when there's a 'data-restore'\n      // attribute, which is set only when restoring Shiny state. If a file is\n      // uploaded through the browser, 'data-restore' gets cleared.\n      var data = $(el).attr(\"data-restore\");\n\n      if (data) {\n        data = JSON.parse(data); // Set the label in the text box\n\n        var $fileText = $(el).closest(\"div.input-group\").find(\"input[type=text]\");\n\n        if (data.name.length === 1) {\n          $fileText.val(data.name[0]);\n        } else {\n          $fileText.val(data.name.length + \" files\");\n        } // Manually set up progress bar. A bit inelegant because it duplicates\n        // code from FileUploader, but duplication is less bad than alternatives.\n\n\n        var $progress = $(el).closest(\"div.form-group\").find(\".progress\");\n        var $bar = $progress.find(\".progress-bar\");\n        $progress.removeClass(\"active\");\n        $bar.width(\"100%\");\n        $bar.css(\"visibility\", \"visible\");\n        return data;\n      } else {\n        return null;\n      }\n    },\n    setValue: function setValue(el, value) {// Not implemented\n    },\n    getType: function getType(el) {\n      // This will be used only when restoring a file from a saved state.\n      return \"shiny.file\";\n    },\n    _zoneOf: function _zoneOf(el) {\n      return $(el).closest(\"div.input-group\");\n    },\n    // This function makes it possible to attach listeners to the dragenter,\n    // dragleave, and drop events of a single element with children. It's not\n    // intuitive to do directly because outer elements fire \"dragleave\" events\n    // both when the drag leaves the element and when the drag enters a child. To\n    // make it easier, we maintain a count of the elements being dragged across\n    // and trigger 3 new types of event:\n    //\n    // 1. draghover:enter - When a drag enters el and any of its children.\n    // 2. draghover:leave - When the drag leaves el and all of its children.\n    // 3. draghover:drop - When an item is dropped on el or any of its children.\n    _enableDraghover: function _enableDraghover(el) {\n      var $el = $(el),\n          childCounter = 0;\n      $el.on({\n        \"dragenter.draghover\": function dragenterDraghover(e) {\n          if (childCounter++ === 0) {\n            $el.trigger(\"draghover:enter\", e);\n          }\n        },\n        \"dragleave.draghover\": function dragleaveDraghover(e) {\n          if (--childCounter === 0) {\n            $el.trigger(\"draghover:leave\", e);\n          }\n\n          if (childCounter < 0) {\n            console.error(\"draghover childCounter is negative somehow\");\n          }\n        },\n        \"dragover.draghover\": function dragoverDraghover(e) {\n          e.preventDefault();\n        },\n        \"drop.draghover\": function dropDraghover(e) {\n          childCounter = 0;\n          $el.trigger(\"draghover:drop\", e);\n          e.preventDefault();\n        }\n      });\n      return $el;\n    },\n    _disableDraghover: function _disableDraghover(el) {\n      return $(el).off(\".draghover\");\n    },\n    _ZoneClass: {\n      ACTIVE: \"shiny-file-input-active\",\n      OVER: \"shiny-file-input-over\"\n    },\n    _enableDocumentEvents: function _enableDocumentEvents() {\n      var _this2 = this;\n\n      var $doc = $(\"html\"),\n          _this$_ZoneClass = this._ZoneClass,\n          ACTIVE = _this$_ZoneClass.ACTIVE,\n          OVER = _this$_ZoneClass.OVER;\n\n      this._enableDraghover($doc).on({\n        \"draghover:enter.draghover\": function draghoverEnterDraghover(e) {\n          _this2._zoneOf($fileInputs).addClass(ACTIVE);\n        },\n        \"draghover:leave.draghover\": function draghoverLeaveDraghover(e) {\n          _this2._zoneOf($fileInputs).removeClass(ACTIVE);\n        },\n        \"draghover:drop.draghover\": function draghoverDropDraghover(e) {\n          _this2._zoneOf($fileInputs).removeClass(OVER).removeClass(ACTIVE);\n        }\n      });\n    },\n    _disableDocumentEvents: function _disableDocumentEvents() {\n      var $doc = $(\"html\");\n      $doc.off(\".draghover\");\n\n      this._disableDraghover($doc);\n    },\n    _canSetFiles: function _canSetFiles(fileList) {\n      var testEl = document.createElement(\"input\");\n      testEl.type = \"file\";\n\n      try {\n        testEl.files = fileList;\n      } catch (e) {\n        return false;\n      }\n\n      return true;\n    },\n    _handleDrop: function _handleDrop(e, el) {\n      var files = e.originalEvent.dataTransfer.files,\n          $el = $(el);\n\n      if (files === undefined || files === null) {\n        // 1. The FileList object isn't supported by this browser, and\n        // there's nothing else we can try. (< IE 10)\n        console.log(\"Dropping files is not supported on this browser. (no FileList)\");\n      } else if (!this._canSetFiles(files)) {\n        // 2. The browser doesn't support assigning a type=file input's .files\n        // property, but we do have a FileList to work with. (IE10+/Edge)\n        $el.val(\"\");\n        uploadDroppedFilesIE10Plus(el, files);\n      } else {\n        // 3. The browser supports FileList and input.files assignment.\n        // (Chrome, Safari)\n        $el.val(\"\");\n        el.files = e.originalEvent.dataTransfer.files; // Recent versions of Firefox (57+, or \"Quantum\" and beyond) don't seem to\n        // automatically trigger a change event, so we trigger one manually here.\n        // On browsers that do trigger change, this operation appears to be\n        // idempotent, as el.files doesn't change between events.\n\n        $el.trigger(\"change\");\n      }\n    },\n    subscribe: function subscribe(el, callback) {\n      var _this3 = this;\n\n      $(el).on(\"change.fileInputBinding\", uploadFiles); // Here we try to set up the necessary events for Drag and Drop (\"DnD\").\n\n      if ($fileInputs.length === 0) this._enableDocumentEvents();\n      $fileInputs = $fileInputs.add(el);\n\n      var $zone = this._zoneOf(el),\n          OVER = this._ZoneClass.OVER;\n\n      this._enableDraghover($zone).on({\n        \"draghover:enter.draghover\": function draghoverEnterDraghover(e) {\n          $zone.addClass(OVER);\n        },\n        \"draghover:leave.draghover\": function draghoverLeaveDraghover(e) {\n          $zone.removeClass(OVER); // Prevent this event from bubbling to the document handler,\n          // which would deactivate all zones.\n\n          e.stopPropagation();\n        },\n        \"draghover:drop.draghover\": function draghoverDropDraghover(e, dropEvent) {\n          _this3._handleDrop(dropEvent, el);\n        }\n      });\n    },\n    unsubscribe: function unsubscribe(el) {\n      var $el = $(el),\n          $zone = this._zoneOf(el);\n\n      $zone.removeClass(this._ZoneClass.OVER).removeClass(this._ZoneClass.ACTIVE);\n\n      this._disableDraghover($zone);\n\n      $el.off(\".fileInputBinding\");\n      $zone.off(\".draghover\"); // Remove el from list of inputs and (maybe) clean up global event handlers.\n\n      $fileInputs = $fileInputs.not(el);\n      if ($fileInputs.length === 0) this._disableDocumentEvents();\n    }\n  });\n  inputBindings.register(fileInputBinding, \"shiny.fileInputBinding\"); // This function gets defined in initShiny() and 'hoisted' so it can be reused\n  // (to send CSS info) inside of Shiny.renderDependencies()\n\n  var sendImageSize;\n  var sendImageSize2; // \"init_shiny.js\"\n\n  function initShiny() {\n    var shinyapp = Shiny.shinyapp = new ShinyApp();\n\n    function bindOutputs() {\n      var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      scope = $(scope);\n      var bindings = outputBindings.getBindings();\n\n      for (var i = 0; i < bindings.length; i++) {\n        var binding = bindings[i].binding;\n        var matches = binding.find(scope) || [];\n\n        for (var j = 0; j < matches.length; j++) {\n          var el = matches[j];\n          var id = binding.getId(el); // Check if ID is falsy\n\n          if (!id) continue; // In some uncommon cases, elements that are later in the\n          // matches array can be removed from the document by earlier\n          // iterations. See https://github.com/rstudio/shiny/issues/1399\n\n          if (!$.contains(document, el)) continue;\n          var $el = $(el);\n\n          if ($el.hasClass(\"shiny-bound-output\")) {\n            // Already bound; can happen with nested uiOutput (bindAll\n            // gets called on two ancestors)\n            continue;\n          } // If this element reports its CSS styles to getCurrentOutputInfo()\n          // then it should have a MutationObserver() to resend CSS if its\n          // style/class attributes change. This observer should already exist\n          // for _static_ UI, but not yet for _dynamic_ UI\n\n\n          maybeAddThemeObserver(el);\n          var bindingAdapter = new OutputBindingAdapter(el, binding);\n          shinyapp.bindOutput(id, bindingAdapter);\n          $el.data(\"shiny-output-binding\", bindingAdapter);\n          $el.addClass(\"shiny-bound-output\");\n          if (!$el.attr(\"aria-live\")) $el.attr(\"aria-live\", \"polite\");\n          $el.trigger({\n            type: \"shiny:bound\",\n            binding: binding,\n            bindingType: \"output\"\n          });\n        }\n      } // Send later in case DOM layout isn't final yet.\n\n\n      setTimeout(sendImageSize, 0);\n      setTimeout(sendOutputHiddenState, 0);\n    }\n\n    function unbindOutputs() {\n      var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var outputs = $(scope).find(\".shiny-bound-output\");\n\n      if (includeSelf && $(scope).hasClass(\"shiny-bound-output\")) {\n        outputs.push(scope);\n      }\n\n      for (var i = 0; i < outputs.length; i++) {\n        var $el = $(outputs[i]);\n        var bindingAdapter = $el.data(\"shiny-output-binding\");\n        if (!bindingAdapter) continue;\n        var id = bindingAdapter.binding.getId(outputs[i]);\n        shinyapp.unbindOutput(id, bindingAdapter);\n        $el.removeClass(\"shiny-bound-output\");\n        $el.removeData(\"shiny-output-binding\");\n        $el.trigger({\n          type: \"shiny:unbound\",\n          binding: bindingAdapter.binding,\n          bindingType: \"output\"\n        });\n      } // Send later in case DOM layout isn't final yet.\n\n\n      setTimeout(sendImageSize, 0);\n      setTimeout(sendOutputHiddenState, 0);\n    }\n\n    var inputBatchSender = new InputBatchSender(shinyapp);\n    var inputsNoResend = new InputNoResendDecorator(inputBatchSender);\n    var inputsEvent = new InputEventDecorator(inputsNoResend);\n    var inputsRate = new InputRateDecorator(inputsEvent);\n    var inputsDefer = new InputDeferDecorator(inputsEvent);\n    var inputs;\n\n    if ($('input[type=\"submit\"], button[type=\"submit\"]').length > 0) {\n      // If there is a submit button on the page, use defer decorator\n      inputs = inputsDefer;\n      $('input[type=\"submit\"], button[type=\"submit\"]').each(function () {\n        $(this).click(function (event) {\n          event.preventDefault();\n          inputsDefer.submit();\n        });\n      });\n    } else {\n      // By default, use rate decorator\n      inputs = inputsRate;\n    }\n\n    inputs = new InputValidateDecorator(inputs);\n\n    Shiny.setInputValue = Shiny.onInputChange = function (name, value, opts) {\n      opts = addDefaultInputOpts(opts);\n      inputs.setInput(name, value, opts);\n    }; // By default, Shiny deduplicates input value changes; that is, if\n    // `setInputValue` is called with the same value as the input already\n    // has, the call is ignored (unless opts.priority = \"event\"). Calling\n    // `forgetLastInputValue` tells Shiny that the very next call to\n    // `setInputValue` for this input id shouldn't be ignored, even if it\n    // is a dupe of the existing value.\n\n\n    Shiny.forgetLastInputValue = function (name) {\n      inputsNoResend.forget(name);\n    };\n\n    var boundInputs = {};\n\n    function valueChangeCallback(binding, el, allowDeferred) {\n      var id = binding.getId(el);\n\n      if (id) {\n        var value = binding.getValue(el);\n        var type = binding.getType(el);\n        if (type) id = id + \":\" + type;\n        var opts = {\n          priority: allowDeferred ? \"deferred\" : \"immediate\",\n          binding: binding,\n          el: el\n        };\n        inputs.setInput(id, value, opts);\n      }\n    }\n\n    function bindInputs() {\n      var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      var bindings = inputBindings.getBindings();\n      var inputItems = {};\n\n      var _loop = function _loop(i) {\n        var binding = bindings[i].binding;\n        var matches = binding.find(scope) || [];\n\n        var _loop2 = function _loop2(j) {\n          var el = matches[j];\n          var id = binding.getId(el); // Check if ID is falsy, or if already bound\n\n          if (!id || boundInputs[id]) return \"continue\";\n          var type = binding.getType(el);\n          var effectiveId = type ? id + \":\" + type : id;\n          inputItems[effectiveId] = {\n            value: binding.getValue(el),\n            opts: {\n              immediate: true,\n              binding: binding,\n              el: el\n            }\n          };\n          /*jshint loopfunc:true*/\n\n          var thisCallback = function () {\n            var thisBinding = binding;\n            var thisEl = el;\n            return function (allowDeferred) {\n              valueChangeCallback(thisBinding, thisEl, allowDeferred);\n            };\n          }();\n\n          binding.subscribe(el, thisCallback);\n          $(el).data(\"shiny-input-binding\", binding);\n          $(el).addClass(\"shiny-bound-input\");\n          var ratePolicy = binding.getRatePolicy(el);\n\n          if (ratePolicy !== null) {\n            inputsRate.setRatePolicy(effectiveId, ratePolicy.policy, ratePolicy.delay);\n          }\n\n          boundInputs[id] = {\n            binding: binding,\n            node: el\n          };\n          $(el).trigger({\n            type: \"shiny:bound\",\n            binding: binding,\n            bindingType: \"input\"\n          });\n        };\n\n        for (var j = 0; j < matches.length; j++) {\n          var _ret = _loop2(j);\n\n          if (_ret === \"continue\") continue;\n        }\n      };\n\n      for (var i = 0; i < bindings.length; i++) {\n        _loop(i);\n      }\n\n      return inputItems;\n    }\n\n    function unbindInputs() {\n      var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var inputs = $(scope).find(\".shiny-bound-input\");\n\n      if (includeSelf && $(scope).hasClass(\"shiny-bound-input\")) {\n        inputs.push(scope);\n      }\n\n      for (var i = 0; i < inputs.length; i++) {\n        var el = inputs[i];\n        var binding = $(el).data(\"shiny-input-binding\");\n        if (!binding) continue;\n        var id = binding.getId(el);\n        $(el).removeClass(\"shiny-bound-input\");\n        delete boundInputs[id];\n        binding.unsubscribe(el);\n        $(el).trigger({\n          type: \"shiny:unbound\",\n          binding: binding,\n          bindingType: \"input\"\n        });\n      }\n    }\n\n    function _bindAll(scope) {\n      bindOutputs(scope);\n      return bindInputs(scope);\n    }\n\n    function unbindAll(scope) {\n      var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      unbindInputs(scope, includeSelf);\n      unbindOutputs(scope, includeSelf);\n    }\n\n    Shiny.bindAll = function (scope) {\n      // _bindAll returns input values; it doesn't send them to the server.\n      // export.bindAll needs to send the values to the server.\n      var currentInputItems = _bindAll(scope);\n\n      $.each(currentInputItems, function (name, item) {\n        inputs.setInput(name, item.value, item.opts);\n      }); // Not sure if the iframe stuff is an intrinsic part of bindAll, but bindAll\n      // is a convenient place to hang it. bindAll will be called anytime new HTML\n      // appears that might contain inputs/outputs; it's reasonable to assume that\n      // any such HTML may contain iframes as well.\n\n      initDeferredIframes();\n    };\n\n    Shiny.unbindAll = unbindAll; // Calls .initialize() for all of the input objects in all input bindings,\n    // in the given scope.\n\n    function initializeInputs() {\n      var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n      var bindings = inputBindings.getBindings(); // Iterate over all bindings\n\n      for (var i = 0; i < bindings.length; i++) {\n        var binding = bindings[i].binding;\n        var inputObjects = binding.find(scope) || []; // Iterate over all input objects for this binding\n\n        for (var j = 0; j < inputObjects.length; j++) {\n          if (!inputObjects[j]._shiny_initialized) {\n            inputObjects[j]._shiny_initialized = true;\n            binding.initialize(inputObjects[j]);\n          }\n        }\n      }\n    }\n\n    Shiny.initializeInputs = initializeInputs;\n\n    function getIdFromEl(el) {\n      var $el = $(el);\n      var bindingAdapter = $el.data(\"shiny-output-binding\");\n      if (!bindingAdapter) return null;else return bindingAdapter.getId();\n    } // Initialize all input objects in the document, before binding\n\n\n    initializeInputs(document); // The input values returned by _bindAll() each have a structure like this:\n    //   { value: 123, opts: { ... } }\n    // We want to only keep the value. This is because when the initialValues is\n    // passed to ShinyApp.connect(), the ShinyApp object stores the\n    // initialValues object for the duration of the session, and the opts may\n    // have a reference to the DOM element, which would prevent it from being\n    // GC'd.\n\n    var initialValues = mapValues(_bindAll(document), function (x) {\n      return x.value;\n    }); // The server needs to know the size of each image and plot output element,\n    // in case it is auto-sizing\n\n    $(\".shiny-image-output, .shiny-plot-output, .shiny-report-size\").each(function () {\n      var id = getIdFromEl(this);\n\n      if (this.offsetWidth !== 0 || this.offsetHeight !== 0) {\n        initialValues[\".clientdata_output_\" + id + \"_width\"] = this.offsetWidth;\n        initialValues[\".clientdata_output_\" + id + \"_height\"] = this.offsetHeight;\n      }\n    });\n\n    function getComputedBgColor(el) {\n      if (!el) {\n        // Top of document, can't recurse further\n        return null;\n      }\n\n      var bgColor = getStyle(el, \"background-color\");\n      var m = bgColor.match(/^rgba\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)$/);\n\n      if (bgColor === \"transparent\" || m && parseFloat(m[4]) === 0) {\n        // No background color on this element. See if it has a background image.\n        var bgImage = getStyle(el, \"background-image\");\n\n        if (bgImage && bgImage !== \"none\") {\n          // Failed to detect background color, since it has a background image\n          return null;\n        } else {\n          // Recurse\n          return getComputedBgColor(el.parentElement);\n        }\n      }\n\n      return bgColor;\n    }\n\n    function getComputedFont(el) {\n      var fontFamily = getStyle(el, \"font-family\");\n      var fontSize = getStyle(el, \"font-size\");\n      return {\n        families: fontFamily.replace(/\"/g, \"\").split(\", \"),\n        size: fontSize\n      };\n    }\n\n    $(\".shiny-image-output, .shiny-plot-output, .shiny-report-theme\").each(function () {\n      var el = this,\n          id = getIdFromEl(el);\n      initialValues[\".clientdata_output_\" + id + \"_bg\"] = getComputedBgColor(el);\n      initialValues[\".clientdata_output_\" + id + \"_fg\"] = getStyle(el, \"color\");\n      initialValues[\".clientdata_output_\" + id + \"_accent\"] = getComputedLinkColor(el);\n      initialValues[\".clientdata_output_\" + id + \"_font\"] = getComputedFont(el);\n      maybeAddThemeObserver(el);\n    }); // Resend computed styles if *an output element's* class or style attribute changes.\n    // This gives us some level of confidence that getCurrentOutputInfo() will be\n    // properly invalidated if output container is mutated; but unfortunately,\n    // we don't have a reasonable way to detect change in *inherited* styles\n    // (other than session$setCurrentTheme())\n    // https://github.com/rstudio/shiny/issues/3196\n    // https://github.com/rstudio/shiny/issues/2998\n\n    function maybeAddThemeObserver(el) {\n      if (!window.MutationObserver) {\n        return; // IE10 and lower\n      }\n\n      var cl = el.classList;\n      var reportTheme = cl.contains(\"shiny-image-output\") || cl.contains(\"shiny-plot-output\") || cl.contains(\"shiny-report-theme\");\n\n      if (!reportTheme) {\n        return;\n      }\n\n      var $el = $(el);\n\n      if ($el.data(\"shiny-theme-observer\")) {\n        return; // i.e., observer is already observing\n      }\n\n      var observerCallback = new Debouncer(null, function () {\n        return doSendTheme(el);\n      }, 100);\n      var observer = new MutationObserver(function () {\n        return observerCallback.normalCall();\n      });\n      var config = {\n        attributes: true,\n        attributeFilter: [\"style\", \"class\"]\n      };\n      observer.observe(el, config);\n      $el.data(\"shiny-theme-observer\", observer);\n    }\n\n    function doSendTheme(el) {\n      // Sending theme info on error isn't necessary (it'd add an unnecessary additional round-trip)\n      if (el.classList.contains(\"shiny-output-error\")) {\n        return;\n      }\n\n      var id = getIdFromEl(el);\n      inputs.setInput(\".clientdata_output_\" + id + \"_bg\", getComputedBgColor(el));\n      inputs.setInput(\".clientdata_output_\" + id + \"_fg\", getStyle(el, \"color\"));\n      inputs.setInput(\".clientdata_output_\" + id + \"_accent\", getComputedLinkColor(el));\n      inputs.setInput(\".clientdata_output_\" + id + \"_font\", getComputedFont(el));\n    }\n\n    function doSendImageSize() {\n      $(\".shiny-image-output, .shiny-plot-output, .shiny-report-size\").each(function () {\n        var id = getIdFromEl(this);\n\n        if (this.offsetWidth !== 0 || this.offsetHeight !== 0) {\n          inputs.setInput(\".clientdata_output_\" + id + \"_width\", this.offsetWidth);\n          inputs.setInput(\".clientdata_output_\" + id + \"_height\", this.offsetHeight);\n        }\n      });\n      $(\".shiny-image-output, .shiny-plot-output, .shiny-report-theme\").each(function () {\n        doSendTheme(this);\n      });\n      $(\".shiny-bound-output\").each(function () {\n        var $this = $(this),\n            binding = $this.data(\"shiny-output-binding\");\n        $this.trigger({\n          type: \"shiny:visualchange\",\n          visible: !isHidden(this),\n          binding: binding\n        });\n        binding.onResize();\n      });\n    }\n\n    var sendImageSizeDebouncer = new Debouncer(null, doSendImageSize, 0);\n\n    sendImageSize = function sendImageSize() {\n      sendImageSizeDebouncer.normalCall();\n    }; // Make sure sendImageSize actually gets called before the inputBatchSender\n    // sends data to the server.\n\n\n    inputBatchSender.lastChanceCallback.push(function () {\n      if (sendImageSizeDebouncer.isPending()) sendImageSizeDebouncer.immediateCall();\n    }); // A version of sendImageSize which debounces for longer.\n\n    sendImageSize2 = debounce(200, sendImageSize); // Return true if the object or one of its ancestors in the DOM tree has\n    // style='display:none'; otherwise return false.\n\n    function isHidden(obj) {\n      // null means we've hit the top of the tree. If width or height is\n      // non-zero, then we know that no ancestor has display:none.\n      if (obj === null || obj.offsetWidth !== 0 || obj.offsetHeight !== 0) {\n        return false;\n      } else if (getStyle(obj, \"display\") === \"none\") {\n        return true;\n      } else {\n        return isHidden(obj.parentNode);\n      }\n    }\n\n    var lastKnownVisibleOutputs = {}; // Set initial state of outputs to hidden, if needed\n\n    $(\".shiny-bound-output\").each(function () {\n      var id = getIdFromEl(this);\n\n      if (isHidden(this)) {\n        initialValues[\".clientdata_output_\" + id + \"_hidden\"] = true;\n      } else {\n        lastKnownVisibleOutputs[id] = true;\n        initialValues[\".clientdata_output_\" + id + \"_hidden\"] = false;\n      }\n    }); // Send update when hidden state changes\n\n    function doSendOutputHiddenState() {\n      var visibleOutputs = {};\n      $(\".shiny-bound-output\").each(function () {\n        var id = getIdFromEl(this);\n        delete lastKnownVisibleOutputs[id]; // Assume that the object is hidden when width and height are 0\n\n        var hidden = isHidden(this),\n            evt = {\n          type: \"shiny:visualchange\",\n          visible: !hidden\n        };\n\n        if (hidden) {\n          inputs.setInput(\".clientdata_output_\" + id + \"_hidden\", true);\n        } else {\n          visibleOutputs[id] = true;\n          inputs.setInput(\".clientdata_output_\" + id + \"_hidden\", false);\n        }\n\n        var $this = $(this);\n        evt.binding = $this.data(\"shiny-output-binding\");\n        $this.trigger(evt);\n      }); // Anything left in lastKnownVisibleOutputs is orphaned\n\n      for (var name in lastKnownVisibleOutputs) {\n        if (lastKnownVisibleOutputs.hasOwnProperty(name)) inputs.setInput(\".clientdata_output_\" + name + \"_hidden\", true);\n      } // Update the visible outputs for next time\n\n\n      lastKnownVisibleOutputs = visibleOutputs;\n    } // sendOutputHiddenState gets called each time DOM elements are shown or\n    // hidden. This can be in the hundreds or thousands of times at startup.\n    // We'll debounce it, so that we do the actual work once per tick.\n\n\n    var sendOutputHiddenStateDebouncer = new Debouncer(null, doSendOutputHiddenState, 0);\n\n    function sendOutputHiddenState() {\n      sendOutputHiddenStateDebouncer.normalCall();\n    } // We need to make sure doSendOutputHiddenState actually gets called before\n    // the inputBatchSender sends data to the server. The lastChanceCallback\n    // here does that - if the debouncer has a pending call, flush it.\n\n\n    inputBatchSender.lastChanceCallback.push(function () {\n      if (sendOutputHiddenStateDebouncer.isPending()) sendOutputHiddenStateDebouncer.immediateCall();\n    }); // Given a namespace and a handler function, return a function that invokes\n    // the handler only when e's namespace matches. For example, if the\n    // namespace is \"bs\", it would match when e.namespace is \"bs\" or \"bs.tab\".\n    // If the namespace is \"bs.tab\", it would match for \"bs.tab\", but not \"bs\".\n\n    function filterEventsByNamespace(namespace, handler) {\n      for (var _len8 = arguments.length, args = new Array(_len8 > 2 ? _len8 - 2 : 0), _key8 = 2; _key8 < _len8; _key8++) {\n        args[_key8 - 2] = arguments[_key8];\n      }\n\n      namespace = namespace.split(\".\");\n      return function (e) {\n        var eventNamespace = e.namespace.split(\".\"); // If any of the namespace strings aren't present in this event, quit.\n\n        for (var i = 0; i < namespace.length; i++) {\n          if (eventNamespace.indexOf(namespace[i]) === -1) return;\n        }\n\n        handler.apply(this, [namespace, handler].concat(args));\n      };\n    } // The size of each image may change either because the browser window was\n    // resized, or because a tab was shown/hidden (hidden elements report size\n    // of 0x0). It's OK to over-report sizes because the input pipeline will\n    // filter out values that haven't changed.\n\n\n    $(window).resize(debounce(500, sendImageSize)); // Need to register callbacks for each Bootstrap 3 class.\n\n    var bs3classes = [\"modal\", \"dropdown\", \"tab\", \"tooltip\", \"popover\", \"collapse\"];\n    $.each(bs3classes, function (idx, classname) {\n      $(document.body).on(\"shown.bs.\" + classname + \".sendImageSize\", \"*\", filterEventsByNamespace(\"bs\", sendImageSize));\n      $(document.body).on(\"shown.bs.\" + classname + \".sendOutputHiddenState \" + \"hidden.bs.\" + classname + \".sendOutputHiddenState\", \"*\", filterEventsByNamespace(\"bs\", sendOutputHiddenState));\n    }); // This is needed for Bootstrap 2 compatibility and for non-Bootstrap\n    // related shown/hidden events (like conditionalPanel)\n\n    $(document.body).on(\"shown.sendImageSize\", \"*\", sendImageSize);\n    $(document.body).on(\"shown.sendOutputHiddenState hidden.sendOutputHiddenState\", \"*\", sendOutputHiddenState); // Send initial pixel ratio, and update it if it changes\n\n    initialValues[\".clientdata_pixelratio\"] = pixelRatio();\n    $(window).resize(function () {\n      inputs.setInput(\".clientdata_pixelratio\", pixelRatio());\n    }); // Send initial URL\n\n    initialValues[\".clientdata_url_protocol\"] = window.location.protocol;\n    initialValues[\".clientdata_url_hostname\"] = window.location.hostname;\n    initialValues[\".clientdata_url_port\"] = window.location.port;\n    initialValues[\".clientdata_url_pathname\"] = window.location.pathname; // Send initial URL search (query string) and update it if it changes\n\n    initialValues[\".clientdata_url_search\"] = window.location.search;\n    $(window).on(\"pushstate\", function (e) {\n      inputs.setInput(\".clientdata_url_search\", window.location.search);\n    });\n    $(window).on(\"popstate\", function (e) {\n      inputs.setInput(\".clientdata_url_search\", window.location.search);\n    }); // This is only the initial value of the hash. The hash can change, but\n    // a reactive version of this isn't sent because watching for changes can\n    // require polling on some browsers. The JQuery hashchange plugin can be\n    // used if this capability is important.\n\n    initialValues[\".clientdata_url_hash_initial\"] = window.location.hash;\n    initialValues[\".clientdata_url_hash\"] = window.location.hash;\n    $(window).on(\"hashchange\", function (e) {\n      inputs.setInput(\".clientdata_url_hash\", window.location.hash);\n    }); // The server needs to know what singletons were rendered as part of\n    // the page loading\n\n    var singletonText = initialValues[\".clientdata_singletons\"] = $('script[type=\"application/shiny-singletons\"]').text();\n    singletons.registerNames(singletonText.split(/,/));\n    var dependencyText = $('script[type=\"application/html-dependencies\"]').text();\n    $.each(dependencyText.split(/;/), function (i, depStr) {\n      var match = /\\s*^(.+)\\[(.+)\\]\\s*$/.exec(depStr);\n\n      if (match) {\n        registerDependency(match[1], match[2]);\n      }\n    }); // We've collected all the initial values--start the server process!\n\n    inputsNoResend.reset(initialValues);\n    shinyapp.connect(initialValues);\n    $(document).one(\"shiny:connected\", function () {\n      initDeferredIframes();\n    });\n  } // function initShiny()\n  // Give any deferred iframes a chance to load.\n\n\n  function initDeferredIframes() {\n    if (!window.Shiny || !window.Shiny.shinyapp || !window.Shiny.shinyapp.isConnected()) {\n      // If somehow we accidentally call this before the server connection is\n      // established, just ignore the call. At the time of this writing it\n      // doesn't happen, but it's easy to imagine a later refactoring putting\n      // us in this situation and it'd be hard to notice with either manual\n      // testing or automated tests, because the only effect is on HTTP request\n      // timing. (Update: Actually Aron saw this being called without even\n      // window.Shiny being defined, but it was hard to repro.)\n      return;\n    }\n\n    $(\".shiny-frame-deferred\").each(function (i, el) {\n      var $el = $(el);\n      $el.removeClass(\"shiny-frame-deferred\");\n      $el.attr(\"src\", $el.attr(\"data-deferred-src\"));\n      $el.attr(\"data-deferred-src\", null);\n    });\n  }\n\n  $(function () {\n    // Init Shiny a little later than document ready, so user code can\n    // run first (i.e. to register bindings)\n    setTimeout(initShiny, 1);\n  }); // \"reactlog.js\"\n\n  $(document).on(\"keydown\", function (e) {\n    if (e.which !== 114 || !e.ctrlKey && !e.metaKey || e.shiftKey || e.altKey) return;\n    var url = \"reactlog?w=\" + window.escape(Shiny.shinyapp.config.workerId) + \"&s=\" + window.escape(Shiny.shinyapp.config.sessionId);\n    window.open(url);\n    e.preventDefault();\n  });\n  $(document).on(\"keydown\", function (e) {\n    if ( // if not one of the key combos below\n    !( // cmd/ctrl + fn + f4\n    e.which === 115 && (e.ctrlKey || e.metaKey) && !e.shiftKey && !e.altKey || // cmd/ctrl + shift + fn + f3\n    e.which === 114 && (e.ctrlKey || e.metaKey) && e.shiftKey && !e.altKey)) {\n      return;\n    }\n\n    var url = \"reactlog/mark?w=\" + window.escape(Shiny.shinyapp.config.workerId) + \"&s=\" + window.escape(Shiny.shinyapp.config.sessionId); // send notification\n\n    $.get(url, function (result) {\n      if (result !== \"marked\") return;\n      var html = '<span id=\"shiny-reactlog-mark-text\">Marked time point in reactlog</span>';\n      Shiny.notifications.show({\n        html: html,\n        closeButton: true\n      });\n    }).fail(function () {\n      // found returned error while marking, should open webpage\n      window.open(url);\n    });\n    e.preventDefault();\n  }); // \"_end.js\"\n  // \u221A\n}\n\nexport { main };", "import $ from \"jquery\";\n\nfunction disableFormSubmission() {\n  // disable form submissions\n  $(document).on(\"submit\", \"form:not([action])\", function (e) {\n    e.preventDefault();\n  });\n}\n\nexport { disableFormSubmission };", "import $ from \"jquery\";\n\nfunction trackHistory() {\n  var origPushState = window.history.pushState;\n\n  window.history.pushState = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var result = origPushState.apply(this, args);\n    $(document).trigger(\"pushstate\");\n    return result;\n  };\n}\n\nexport { trackHistory };", "'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n", "var $ = require('../internals/export');\nvar parseIntImplementation = require('../internals/number-parse-int');\n\n// `parseInt` method\n// https://tc39.es/ecma262/#sec-parseint-string-radix\n$({ global: true, forced: parseInt != parseIntImplementation }, {\n  parseInt: parseIntImplementation\n});\n", "import \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport $ from \"jquery\";\nimport { isIE, setIsQt, setIsIE, setIEVersion } from \"../utils/browser\";\nimport { userAgent } from \"../utils/userAgent\";\n\nfunction getIEVersion() {\n  var msie = userAgent.indexOf(\"MSIE \");\n\n  if (isIE() && msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(userAgent.substring(msie + 5, userAgent.indexOf(\".\", msie)), 10);\n  }\n\n  var trident = userAgent.indexOf(\"Trident/\");\n\n  if (trident > 0) {\n    // IE 11 => return version number\n    var rv = userAgent.indexOf(\"rv:\");\n    return parseInt(userAgent.substring(rv + 3, userAgent.indexOf(\".\", rv)), 10);\n  }\n\n  return -1;\n}\n\nfunction determineBrowserInfo() {\n  // For easy handling of Qt quirks using CSS\n  if (/\\bQt\\//.test(userAgent)) {\n    $(document.documentElement).addClass(\"qt\");\n    setIsQt(true);\n  } else {\n    setIsQt(false);\n  } // Enable special treatment for Qt 5 quirks on Linux\n\n\n  if (/\\bQt\\/5/.test(userAgent) && /Linux/.test(userAgent)) {\n    $(document.documentElement).addClass(\"qt5\");\n  } // Detect IE and older (pre-Chromium) Edge\n\n\n  setIsIE(/MSIE|Trident|Edge/.test(userAgent));\n  setIEVersion(getIEVersion());\n}\n\nexport { determineBrowserInfo };", "var isQtVal = false;\nvar isIEVal = false;\nvar IEVersionVal = -1;\n\nfunction setIsQt(isQt) {\n  isQtVal = isQt;\n}\n\nfunction setIsIE(isIE) {\n  isIEVal = isIE;\n}\n\nfunction setIEVersion(IEVersion_) {\n  IEVersionVal = IEVersion_;\n}\n\nfunction isQt() {\n  return isQtVal;\n}\n\nfunction isIE() {\n  return isIEVal;\n}\n\nfunction IEVersion() {\n  return IEVersionVal;\n}\n\nexport { isQt, isIE, IEVersion, setIsQt, setIsIE, setIEVersion };", "var userAgentVal;\n\nfunction setUserAgent(userAgent) {\n  userAgentVal = userAgent;\n}\n\nexport { userAgentVal as userAgent, setUserAgent };", "function windowShiny() {\n  return window[\"Shiny\"] || {};\n}\n\nexport { windowShiny };", "'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar thisNumberValue = require('../internals/this-number-value');\n\nvar nativeToPrecision = 1.0.toPrecision;\n\nvar FORCED = fails(function () {\n  // IE7-\n  return nativeToPrecision.call(1, undefined) !== '1';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToPrecision.call({});\n});\n\n// `Number.prototype.toPrecision` method\n// https://tc39.es/ecma262/#sec-number.prototype.toprecision\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toPrecision: function toPrecision(precision) {\n    return precision === undefined\n      ? nativeToPrecision.call(thisNumberValue(this))\n      : nativeToPrecision.call(thisNumberValue(this), precision);\n  }\n});\n", "var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n", "var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n", "var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n", "import \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.number.to-precision.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.parse-float.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport $ from \"jquery\";\nimport { windowDevicePixelRatio } from \"../window/pixelRatio\";\nimport { makeBlob } from \"./blob\";\n\nfunction escapeHTML(str) {\n  var escaped = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    // eslint-disable-next-line prettier/prettier\n    \"\\\"\": \"&quot;\",\n    \"'\": \"&#039;\",\n    \"/\": \"&#x2F;\"\n  };\n  return str.replace(/[&<>'\"/]/g, function (m) {\n    return escaped[m];\n  });\n}\n\nfunction randomId() {\n  return Math.floor(0x100000000 + Math.random() * 0xf00000000).toString(16);\n}\n\nfunction strToBool(str) {\n  if (!str || !str.toLowerCase) return undefined;\n\n  switch (str.toLowerCase()) {\n    case \"true\":\n      return true;\n\n    case \"false\":\n      return false;\n\n    default:\n      return undefined;\n  }\n} // A wrapper for getComputedStyle that is compatible with older browsers.\n// This is significantly faster than jQuery's .css() function.\n\n\nfunction getStyle(el, styleProp) {\n  var x = undefined; // Old, IE 5+ attribute only - https://developer.mozilla.org/en-US/docs/Web/API/Element/currentStyle\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n\n  if (el.currentStyle) x = el.currentStyle[styleProp];else if (window.getComputedStyle) {\n    // getComputedStyle can return null when we're inside a hidden iframe on\n    // Firefox; don't attempt to retrieve style props in this case.\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    var style = document.defaultView.getComputedStyle(el, null);\n    if (style) x = style.getPropertyValue(styleProp);\n  }\n  return x;\n} // Convert a number to a string with leading zeros\n\n\nfunction padZeros(n, digits) {\n  var str = n.toString();\n\n  while (str.length < digits) {\n    str = \"0\" + str;\n  }\n\n  return str;\n} // Round to a specified number of significant digits.\n\n\nfunction roundSignif(x) {\n  var digits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  if (digits < 1) throw \"Significant digits must be at least 1.\"; // This converts to a string and back to a number, which is inelegant, but\n  // is less prone to FP rounding error than an alternate method which used\n  // Math.round().\n\n  return parseFloat(x.toPrecision(digits));\n} // Take a string with format \"YYYY-MM-DD\" and return a Date object.\n// IE8 and QTWebKit don't support YYYY-MM-DD, but they support YYYY/MM/DD\n\n\nfunction parseDate(dateString) {\n  var date = new Date(dateString);\n\n  if (date.toString() === \"Invalid Date\") {\n    date = new Date(dateString.replace(/-/g, \"/\"));\n  }\n\n  return date;\n} // Given a Date object, return a string in yyyy-mm-dd format, using the\n// UTC date. This may be a day off from the date in the local time zone.\n\n\nfunction formatDateUTC(date) {\n  if (date instanceof Date) {\n    return date.getUTCFullYear() + \"-\" + padZeros(date.getUTCMonth() + 1, 2) + \"-\" + padZeros(date.getUTCDate(), 2);\n  } else {\n    return null;\n  }\n} // Given an element and a function(width, height), returns a function(). When\n// the output function is called, it calls the input function with the offset\n// width and height of the input element--but only if the size of the element\n// is non-zero and the size is different than the last time the output\n// function was called.\n//\n// Basically we are trying to filter out extraneous calls to func, so that\n// when the window size changes or whatever, we don't run resize logic for\n// elements that haven't actually changed size or aren't visible anyway.\n\n\nfunction makeResizeFilter(el, func) {\n  var lastSize = {};\n  return function () {\n    var size = {\n      w: el.offsetWidth,\n      h: el.offsetHeight\n    };\n    if (size.w === 0 && size.h === 0) return;\n    if (size.w === lastSize.w && size.h === lastSize.h) return;\n    lastSize = size;\n    func(size.w, size.h);\n  };\n}\n\nfunction pixelRatio() {\n  if (windowDevicePixelRatio()) {\n    return Math.round(windowDevicePixelRatio() * 100) / 100;\n  } else {\n    return 1;\n  }\n} // Takes a string expression and returns a function that takes an argument.\n//\n// When the function is executed, it will evaluate that expression using\n// \"with\" on the argument value, and return the result.\n\n\nscopeExprToFunc.call;\n\nfunction scopeExprToFunc(expr) {\n  /*jshint evil: true */\n  var exprEscaped = expr.replace(/[\\\\\"']/g, \"\\\\$&\") // eslint-disable-next-line no-control-regex\n  .replace(/\\u0000/g, \"\\\\0\").replace(/\\n/g, \"\\\\n\").replace(/\\r/g, \"\\\\r\") // \\b has a special meaning; need [\\b] to match backspace char.\n  .replace(/[\\b]/g, \"\\\\b\");\n  var func;\n\n  try {\n    func = new Function(\"with (this) {\\n        try {\\n          return (\".concat(expr, \");\\n        } catch (e) {\\n          console.error('Error evaluating expression: \").concat(exprEscaped, \"');\\n          throw e;\\n        }\\n      }\"));\n  } catch (e) {\n    console.error(\"Error parsing expression: \" + expr);\n    throw e;\n  }\n\n  return function (scope) {\n    return func.call(scope);\n  };\n}\n\nfunction asArray(value) {\n  if (value === null || value === undefined) return [];\n  if (Array.isArray(value)) return value;\n  return [value];\n} // We need a stable sorting algorithm for ordering\n// bindings by priority and insertion order.\n\n\nfunction mergeSort(list, sortfunc) {\n  function merge(sortfunc, a, b) {\n    var ia = 0;\n    var ib = 0;\n    var sorted = [];\n\n    while (ia < a.length && ib < b.length) {\n      if (sortfunc(a[ia], b[ib]) <= 0) {\n        sorted.push(a[ia++]);\n      } else {\n        sorted.push(b[ib++]);\n      }\n    }\n\n    while (ia < a.length) {\n      sorted.push(a[ia++]);\n    }\n\n    while (ib < b.length) {\n      sorted.push(b[ib++]);\n    }\n\n    return sorted;\n  } // Don't mutate list argument\n\n\n  list = list.slice(0);\n\n  for (var chunkSize = 1; chunkSize < list.length; chunkSize *= 2) {\n    for (var i = 0; i < list.length; i += chunkSize * 2) {\n      var listA = list.slice(i, i + chunkSize);\n      var listB = list.slice(i + chunkSize, i + chunkSize * 2);\n      var merged = merge(sortfunc, listA, listB);\n      var args = [i, merged.length];\n      Array.prototype.push.apply(args, merged);\n      Array.prototype.splice.apply(list, args);\n    }\n  }\n\n  return list;\n} // Escape jQuery selector metacharacters: !\"#$%&'()*+,./:;<=>?@[\\]^`{|}~\n\n\nvar $escape = function $escape(val) {\n  return val.replace(/([!\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~])/g, \"\\\\$1\");\n}; // Maps a function over an object, preserving keys. Like the mapValues\n// function from lodash.\n\n\nfunction mapValues(obj, f) {\n  var newObj = {};\n\n  for (var _key in obj) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (obj.hasOwnProperty(_key)) newObj[_key] = f(obj[_key], _key, obj);\n  }\n\n  return newObj;\n} // This is does the same as Number.isNaN, but that function unfortunately does\n// not exist in any version of IE.\n\n\nfunction isnan(x) {\n  return typeof x === \"number\" && isNaN(x);\n} // Binary equality function used by the equal function.\n\n\nfunction _equal(x, y) {\n  if ($.type(x) === \"object\" && $.type(y) === \"object\") {\n    if (Object.keys(x).length !== Object.keys(y).length) return false;\n\n    for (var prop in x) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (!y.hasOwnProperty(prop) || !_equal(x[prop], y[prop])) return false;\n    }\n\n    return true;\n  } else if ($.type(x) === \"array\" && $.type(y) === \"array\") {\n    if (x.length !== y.length) return false;\n\n    for (var i = 0; i < x.length; i++) {\n      if (!_equal(x[i], y[i])) return false;\n    }\n\n    return true;\n  } else {\n    return x === y;\n  }\n} // Structural or \"deep\" equality predicate. Tests two or more arguments for\n// equality, traversing arrays and objects (as determined by $.type) as\n// necessary.\n//\n// Objects other than objects and arrays are tested for equality using ===.\n\n\nfunction equal() {\n  if (arguments.length < 2) throw new Error(\"equal requires at least two arguments.\");\n\n  for (var i = 0; i < arguments.length - 1; i++) {\n    if (!_equal(i < 0 || arguments.length <= i ? undefined : arguments[i], i + 1 < 0 || arguments.length <= i + 1 ? undefined : arguments[i + 1])) return false;\n  }\n\n  return true;\n} // Compare version strings like \"1.0.1\", \"1.4-2\". `op` must be a string like\n// \"==\" or \"<\".\n\n\nvar compareVersion = function compareVersion(a, op, b) {\n  function versionParts(ver) {\n    return (ver + \"\").replace(/-/, \".\").replace(/(\\.0)+[^.]*$/, \"\").split(\".\");\n  }\n\n  function cmpVersion(a, b) {\n    a = versionParts(a);\n    b = versionParts(b);\n    var len = Math.min(a.length, b.length);\n    var cmp;\n\n    for (var i = 0; i < len; i++) {\n      cmp = parseInt(a[i], 10) - parseInt(b[i], 10);\n\n      if (cmp !== 0) {\n        return cmp;\n      }\n    }\n\n    return a.length - b.length;\n  }\n\n  var diff = cmpVersion(a, b);\n  if (op === \"==\") return diff === 0;else if (op === \">=\") return diff >= 0;else if (op === \">\") return diff > 0;else if (op === \"<=\") return diff <= 0;else if (op === \"<\") return diff < 0;else throw \"Unknown operator: \".concat(op);\n};\n\nfunction updateLabel(labelTxt, labelNode) {\n  // Only update if label was specified in the update method\n  if (typeof labelTxt === \"undefined\") return;\n\n  if (labelNode.length !== 1) {\n    throw new Error(\"labelNode must be of length 1\");\n  } // Should the label be empty?\n\n\n  var emptyLabel = Array.isArray(labelTxt) && labelTxt.length === 0;\n\n  if (emptyLabel) {\n    labelNode.addClass(\"shiny-label-null\");\n  } else {\n    labelNode.text(labelTxt);\n    labelNode.removeClass(\"shiny-label-null\");\n  }\n} // Compute the color property of an a tag, scoped within the element\n\n\nfunction getComputedLinkColor(el) {\n  var a = document.createElement(\"a\");\n  a.href = \"/\";\n  var div = document.createElement(\"div\");\n  div.style.setProperty(\"position\", \"absolute\", \"important\");\n  div.style.setProperty(\"top\", \"-1000px\", \"important\");\n  div.style.setProperty(\"left\", \"0\", \"important\");\n  div.style.setProperty(\"width\", \"30px\", \"important\");\n  div.style.setProperty(\"height\", \"10px\", \"important\");\n  div.appendChild(a);\n  el.appendChild(div);\n  var linkColor = window.getComputedStyle(a).getPropertyValue(\"color\");\n  el.removeChild(div);\n  return linkColor;\n}\n\nfunction isBS3() {\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return !window.bootstrap;\n}\n\nexport { escapeHTML, randomId, strToBool, getStyle, padZeros, roundSignif, parseDate, formatDateUTC, makeResizeFilter, pixelRatio, scopeExprToFunc, asArray, mergeSort, $escape, mapValues, isnan, _equal, equal, compareVersion, updateLabel, getComputedLinkColor, makeBlob, isBS3 };", "'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n", "'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n});\n", "'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n", "function windowDevicePixelRatio() {\n  return window.devicePixelRatio;\n}\n\nexport { windowDevicePixelRatio };", "import $ from \"jquery\";\nvar BlobBuilder;\n\nfunction setBlobBuilder(BlobBuilder_) {\n  BlobBuilder = BlobBuilder_;\n  return;\n}\n\nfunction makeBlob(parts) {\n  // Browser compatibility is a mess right now. The code as written works in\n  // a variety of modern browsers, but sadly gives a deprecation warning\n  // message on the console in current versions (as of this writing) of\n  // Chrome.\n  // Safari 6.0 (8536.25) on Mac OS X 10.8.1:\n  // Has Blob constructor but it doesn't work with ArrayBufferView args\n  // Google Chrome 21.0.1180.81 on Xubuntu 12.04:\n  // Has Blob constructor, accepts ArrayBufferView args, accepts ArrayBuffer\n  // but with a deprecation warning message\n  // Firefox 15.0 on Xubuntu 12.04:\n  // Has Blob constructor, accepts both ArrayBuffer and ArrayBufferView args\n  // Chromium 18.0.1025.168 (Developer Build 134367 Linux) on Xubuntu 12.04:\n  // No Blob constructor. Has WebKitBlobBuilder.\n  try {\n    return new Blob(parts);\n  } catch (e) {\n    var blobBuilder = new BlobBuilder();\n    $.each(parts, function (i, part) {\n      blobBuilder.append(part);\n    });\n    return blobBuilder.getBlob();\n  }\n}\n\nexport { makeBlob, setBlobBuilder };", "import { $escape, compareVersion } from \"./utils\";\nvar Shiny;\n\nfunction setShiny(Shiny_) {\n  Shiny = Shiny_; // `process.env.SHINY_VERSION` is overwritten to the Shiny version at build time.\n  // During testing, the `Shiny.version` will be `\"development\"`\n\n  Shiny.version = process.env.SHINY_VERSION || \"development\";\n  Shiny.$escape = $escape;\n  Shiny.compareVersion = compareVersion;\n}\n\nexport { Shiny, setShiny };", "function windowBlobBuilder() {\n  var blob = // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  window.BlobBuilder || // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  window.WebKitBlobBuilder || // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  window.MozBlobBuilder || window.MSBlobBuilder;\n  return blob;\n}\n\nexport { windowBlobBuilder };", "function windowUserAgent() {\n  return window.navigator.userAgent;\n}\n\nexport { windowUserAgent };", "import { disableFormSubmission } from \"./disableForm\";\nimport { trackHistory } from \"./history\";\nimport { determineBrowserInfo } from \"./browser\";\nimport { windowShiny } from \"../window/libraries\";\nimport { setShiny } from \"../shiny\";\nimport { setBlobBuilder } from \"../utils/blob\";\nimport { windowBlobBuilder } from \"../window/blobBuilder\";\nimport { setUserAgent } from \"../utils/userAgent\";\nimport { windowUserAgent } from \"../window/userAgent\";\n\nfunction init() {\n  setShiny(windowShiny());\n  setUserAgent(windowUserAgent()); // before determineBrowserInfo()\n\n  determineBrowserInfo();\n  trackHistory();\n  disableFormSubmission();\n  setBlobBuilder(windowBlobBuilder());\n}\n\nexport { init };", "'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n", "'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar arrayBufferModule = require('../internals/array-buffer');\nvar setSpecies = require('../internals/set-species');\n\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar ArrayBuffer = arrayBufferModule[ARRAY_BUFFER];\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\n\n// `ArrayBuffer` constructor\n// https://tc39.es/ecma262/#sec-arraybuffer-constructor\n$({ global: true, forced: NativeArrayBuffer !== ArrayBuffer }, {\n  ArrayBuffer: ArrayBuffer\n});\n\nsetSpecies(ARRAY_BUFFER);\n", "'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anObject = require('../internals/an-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar nativeArrayBufferSlice = ArrayBuffer.prototype.slice;\n\nvar INCORRECT_SLICE = fails(function () {\n  return !new ArrayBuffer(2).slice(1, undefined).byteLength;\n});\n\n// `ArrayBuffer.prototype.slice` method\n// https://tc39.es/ecma262/#sec-arraybuffer.prototype.slice\n$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {\n  slice: function slice(start, end) {\n    if (nativeArrayBufferSlice !== undefined && end === undefined) {\n      return nativeArrayBufferSlice.call(anObject(this), start); // FF fix\n    }\n    var length = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));\n    var viewSource = new DataView(this);\n    var viewTarget = new DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewTarget.setUint8(index++, viewSource.getUint8(first++));\n    } return result;\n  }\n});\n", "var $ = require('../internals/export');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\n\n// `DataView` constructor\n// https://tc39.es/ecma262/#sec-dataview-constructor\n$({ global: true, forced: !NATIVE_ARRAY_BUFFER }, {\n  DataView: ArrayBufferModule.DataView\n});\n", "var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n", "'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n", "var $ = require('../internals/export');\nvar $entries = require('../internals/object-to-array').entries;\n\n// `Object.entries` method\n// https://tc39.es/ecma262/#sec-object.entries\n$({ target: 'Object', stat: true }, {\n  entries: function entries(O) {\n    return $entries(O);\n  }\n});\n", "'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n", "'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar sameValue = require('../internals/same-value');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@search logic\nfixRegExpWellKnownSymbolLogic('search', 1, function (SEARCH, nativeSearch, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.es/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = requireObjectCoercible(this);\n      var searcher = regexp == undefined ? undefined : regexp[SEARCH];\n      return searcher !== undefined ? searcher.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative(nativeSearch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n", "'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n", "var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n", "// Generic driver class for doing chunk-wise asynchronous processing of a\n// FileList object. Subclass/clone it and override the `on*` functions to\n// make it do something useful.\nvar FileProcessor = function FileProcessor(files) {\n  this.files = files;\n  this.fileIndex = -1; // Currently need to use small chunk size because R-Websockets can't\n  // handle continuation frames\n\n  this.aborted = false;\n  this.completed = false; // TODO: Register error/abort callbacks\n\n  this.$run();\n};\n\n(function () {\n  // Begin callbacks. Subclassers/cloners may override any or all of these.\n  this.onBegin = function (files, cont) {\n    setTimeout(cont, 0);\n  };\n\n  this.onFile = function (file, cont) {\n    setTimeout(cont, 0);\n  };\n\n  this.onComplete = function () {\n    return;\n  };\n\n  this.onAbort = function () {\n    return;\n  }; // End callbacks\n  // Aborts processing, unless it's already completed\n\n\n  this.abort = function () {\n    if (this.completed || this.aborted) return;\n    this.aborted = true;\n    this.onAbort();\n  }; // Returns a bound function that will call this.$run one time.\n\n\n  this.$getRun = function () {\n    var _this = this;\n\n    var called = false;\n    return function () {\n      if (called) return;\n      called = true;\n\n      _this.$run();\n    };\n  }; // This function will be called multiple times to advance the process.\n  // It relies on the state of the object's fields to know what to do next.\n\n\n  this.$run = function () {\n    if (this.aborted || this.completed) return;\n\n    if (this.fileIndex < 0) {\n      // Haven't started yet--begin\n      this.fileIndex = 0;\n      this.onBegin(this.files, this.$getRun());\n      return;\n    }\n\n    if (this.fileIndex === this.files.length) {\n      // Just ended\n      this.completed = true;\n      this.onComplete();\n      return;\n    } // If we got here, then we have a file to process, or we are\n    // in the middle of processing a file, or have just finished\n    // processing a file.\n\n\n    var file = this.files[this.fileIndex++];\n    this.onFile(file, this.$getRun());\n  };\n}).call(FileProcessor.prototype);\nexport { FileProcessor };", "import { init } from \"./initialize\";\nimport { Shiny } from \"./shiny\";\nimport { main } from \"./main\";\ninit();\nmain(); // Set Shiny globally\n\nwindow[\"Shiny\"] = Shiny;\nwindow.console.log(\"Shiny version: \", Shiny.version);"],
  "mappings": "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",
  "names": []
}
